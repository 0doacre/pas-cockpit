(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();function ku(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const me={},js=[],nn=()=>{},dd=()=>!1,Na=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ou=e=>e.startsWith("onUpdate:"),Ge=Object.assign,Iu=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Dm=Object.prototype.hasOwnProperty,ce=(e,t)=>Dm.call(e,t),Yt=Array.isArray,Ws=e=>Fa(e)==="[object Map]",pd=e=>Fa(e)==="[object Set]",Qt=e=>typeof e=="function",Be=e=>typeof e=="string",An=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",gd=e=>(we(e)||Qt(e))&&Qt(e.then)&&Qt(e.catch),md=Object.prototype.toString,Fa=e=>md.call(e),Tm=e=>Fa(e).slice(8,-1),_d=e=>Fa(e)==="[object Object]",za=e=>Be(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,jr=ku(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ha=e=>{const t=Object.create(null);return(i=>t[i]||(t[i]=e(i)))},Pm=/-\w/g,Wn=Ha(e=>e.replace(Pm,t=>t.slice(1).toUpperCase())),Lm=/\B([A-Z])/g,$n=Ha(e=>e.replace(Lm,"-$1").toLowerCase()),vd=Ha(e=>e.charAt(0).toUpperCase()+e.slice(1)),Pl=Ha(e=>e?`on${vd(e)}`:""),Hn=(e,t)=>!Object.is(e,t),ea=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},yd=(e,t,i,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:i})},Ru=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Xc;const Ua=()=>Xc||(Xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Es(e){if(Yt(e)){const t={};for(let i=0;i<e.length;i++){const n=e[i],r=Be(n)?Im(n):Es(n);if(r)for(const o in r)t[o]=r[o]}return t}else if(Be(e)||we(e))return e}const Mm=/;(?![^(]*\))/g,km=/:([^]+)/,Om=/\/\*[^]*?\*\//g;function Im(e){const t={};return e.replace(Om,"").split(Mm).forEach(i=>{if(i){const n=i.split(km);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Me(e){let t="";if(Be(e))t=e;else if(Yt(e))for(let i=0;i<e.length;i++){const n=Me(e[i]);n&&(t+=n+" ")}else if(we(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const Rm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Bm=ku(Rm);function bd(e){return!!e||e===""}const xd=e=>!!(e&&e.__v_isRef===!0),Ut=e=>Be(e)?e:e==null?"":Yt(e)||we(e)&&(e.toString===md||!Qt(e.toString))?xd(e)?Ut(e.value):JSON.stringify(e,wd,2):String(e),wd=(e,t)=>xd(t)?wd(e,t.value):Ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[n,r],o)=>(i[Ll(n,o)+" =>"]=r,i),{})}:pd(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>Ll(i))}:An(t)?Ll(t):we(t)&&!Yt(t)&&!_d(t)?String(t):t,Ll=(e,t="")=>{var i;return An(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};let Ke;class Ed{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ke,!t&&Ke&&(this.index=(Ke.scopes||(Ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=Ke;try{return Ke=this,t()}finally{Ke=i}}}on(){++this._on===1&&(this.prevScope=Ke,Ke=this)}off(){this._on>0&&--this._on===0&&(Ke=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(this.effects.length=0,i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Sd(e){return new Ed(e)}function Ad(){return Ke}function Nm(e,t=!1){Ke&&Ke.cleanups.push(e)}let be;const Ml=new WeakSet;class Cd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ke&&Ke.active&&Ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ml.has(this)&&(Ml.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Td(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Kc(this),Pd(this);const t=be,i=zi;be=this,zi=!0;try{return this.fn()}finally{Ld(this),be=t,zi=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fu(t);this.deps=this.depsTail=void 0,Kc(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ml.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uu(this)&&this.run()}get dirty(){return uu(this)}}let Dd=0,Wr,Zr;function Td(e,t=!1){if(e.flags|=8,t){e.next=Zr,Zr=e;return}e.next=Wr,Wr=e}function Bu(){Dd++}function Nu(){if(--Dd>0)return;if(Zr){let t=Zr;for(Zr=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;Wr;){let t=Wr;for(Wr=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=i}}if(e)throw e}function Pd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ld(e){let t,i=e.depsTail,n=i;for(;n;){const r=n.prevDep;n.version===-1?(n===i&&(i=r),Fu(n),Fm(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}e.deps=t,e.depsTail=i}function uu(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Md(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Md(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===eo)||(e.globalVersion=eo,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!uu(e))))return;e.flags|=2;const t=e.dep,i=be,n=zi;be=e,zi=!0;try{Pd(e);const r=e.fn(e._value);(t.version===0||Hn(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{be=i,zi=n,Ld(e),e.flags&=-3}}function Fu(e,t=!1){const{dep:i,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),i.subs===e&&(i.subs=n,!n&&i.computed)){i.computed.flags&=-5;for(let o=i.computed.deps;o;o=o.nextDep)Fu(o,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function Fm(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let zi=!0;const kd=[];function bn(){kd.push(zi),zi=!1}function xn(){const e=kd.pop();zi=e===void 0?!0:e}function Kc(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=be;be=void 0;try{t()}finally{be=i}}}let eo=0;class zm{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class zu{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!be||!zi||be===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==be)i=this.activeLink=new zm(be,this),be.deps?(i.prevDep=be.depsTail,be.depsTail.nextDep=i,be.depsTail=i):be.deps=be.depsTail=i,Od(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const n=i.nextDep;n.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=n),i.prevDep=be.depsTail,i.nextDep=void 0,be.depsTail.nextDep=i,be.depsTail=i,be.deps===i&&(be.deps=n)}return i}trigger(t){this.version++,eo++,this.notify(t)}notify(t){Bu();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{Nu()}}}function Od(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Od(n)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const fa=new WeakMap,vs=Symbol(""),cu=Symbol(""),io=Symbol("");function Qe(e,t,i){if(zi&&be){let n=fa.get(e);n||fa.set(e,n=new Map);let r=n.get(i);r||(n.set(i,r=new zu),r.map=n,r.key=i),r.track()}}function _n(e,t,i,n,r,o){const a=fa.get(e);if(!a){eo++;return}const u=c=>{c&&c.trigger()};if(Bu(),t==="clear")a.forEach(u);else{const c=Yt(e),f=c&&za(i);if(c&&i==="length"){const d=Number(n);a.forEach((_,b)=>{(b==="length"||b===io||!An(b)&&b>=d)&&u(_)})}else switch((i!==void 0||a.has(void 0))&&u(a.get(i)),f&&u(a.get(io)),t){case"add":c?f&&u(a.get("length")):(u(a.get(vs)),Ws(e)&&u(a.get(cu)));break;case"delete":c||(u(a.get(vs)),Ws(e)&&u(a.get(cu)));break;case"set":Ws(e)&&u(a.get(vs));break}}Nu()}function Hm(e,t){const i=fa.get(e);return i&&i.get(t)}function Os(e){const t=ie(e);return t===e?t:(Qe(t,"iterate",io),bi(e)?t:t.map(Hi))}function qa(e){return Qe(e=ie(e),"iterate",io),e}function On(e,t){return wn(e)?Js(yn(e)?Hi(t):t):Hi(t)}const Um={__proto__:null,[Symbol.iterator](){return kl(this,Symbol.iterator,e=>On(this,e))},concat(...e){return Os(this).concat(...e.map(t=>Yt(t)?Os(t):t))},entries(){return kl(this,"entries",e=>(e[1]=On(this,e[1]),e))},every(e,t){return un(this,"every",e,t,void 0,arguments)},filter(e,t){return un(this,"filter",e,t,i=>i.map(n=>On(this,n)),arguments)},find(e,t){return un(this,"find",e,t,i=>On(this,i),arguments)},findIndex(e,t){return un(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return un(this,"findLast",e,t,i=>On(this,i),arguments)},findLastIndex(e,t){return un(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return un(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ol(this,"includes",e)},indexOf(...e){return Ol(this,"indexOf",e)},join(e){return Os(this).join(e)},lastIndexOf(...e){return Ol(this,"lastIndexOf",e)},map(e,t){return un(this,"map",e,t,void 0,arguments)},pop(){return vr(this,"pop")},push(...e){return vr(this,"push",e)},reduce(e,...t){return Jc(this,"reduce",e,t)},reduceRight(e,...t){return Jc(this,"reduceRight",e,t)},shift(){return vr(this,"shift")},some(e,t){return un(this,"some",e,t,void 0,arguments)},splice(...e){return vr(this,"splice",e)},toReversed(){return Os(this).toReversed()},toSorted(e){return Os(this).toSorted(e)},toSpliced(...e){return Os(this).toSpliced(...e)},unshift(...e){return vr(this,"unshift",e)},values(){return kl(this,"values",e=>On(this,e))}};function kl(e,t,i){const n=qa(e),r=n[t]();return n!==e&&!bi(e)&&(r._next=r.next,r.next=()=>{const o=r._next();return o.done||(o.value=i(o.value)),o}),r}const qm=Array.prototype;function un(e,t,i,n,r,o){const a=qa(e),u=a!==e&&!bi(e),c=a[t];if(c!==qm[t]){const _=c.apply(e,o);return u?Hi(_):_}let f=i;a!==e&&(u?f=function(_,b){return i.call(this,On(e,_),b,e)}:i.length>2&&(f=function(_,b){return i.call(this,_,b,e)}));const d=c.call(a,f,n);return u&&r?r(d):d}function Jc(e,t,i,n){const r=qa(e);let o=i;return r!==e&&(bi(e)?i.length>3&&(o=function(a,u,c){return i.call(this,a,u,c,e)}):o=function(a,u,c){return i.call(this,a,On(e,u),c,e)}),r[t](o,...n)}function Ol(e,t,i){const n=ie(e);Qe(n,"iterate",io);const r=n[t](...i);return(r===-1||r===!1)&&nr(i[0])?(i[0]=ie(i[0]),n[t](...i)):r}function vr(e,t,i=[]){bn(),Bu();const n=ie(e)[t].apply(e,i);return Nu(),xn(),n}const Vm=ku("__proto__,__v_isRef,__isVue"),Id=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(An));function jm(e){An(e)||(e=String(e));const t=ie(this);return Qe(t,"has",e),t.hasOwnProperty(e)}class Rd{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,n){if(i==="__v_skip")return t.__v_skip;const r=this._isReadonly,o=this._isShallow;if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return o;if(i==="__v_raw")return n===(r?o?t_:zd:o?Fd:Nd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const a=Yt(t);if(!r){let c;if(a&&(c=Um[i]))return c;if(i==="hasOwnProperty")return jm}const u=Reflect.get(t,i,Pe(t)?t:n);if((An(i)?Id.has(i):Vm(i))||(r||Qe(t,"get",i),o))return u;if(Pe(u)){const c=a&&za(i)?u:u.value;return r&&we(c)?fu(c):c}return we(u)?r?fu(u):Va(u):u}}class Bd extends Rd{constructor(t=!1){super(!1,t)}set(t,i,n,r){let o=t[i];const a=Yt(t)&&za(i);if(!this._isShallow){const f=wn(o);if(!bi(n)&&!wn(n)&&(o=ie(o),n=ie(n)),!a&&Pe(o)&&!Pe(n))return f||(o.value=n),!0}const u=a?Number(i)<t.length:ce(t,i),c=Reflect.set(t,i,n,Pe(t)?t:r);return t===ie(r)&&(u?Hn(n,o)&&_n(t,"set",i,n):_n(t,"add",i,n)),c}deleteProperty(t,i){const n=ce(t,i);t[i];const r=Reflect.deleteProperty(t,i);return r&&n&&_n(t,"delete",i,void 0),r}has(t,i){const n=Reflect.has(t,i);return(!An(i)||!Id.has(i))&&Qe(t,"has",i),n}ownKeys(t){return Qe(t,"iterate",Yt(t)?"length":vs),Reflect.ownKeys(t)}}class Wm extends Rd{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const Zm=new Bd,$m=new Wm,Gm=new Bd(!0);const hu=e=>e,Io=e=>Reflect.getPrototypeOf(e);function Ym(e,t,i){return function(...n){const r=this.__v_raw,o=ie(r),a=Ws(o),u=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,f=r[e](...n),d=i?hu:t?Js:Hi;return!t&&Qe(o,"iterate",c?cu:vs),Ge(Object.create(f),{next(){const{value:_,done:b}=f.next();return b?{value:_,done:b}:{value:u?[d(_[0]),d(_[1])]:d(_),done:b}}})}}function Ro(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Xm(e,t){const i={get(r){const o=this.__v_raw,a=ie(o),u=ie(r);e||(Hn(r,u)&&Qe(a,"get",r),Qe(a,"get",u));const{has:c}=Io(a),f=t?hu:e?Js:Hi;if(c.call(a,r))return f(o.get(r));if(c.call(a,u))return f(o.get(u));o!==a&&o.get(r)},get size(){const r=this.__v_raw;return!e&&Qe(ie(r),"iterate",vs),r.size},has(r){const o=this.__v_raw,a=ie(o),u=ie(r);return e||(Hn(r,u)&&Qe(a,"has",r),Qe(a,"has",u)),r===u?o.has(r):o.has(r)||o.has(u)},forEach(r,o){const a=this,u=a.__v_raw,c=ie(u),f=t?hu:e?Js:Hi;return!e&&Qe(c,"iterate",vs),u.forEach((d,_)=>r.call(o,f(d),f(_),a))}};return Ge(i,e?{add:Ro("add"),set:Ro("set"),delete:Ro("delete"),clear:Ro("clear")}:{add(r){!t&&!bi(r)&&!wn(r)&&(r=ie(r));const o=ie(this);return Io(o).has.call(o,r)||(o.add(r),_n(o,"add",r,r)),this},set(r,o){!t&&!bi(o)&&!wn(o)&&(o=ie(o));const a=ie(this),{has:u,get:c}=Io(a);let f=u.call(a,r);f||(r=ie(r),f=u.call(a,r));const d=c.call(a,r);return a.set(r,o),f?Hn(o,d)&&_n(a,"set",r,o):_n(a,"add",r,o),this},delete(r){const o=ie(this),{has:a,get:u}=Io(o);let c=a.call(o,r);c||(r=ie(r),c=a.call(o,r)),u&&u.call(o,r);const f=o.delete(r);return c&&_n(o,"delete",r,void 0),f},clear(){const r=ie(this),o=r.size!==0,a=r.clear();return o&&_n(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=Ym(r,e,t)}),i}function Hu(e,t){const i=Xm(e,t);return(n,r,o)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(ce(i,r)&&r in n?i:n,r,o)}const Km={get:Hu(!1,!1)},Jm={get:Hu(!1,!0)},Qm={get:Hu(!0,!1)};const Nd=new WeakMap,Fd=new WeakMap,zd=new WeakMap,t_=new WeakMap;function e_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function i_(e){return e.__v_skip||!Object.isExtensible(e)?0:e_(Tm(e))}function Va(e){return wn(e)?e:Uu(e,!1,Zm,Km,Nd)}function n_(e){return Uu(e,!1,Gm,Jm,Fd)}function fu(e){return Uu(e,!0,$m,Qm,zd)}function Uu(e,t,i,n,r){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i_(e);if(o===0)return e;const a=r.get(e);if(a)return a;const u=new Proxy(e,o===2?n:i);return r.set(e,u),u}function yn(e){return wn(e)?yn(e.__v_raw):!!(e&&e.__v_isReactive)}function wn(e){return!!(e&&e.__v_isReadonly)}function bi(e){return!!(e&&e.__v_isShallow)}function nr(e){return e?!!e.__v_raw:!1}function ie(e){const t=e&&e.__v_raw;return t?ie(t):e}function qu(e){return!ce(e,"__v_skip")&&Object.isExtensible(e)&&yd(e,"__v_skip",!0),e}const Hi=e=>we(e)?Va(e):e,Js=e=>we(e)?fu(e):e;function Pe(e){return e?e.__v_isRef===!0:!1}function Ce(e){return Ud(e,!1)}function Hd(e){return Ud(e,!0)}function Ud(e,t){return Pe(e)?e:new s_(e,t)}class s_{constructor(t,i){this.dep=new zu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:ie(t),this._value=i?t:Hi(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,n=this.__v_isShallow||bi(t)||wn(t);t=n?t:ie(t),Hn(t,i)&&(this._rawValue=t,this._value=n?t:Hi(t),this.dep.trigger())}}function Gt(e){return Pe(e)?e.value:e}const r_={get:(e,t,i)=>t==="__v_raw"?e:Gt(Reflect.get(e,t,i)),set:(e,t,i,n)=>{const r=e[t];return Pe(r)&&!Pe(i)?(r.value=i,!0):Reflect.set(e,t,i,n)}};function qd(e){return yn(e)?e:new Proxy(e,r_)}function o_(e){const t=Yt(e)?new Array(e.length):{};for(const i in e)t[i]=l_(e,i);return t}class a_{constructor(t,i,n){this._object=t,this._key=i,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=ie(t);let r=!0,o=t;if(!Yt(t)||!za(String(i)))do r=!nr(o)||bi(o);while(r&&(o=o.__v_raw));this._shallow=r}get value(){let t=this._object[this._key];return this._shallow&&(t=Gt(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Pe(this._raw[this._key])){const i=this._object[this._key];if(Pe(i)){i.value=t;return}}this._object[this._key]=t}get dep(){return Hm(this._raw,this._key)}}function l_(e,t,i){return new a_(e,t,i)}class u_{constructor(t,i,n){this.fn=t,this.setter=i,this._value=void 0,this.dep=new zu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=eo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&be!==this)return Td(this,!0),!0}get value(){const t=this.dep.track();return Md(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function c_(e,t,i=!1){let n,r;return Qt(e)?n=e:(n=e.get,r=e.set),new u_(n,r,i)}const Bo={},da=new WeakMap;let ps;function h_(e,t=!1,i=ps){if(i){let n=da.get(i);n||da.set(i,n=[]),n.push(e)}}function f_(e,t,i=me){const{immediate:n,deep:r,once:o,scheduler:a,augmentJob:u,call:c}=i,f=k=>r?k:bi(k)||r===!1||r===0?vn(k,1):vn(k);let d,_,b,x,C=!1,A=!1;if(Pe(e)?(_=()=>e.value,C=bi(e)):yn(e)?(_=()=>f(e),C=!0):Yt(e)?(A=!0,C=e.some(k=>yn(k)||bi(k)),_=()=>e.map(k=>{if(Pe(k))return k.value;if(yn(k))return f(k);if(Qt(k))return c?c(k,2):k()})):Qt(e)?t?_=c?()=>c(e,2):e:_=()=>{if(b){bn();try{b()}finally{xn()}}const k=ps;ps=d;try{return c?c(e,3,[x]):e(x)}finally{ps=k}}:_=nn,t&&r){const k=_,P=r===!0?1/0:r;_=()=>vn(k(),P)}const T=Ad(),Z=()=>{d.stop(),T&&T.active&&Iu(T.effects,d)};if(o&&t){const k=t;t=(...P)=>{k(...P),Z()}}let w=A?new Array(e.length).fill(Bo):Bo;const F=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(t){const P=d.run();if(r||C||(A?P.some((j,q)=>Hn(j,w[q])):Hn(P,w))){b&&b();const j=ps;ps=d;try{const q=[P,w===Bo?void 0:A&&w[0]===Bo?[]:w,x];w=P,c?c(t,3,q):t(...q)}finally{ps=j}}}else d.run()};return u&&u(F),d=new Cd(_),d.scheduler=a?()=>a(F,!1):F,x=k=>h_(k,!1,d),b=d.onStop=()=>{const k=da.get(d);if(k){if(c)c(k,4);else for(const P of k)P();da.delete(d)}},t?n?F(!0):w=d.run():a?a(F.bind(null,!0),!0):d.run(),Z.pause=d.pause.bind(d),Z.resume=d.resume.bind(d),Z.stop=Z,Z}function vn(e,t=1/0,i){if(t<=0||!we(e)||e.__v_skip||(i=i||new Map,(i.get(e)||0)>=t))return e;if(i.set(e,t),t--,Pe(e))vn(e.value,t,i);else if(Yt(e))for(let n=0;n<e.length;n++)vn(e[n],t,i);else if(pd(e)||Ws(e))e.forEach(n=>{vn(n,t,i)});else if(_d(e)){for(const n in e)vn(e[n],t,i);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&vn(e[n],t,i)}return e}function go(e,t,i,n){try{return n?e(...n):e()}catch(r){ja(r,t,i)}}function sn(e,t,i,n){if(Qt(e)){const r=go(e,t,i,n);return r&&gd(r)&&r.catch(o=>{ja(o,t,i)}),r}if(Yt(e)){const r=[];for(let o=0;o<e.length;o++)r.push(sn(e[o],t,i,n));return r}}function ja(e,t,i,n=!0){const r=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||me;if(t){let u=t.parent;const c=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${i}`;for(;u;){const d=u.ec;if(d){for(let _=0;_<d.length;_++)if(d[_](e,c,f)===!1)return}u=u.parent}if(o){bn(),go(o,null,10,[e,c,f]),xn();return}}d_(e,i,r,n,a)}function d_(e,t,i,n=!0,r=!1){if(r)throw e;console.error(e)}const ui=[];let Ki=-1;const Zs=[];let In=null,zs=0;const Vd=Promise.resolve();let pa=null;function Qs(e){const t=pa||Vd;return e?t.then(this?e.bind(this):e):t}function p_(e){let t=Ki+1,i=ui.length;for(;t<i;){const n=t+i>>>1,r=ui[n],o=no(r);o<e||o===e&&r.flags&2?t=n+1:i=n}return t}function Vu(e){if(!(e.flags&1)){const t=no(e),i=ui[ui.length-1];!i||!(e.flags&2)&&t>=no(i)?ui.push(e):ui.splice(p_(t),0,e),e.flags|=1,jd()}}function jd(){pa||(pa=Vd.then(Zd))}function g_(e){Yt(e)?Zs.push(...e):In&&e.id===-1?In.splice(zs+1,0,e):e.flags&1||(Zs.push(e),e.flags|=1),jd()}function Qc(e,t,i=Ki+1){for(;i<ui.length;i++){const n=ui[i];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ui.splice(i,1),i--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Wd(e){if(Zs.length){const t=[...new Set(Zs)].sort((i,n)=>no(i)-no(n));if(Zs.length=0,In){In.push(...t);return}for(In=t,zs=0;zs<In.length;zs++){const i=In[zs];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}In=null,zs=0}}const no=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Zd(e){try{for(Ki=0;Ki<ui.length;Ki++){const t=ui[Ki];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),go(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ki<ui.length;Ki++){const t=ui[Ki];t&&(t.flags&=-2)}Ki=-1,ui.length=0,Wd(),pa=null,(ui.length||Zs.length)&&Zd()}}let ti=null,$d=null;function ga(e){const t=ti;return ti=e,$d=e&&e.type.__scopeId||null,t}function Hs(e,t=ti,i){if(!t||e._n)return e;const n=(...r)=>{n._d&&va(-1);const o=ga(t);let a;try{a=e(...r)}finally{ga(o),n._d&&va(1)}return a};return n._n=!0,n._c=!0,n._d=!0,n}function ys(e,t){if(ti===null)return e;const i=Xa(ti),n=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,u,c=me]=t[r];o&&(Qt(o)&&(o={mounted:o,updated:o}),o.deep&&vn(a),n.push({dir:o,instance:i,value:a,oldValue:void 0,arg:u,modifiers:c}))}return e}function os(e,t,i,n){const r=e.dirs,o=t&&t.dirs;for(let a=0;a<r.length;a++){const u=r[a];o&&(u.oldValue=o[a].value);let c=u.dir[n];c&&(bn(),sn(c,i,8,[e.el,u,e,t]),xn())}}function m_(e,t){if(ci){let i=ci.provides;const n=ci.parent&&ci.parent.provides;n===i&&(i=ci.provides=Object.create(n)),i[e]=t}}function $r(e,t,i=!1){const n=vp();if(n||bs){let r=bs?bs._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return i&&Qt(t)?t.call(n&&n.proxy):t}}function __(){return!!(vp()||bs)}const v_=Symbol.for("v-scx"),y_=()=>$r(v_);function Bi(e,t,i){return Gd(e,t,i)}function Gd(e,t,i=me){const{immediate:n,deep:r,flush:o,once:a}=i,u=Ge({},i),c=t&&n||!t&&o!=="post";let f;if(ao){if(o==="sync"){const x=y_();f=x.__watcherHandles||(x.__watcherHandles=[])}else if(!c){const x=()=>{};return x.stop=nn,x.resume=nn,x.pause=nn,x}}const d=ci;u.call=(x,C,A)=>sn(x,d,C,A);let _=!1;o==="post"?u.scheduler=x=>{mi(x,d&&d.suspense)}:o!=="sync"&&(_=!0,u.scheduler=(x,C)=>{C?x():Vu(x)}),u.augmentJob=x=>{t&&(x.flags|=4),_&&(x.flags|=2,d&&(x.id=d.uid,x.i=d))};const b=f_(e,t,u);return ao&&(f?f.push(b):c&&b()),b}function b_(e,t,i){const n=this.proxy,r=Be(e)?e.includes(".")?Yd(n,e):()=>n[e]:e.bind(n,n);let o;Qt(t)?o=t:(o=t.handler,i=t);const a=mo(this),u=Gd(r,o.bind(n),i);return a(),u}function Yd(e,t){const i=t.split(".");return()=>{let n=e;for(let r=0;r<i.length&&n;r++)n=n[i[r]];return n}}const x_=Symbol("_vte"),w_=e=>e.__isTeleport,E_=Symbol("_leaveCb");function ju(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ju(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ui(e,t){return Qt(e)?Ge({name:e.name},t,{setup:e}):e}function Xd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ma=new WeakMap;function Gr(e,t,i,n,r=!1){if(Yt(e)){e.forEach((C,A)=>Gr(C,t&&(Yt(t)?t[A]:t),i,n,r));return}if($s(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Gr(e,t,i,n.component.subTree);return}const o=n.shapeFlag&4?Xa(n.component):n.el,a=r?null:o,{i:u,r:c}=e,f=t&&t.r,d=u.refs===me?u.refs={}:u.refs,_=u.setupState,b=ie(_),x=_===me?dd:C=>ce(b,C);if(f!=null&&f!==c){if(th(t),Be(f))d[f]=null,x(f)&&(_[f]=null);else if(Pe(f)){f.value=null;const C=t;C.k&&(d[C.k]=null)}}if(Qt(c))go(c,u,12,[a,d]);else{const C=Be(c),A=Pe(c);if(C||A){const T=()=>{if(e.f){const Z=C?x(c)?_[c]:d[c]:c.value;if(r)Yt(Z)&&Iu(Z,o);else if(Yt(Z))Z.includes(o)||Z.push(o);else if(C)d[c]=[o],x(c)&&(_[c]=d[c]);else{const w=[o];c.value=w,e.k&&(d[e.k]=w)}}else C?(d[c]=a,x(c)&&(_[c]=a)):A&&(c.value=a,e.k&&(d[e.k]=a))};if(a){const Z=()=>{T(),ma.delete(e)};Z.id=-1,ma.set(e,Z),mi(Z,i)}else th(e),T()}}}function th(e){const t=ma.get(e);t&&(t.flags|=8,ma.delete(e))}Ua().requestIdleCallback;Ua().cancelIdleCallback;const $s=e=>!!e.type.__asyncLoader,Kd=e=>e.type.__isKeepAlive;function S_(e,t){Jd(e,"a",t)}function A_(e,t){Jd(e,"da",t)}function Jd(e,t,i=ci){const n=e.__wdc||(e.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Wa(t,n,i),i){let r=i.parent;for(;r&&r.parent;)Kd(r.parent.vnode)&&C_(n,t,i,r),r=r.parent}}function C_(e,t,i,n){const r=Wa(t,e,n,!0);$a(()=>{Iu(n[t],r)},i)}function Wa(e,t,i=ci,n=!1){if(i){const r=i[e]||(i[e]=[]),o=t.__weh||(t.__weh=(...a)=>{bn();const u=mo(i),c=sn(t,i,e,a);return u(),xn(),c});return n?r.unshift(o):r.push(o),o}}const Cn=e=>(t,i=ci)=>{(!ao||e==="sp")&&Wa(e,(...n)=>t(...n),i)},D_=Cn("bm"),Za=Cn("m"),T_=Cn("bu"),P_=Cn("u"),L_=Cn("bum"),$a=Cn("um"),M_=Cn("sp"),k_=Cn("rtg"),O_=Cn("rtc");function I_(e,t=ci){Wa("ec",e,t)}const R_=Symbol.for("v-ndc");function Un(e,t,i,n){let r;const o=i,a=Yt(e);if(a||Be(e)){const u=a&&yn(e);let c=!1,f=!1;u&&(c=!bi(e),f=wn(e),e=qa(e)),r=new Array(e.length);for(let d=0,_=e.length;d<_;d++)r[d]=t(c?f?Js(Hi(e[d])):Hi(e[d]):e[d],d,void 0,o)}else if(typeof e=="number"){r=new Array(e);for(let u=0;u<e;u++)r[u]=t(u+1,u,void 0,o)}else if(we(e))if(e[Symbol.iterator])r=Array.from(e,(u,c)=>t(u,c,void 0,o));else{const u=Object.keys(e);r=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const d=u[c];r[c]=t(e[d],d,c,o)}}else r=[];return r}function B_(e,t){for(let i=0;i<t.length;i++){const n=t[i];if(Yt(n))for(let r=0;r<n.length;r++)e[n[r].name]=n[r].fn;else n&&(e[n.name]=n.key?(...r)=>{const o=n.fn(...r);return o&&(o.key=n.key),o}:n.fn)}return e}function yr(e,t,i={},n,r){if(ti.ce||ti.parent&&$s(ti.parent)&&ti.parent.ce){const f=Object.keys(i).length>0;return t!=="default"&&(i.name=t),Ht(),ro(ke,null,[Te("slot",i,n)],f?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),Ht();const a=o&&Qd(o(i)),u=i.key||a&&a.key,c=ro(ke,{key:(u&&!An(u)?u:`_${t}`)+(!a&&n?"_fb":"")},a||[],a&&e._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),o&&o._c&&(o._d=!0),c}function Qd(e){return e.some(t=>oo(t)?!(t.type===En||t.type===ke&&!Qd(t.children)):!0)?e:null}const du=e=>e?yp(e)?Xa(e):du(e.parent):null,Yr=Ge(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>du(e.parent),$root:e=>du(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ep(e),$forceUpdate:e=>e.f||(e.f=()=>{Vu(e.update)}),$nextTick:e=>e.n||(e.n=Qs.bind(e.proxy)),$watch:e=>b_.bind(e)}),Il=(e,t)=>e!==me&&!e.__isScriptSetup&&ce(e,t),N_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:n,data:r,props:o,accessCache:a,type:u,appContext:c}=e;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return n[t];case 2:return r[t];case 4:return i[t];case 3:return o[t]}else{if(Il(n,t))return a[t]=1,n[t];if(r!==me&&ce(r,t))return a[t]=2,r[t];if(ce(o,t))return a[t]=3,o[t];if(i!==me&&ce(i,t))return a[t]=4,i[t];pu&&(a[t]=0)}}const f=Yr[t];let d,_;if(f)return t==="$attrs"&&Qe(e.attrs,"get",""),f(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(i!==me&&ce(i,t))return a[t]=4,i[t];if(_=c.config.globalProperties,ce(_,t))return _[t]},set({_:e},t,i){const{data:n,setupState:r,ctx:o}=e;return Il(r,t)?(r[t]=i,!0):n!==me&&ce(n,t)?(n[t]=i,!0):ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:n,appContext:r,props:o,type:a}},u){let c;return!!(i[u]||e!==me&&u[0]!=="$"&&ce(e,u)||Il(t,u)||ce(o,u)||ce(n,u)||ce(Yr,u)||ce(r.config.globalProperties,u)||(c=a.__cssModules)&&c[u])},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:ce(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function eh(e){return Yt(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let pu=!0;function F_(e){const t=ep(e),i=e.proxy,n=e.ctx;pu=!1,t.beforeCreate&&ih(t.beforeCreate,e,"bc");const{data:r,computed:o,methods:a,watch:u,provide:c,inject:f,created:d,beforeMount:_,mounted:b,beforeUpdate:x,updated:C,activated:A,deactivated:T,beforeDestroy:Z,beforeUnmount:w,destroyed:F,unmounted:k,render:P,renderTracked:j,renderTriggered:q,errorCaptured:m,serverPrefetch:p,expose:v,inheritAttrs:S,components:E,directives:O,filters:G}=t;if(f&&z_(f,n,null),a)for(const B in a){const R=a[B];Qt(R)&&(n[B]=R.bind(i))}if(r){const B=r.call(i,i);we(B)&&(e.data=Va(B))}if(pu=!0,o)for(const B in o){const R=o[B],X=Qt(R)?R.bind(i,i):Qt(R.get)?R.get.bind(i,i):nn,Q=!Qt(R)&&Qt(R.set)?R.set.bind(i):nn,H=$e({get:X,set:Q});Object.defineProperty(n,B,{enumerable:!0,configurable:!0,get:()=>H.value,set:nt=>H.value=nt})}if(u)for(const B in u)tp(u[B],n,i,B);if(c){const B=Qt(c)?c.call(i):c;Reflect.ownKeys(B).forEach(R=>{m_(R,B[R])})}d&&ih(d,e,"c");function z(B,R){Yt(R)?R.forEach(X=>B(X.bind(i))):R&&B(R.bind(i))}if(z(D_,_),z(Za,b),z(T_,x),z(P_,C),z(S_,A),z(A_,T),z(I_,m),z(O_,j),z(k_,q),z(L_,w),z($a,k),z(M_,p),Yt(v))if(v.length){const B=e.exposed||(e.exposed={});v.forEach(R=>{Object.defineProperty(B,R,{get:()=>i[R],set:X=>i[R]=X,enumerable:!0})})}else e.exposed||(e.exposed={});P&&e.render===nn&&(e.render=P),S!=null&&(e.inheritAttrs=S),E&&(e.components=E),O&&(e.directives=O),p&&Xd(e)}function z_(e,t,i=nn){Yt(e)&&(e=gu(e));for(const n in e){const r=e[n];let o;we(r)?"default"in r?o=$r(r.from||n,r.default,!0):o=$r(r.from||n):o=$r(r),Pe(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[n]=o}}function ih(e,t,i){sn(Yt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,i)}function tp(e,t,i,n){let r=n.includes(".")?Yd(i,n):()=>i[n];if(Be(e)){const o=t[e];Qt(o)&&Bi(r,o)}else if(Qt(e))Bi(r,e.bind(i));else if(we(e))if(Yt(e))e.forEach(o=>tp(o,t,i,n));else{const o=Qt(e.handler)?e.handler.bind(i):t[e.handler];Qt(o)&&Bi(r,o,e)}}function ep(e){const t=e.type,{mixins:i,extends:n}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,u=o.get(t);let c;return u?c=u:!r.length&&!i&&!n?c=t:(c={},r.length&&r.forEach(f=>_a(c,f,a,!0)),_a(c,t,a)),we(t)&&o.set(t,c),c}function _a(e,t,i,n=!1){const{mixins:r,extends:o}=t;o&&_a(e,o,i,!0),r&&r.forEach(a=>_a(e,a,i,!0));for(const a in t)if(!(n&&a==="expose")){const u=H_[a]||i&&i[a];e[a]=u?u(e[a],t[a]):t[a]}return e}const H_={data:nh,props:sh,emits:sh,methods:Rr,computed:Rr,beforeCreate:li,created:li,beforeMount:li,mounted:li,beforeUpdate:li,updated:li,beforeDestroy:li,beforeUnmount:li,destroyed:li,unmounted:li,activated:li,deactivated:li,errorCaptured:li,serverPrefetch:li,components:Rr,directives:Rr,watch:q_,provide:nh,inject:U_};function nh(e,t){return t?e?function(){return Ge(Qt(e)?e.call(this,this):e,Qt(t)?t.call(this,this):t)}:t:e}function U_(e,t){return Rr(gu(e),gu(t))}function gu(e){if(Yt(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function li(e,t){return e?[...new Set([].concat(e,t))]:t}function Rr(e,t){return e?Ge(Object.create(null),e,t):t}function sh(e,t){return e?Yt(e)&&Yt(t)?[...new Set([...e,...t])]:Ge(Object.create(null),eh(e),eh(t??{})):t}function q_(e,t){if(!e)return t;if(!t)return e;const i=Ge(Object.create(null),e);for(const n in t)i[n]=li(e[n],t[n]);return i}function ip(){return{app:null,config:{isNativeTag:dd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let V_=0;function j_(e,t){return function(n,r=null){Qt(n)||(n=Ge({},n)),r!=null&&!we(r)&&(r=null);const o=ip(),a=new WeakSet,u=[];let c=!1;const f=o.app={_uid:V_++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:xp,get config(){return o.config},set config(d){},use(d,..._){return a.has(d)||(d&&Qt(d.install)?(a.add(d),d.install(f,..._)):Qt(d)&&(a.add(d),d(f,..._))),f},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),f},component(d,_){return _?(o.components[d]=_,f):o.components[d]},directive(d,_){return _?(o.directives[d]=_,f):o.directives[d]},mount(d,_,b){if(!c){const x=f._ceVNode||Te(n,r);return x.appContext=o,b===!0?b="svg":b===!1&&(b=void 0),e(x,d,b),c=!0,f._container=d,d.__vue_app__=f,Xa(x.component)}},onUnmount(d){u.push(d)},unmount(){c&&(sn(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(d,_){return o.provides[d]=_,f},runWithContext(d){const _=bs;bs=f;try{return d()}finally{bs=_}}};return f}}let bs=null;const W_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Wn(t)}Modifiers`]||e[`${$n(t)}Modifiers`];function Z_(e,t,...i){if(e.isUnmounted)return;const n=e.vnode.props||me;let r=i;const o=t.startsWith("update:"),a=o&&W_(n,t.slice(7));a&&(a.trim&&(r=i.map(d=>Be(d)?d.trim():d)),a.number&&(r=i.map(Ru)));let u,c=n[u=Pl(t)]||n[u=Pl(Wn(t))];!c&&o&&(c=n[u=Pl($n(t))]),c&&sn(c,e,6,r);const f=n[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,sn(f,e,6,r)}}const $_=new WeakMap;function np(e,t,i=!1){const n=i?$_:t.emitsCache,r=n.get(e);if(r!==void 0)return r;const o=e.emits;let a={},u=!1;if(!Qt(e)){const c=f=>{const d=np(f,t,!0);d&&(u=!0,Ge(a,d))};!i&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!o&&!u?(we(e)&&n.set(e,null),null):(Yt(o)?o.forEach(c=>a[c]=null):Ge(a,o),we(e)&&n.set(e,a),a)}function Ga(e,t){return!e||!Na(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(e,t[0].toLowerCase()+t.slice(1))||ce(e,$n(t))||ce(e,t))}function rh(e){const{type:t,vnode:i,proxy:n,withProxy:r,propsOptions:[o],slots:a,attrs:u,emit:c,render:f,renderCache:d,props:_,data:b,setupState:x,ctx:C,inheritAttrs:A}=e,T=ga(e);let Z,w;try{if(i.shapeFlag&4){const k=r||n,P=k;Z=tn(f.call(P,k,d,_,x,b,C)),w=u}else{const k=t;Z=tn(k.length>1?k(_,{attrs:u,slots:a,emit:c}):k(_,null)),w=t.props?u:G_(u)}}catch(k){Xr.length=0,ja(k,e,1),Z=Te(En)}let F=Z;if(w&&A!==!1){const k=Object.keys(w),{shapeFlag:P}=F;k.length&&P&7&&(o&&k.some(Ou)&&(w=Y_(w,o)),F=tr(F,w,!1,!0))}return i.dirs&&(F=tr(F,null,!1,!0),F.dirs=F.dirs?F.dirs.concat(i.dirs):i.dirs),i.transition&&ju(F,i.transition),Z=F,ga(T),Z}const G_=e=>{let t;for(const i in e)(i==="class"||i==="style"||Na(i))&&((t||(t={}))[i]=e[i]);return t},Y_=(e,t)=>{const i={};for(const n in e)(!Ou(n)||!(n.slice(9)in t))&&(i[n]=e[n]);return i};function X_(e,t,i){const{props:n,children:r,component:o}=e,{props:a,children:u,patchFlag:c}=t,f=o.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&c>=0){if(c&1024)return!0;if(c&16)return n?oh(n,a,f):!!a;if(c&8){const d=t.dynamicProps;for(let _=0;_<d.length;_++){const b=d[_];if(a[b]!==n[b]&&!Ga(f,b))return!0}}}else return(r||u)&&(!u||!u.$stable)?!0:n===a?!1:n?a?oh(n,a,f):!0:!!a;return!1}function oh(e,t,i){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const o=n[r];if(t[o]!==e[o]&&!Ga(i,o))return!0}return!1}function K_({vnode:e,parent:t},i){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=i,t=t.parent;else break}}const sp={},rp=()=>Object.create(sp),op=e=>Object.getPrototypeOf(e)===sp;function J_(e,t,i,n=!1){const r={},o=rp();e.propsDefaults=Object.create(null),ap(e,t,r,o);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);i?e.props=n?r:n_(r):e.type.props?e.props=r:e.props=o,e.attrs=o}function Q_(e,t,i,n){const{props:r,attrs:o,vnode:{patchFlag:a}}=e,u=ie(r),[c]=e.propsOptions;let f=!1;if((n||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let _=0;_<d.length;_++){let b=d[_];if(Ga(e.emitsOptions,b))continue;const x=t[b];if(c)if(ce(o,b))x!==o[b]&&(o[b]=x,f=!0);else{const C=Wn(b);r[C]=mu(c,u,C,x,e,!1)}else x!==o[b]&&(o[b]=x,f=!0)}}}else{ap(e,t,r,o)&&(f=!0);let d;for(const _ in u)(!t||!ce(t,_)&&((d=$n(_))===_||!ce(t,d)))&&(c?i&&(i[_]!==void 0||i[d]!==void 0)&&(r[_]=mu(c,u,_,void 0,e,!0)):delete r[_]);if(o!==u)for(const _ in o)(!t||!ce(t,_))&&(delete o[_],f=!0)}f&&_n(e.attrs,"set","")}function ap(e,t,i,n){const[r,o]=e.propsOptions;let a=!1,u;if(t)for(let c in t){if(jr(c))continue;const f=t[c];let d;r&&ce(r,d=Wn(c))?!o||!o.includes(d)?i[d]=f:(u||(u={}))[d]=f:Ga(e.emitsOptions,c)||(!(c in n)||f!==n[c])&&(n[c]=f,a=!0)}if(o){const c=ie(i),f=u||me;for(let d=0;d<o.length;d++){const _=o[d];i[_]=mu(r,c,_,f[_],e,!ce(f,_))}}return a}function mu(e,t,i,n,r,o){const a=e[i];if(a!=null){const u=ce(a,"default");if(u&&n===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&Qt(c)){const{propsDefaults:f}=r;if(i in f)n=f[i];else{const d=mo(r);n=f[i]=c.call(null,t),d()}}else n=c;r.ce&&r.ce._setProp(i,n)}a[0]&&(o&&!u?n=!1:a[1]&&(n===""||n===$n(i))&&(n=!0))}return n}const t0=new WeakMap;function lp(e,t,i=!1){const n=i?t0:t.propsCache,r=n.get(e);if(r)return r;const o=e.props,a={},u=[];let c=!1;if(!Qt(e)){const d=_=>{c=!0;const[b,x]=lp(_,t,!0);Ge(a,b),x&&u.push(...x)};!i&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!c)return we(e)&&n.set(e,js),js;if(Yt(o))for(let d=0;d<o.length;d++){const _=Wn(o[d]);ah(_)&&(a[_]=me)}else if(o)for(const d in o){const _=Wn(d);if(ah(_)){const b=o[d],x=a[_]=Yt(b)||Qt(b)?{type:b}:Ge({},b),C=x.type;let A=!1,T=!0;if(Yt(C))for(let Z=0;Z<C.length;++Z){const w=C[Z],F=Qt(w)&&w.name;if(F==="Boolean"){A=!0;break}else F==="String"&&(T=!1)}else A=Qt(C)&&C.name==="Boolean";x[0]=A,x[1]=T,(A||ce(x,"default"))&&u.push(_)}}const f=[a,u];return we(e)&&n.set(e,f),f}function ah(e){return e[0]!=="$"&&!jr(e)}const Wu=e=>e==="_"||e==="_ctx"||e==="$stable",Zu=e=>Yt(e)?e.map(tn):[tn(e)],e0=(e,t,i)=>{if(t._n)return t;const n=Hs((...r)=>Zu(t(...r)),i);return n._c=!1,n},up=(e,t,i)=>{const n=e._ctx;for(const r in e){if(Wu(r))continue;const o=e[r];if(Qt(o))t[r]=e0(r,o,n);else if(o!=null){const a=Zu(o);t[r]=()=>a}}},cp=(e,t)=>{const i=Zu(t);e.slots.default=()=>i},hp=(e,t,i)=>{for(const n in t)(i||!Wu(n))&&(e[n]=t[n])},i0=(e,t,i)=>{const n=e.slots=rp();if(e.vnode.shapeFlag&32){const r=t._;r?(hp(n,t,i),i&&yd(n,"_",r,!0)):up(t,n)}else t&&cp(e,t)},n0=(e,t,i)=>{const{vnode:n,slots:r}=e;let o=!0,a=me;if(n.shapeFlag&32){const u=t._;u?i&&u===1?o=!1:hp(r,t,i):(o=!t.$stable,up(t,r)),a=t}else t&&(cp(e,t),a={default:1});if(o)for(const u in r)!Wu(u)&&a[u]==null&&delete r[u]},mi=l0;function s0(e){return r0(e)}function r0(e,t){const i=Ua();i.__VUE__=!0;const{insert:n,remove:r,patchProp:o,createElement:a,createText:u,createComment:c,setText:f,setElementText:d,parentNode:_,nextSibling:b,setScopeId:x=nn,insertStaticContent:C}=e,A=(U,W,it,ot=null,st=null,dt=null,_t=void 0,yt=null,xt=!!W.dynamicChildren)=>{if(U===W)return;U&&!br(U,W)&&(ot=Et(U),nt(U,st,dt,!0),U=null),W.patchFlag===-2&&(xt=!1,W.dynamicChildren=null);const{type:gt,ref:Tt,shapeFlag:kt}=W;switch(gt){case Ya:T(U,W,it,ot);break;case En:Z(U,W,it,ot);break;case Bl:U==null&&w(W,it,ot,_t);break;case ke:E(U,W,it,ot,st,dt,_t,yt,xt);break;default:kt&1?P(U,W,it,ot,st,dt,_t,yt,xt):kt&6?O(U,W,it,ot,st,dt,_t,yt,xt):(kt&64||kt&128)&&gt.process(U,W,it,ot,st,dt,_t,yt,xt,St)}Tt!=null&&st?Gr(Tt,U&&U.ref,dt,W||U,!W):Tt==null&&U&&U.ref!=null&&Gr(U.ref,null,dt,U,!0)},T=(U,W,it,ot)=>{if(U==null)n(W.el=u(W.children),it,ot);else{const st=W.el=U.el;W.children!==U.children&&f(st,W.children)}},Z=(U,W,it,ot)=>{U==null?n(W.el=c(W.children||""),it,ot):W.el=U.el},w=(U,W,it,ot)=>{[U.el,U.anchor]=C(U.children,W,it,ot,U.el,U.anchor)},F=({el:U,anchor:W},it,ot)=>{let st;for(;U&&U!==W;)st=b(U),n(U,it,ot),U=st;n(W,it,ot)},k=({el:U,anchor:W})=>{let it;for(;U&&U!==W;)it=b(U),r(U),U=it;r(W)},P=(U,W,it,ot,st,dt,_t,yt,xt)=>{if(W.type==="svg"?_t="svg":W.type==="math"&&(_t="mathml"),U==null)j(W,it,ot,st,dt,_t,yt,xt);else{const gt=U.el&&U.el._isVueCE?U.el:null;try{gt&&gt._beginPatch(),p(U,W,st,dt,_t,yt,xt)}finally{gt&&gt._endPatch()}}},j=(U,W,it,ot,st,dt,_t,yt)=>{let xt,gt;const{props:Tt,shapeFlag:kt,transition:Ot,dirs:Rt}=U;if(xt=U.el=a(U.type,dt,Tt&&Tt.is,Tt),kt&8?d(xt,U.children):kt&16&&m(U.children,xt,null,ot,st,Rl(U,dt),_t,yt),Rt&&os(U,null,ot,"created"),q(xt,U,U.scopeId,_t,ot),Tt){for(const qt in Tt)qt!=="value"&&!jr(qt)&&o(xt,qt,null,Tt[qt],dt,ot);"value"in Tt&&o(xt,"value",null,Tt.value,dt),(gt=Tt.onVnodeBeforeMount)&&Gi(gt,ot,U)}Rt&&os(U,null,ot,"beforeMount");const Bt=o0(st,Ot);Bt&&Ot.beforeEnter(xt),n(xt,W,it),((gt=Tt&&Tt.onVnodeMounted)||Bt||Rt)&&mi(()=>{gt&&Gi(gt,ot,U),Bt&&Ot.enter(xt),Rt&&os(U,null,ot,"mounted")},st)},q=(U,W,it,ot,st)=>{if(it&&x(U,it),ot)for(let dt=0;dt<ot.length;dt++)x(U,ot[dt]);if(st){let dt=st.subTree;if(W===dt||gp(dt.type)&&(dt.ssContent===W||dt.ssFallback===W)){const _t=st.vnode;q(U,_t,_t.scopeId,_t.slotScopeIds,st.parent)}}},m=(U,W,it,ot,st,dt,_t,yt,xt=0)=>{for(let gt=xt;gt<U.length;gt++){const Tt=U[gt]=yt?Rn(U[gt]):tn(U[gt]);A(null,Tt,W,it,ot,st,dt,_t,yt)}},p=(U,W,it,ot,st,dt,_t)=>{const yt=W.el=U.el;let{patchFlag:xt,dynamicChildren:gt,dirs:Tt}=W;xt|=U.patchFlag&16;const kt=U.props||me,Ot=W.props||me;let Rt;if(it&&as(it,!1),(Rt=Ot.onVnodeBeforeUpdate)&&Gi(Rt,it,W,U),Tt&&os(W,U,it,"beforeUpdate"),it&&as(it,!0),(kt.innerHTML&&Ot.innerHTML==null||kt.textContent&&Ot.textContent==null)&&d(yt,""),gt?v(U.dynamicChildren,gt,yt,it,ot,Rl(W,st),dt):_t||R(U,W,yt,null,it,ot,Rl(W,st),dt,!1),xt>0){if(xt&16)S(yt,kt,Ot,it,st);else if(xt&2&&kt.class!==Ot.class&&o(yt,"class",null,Ot.class,st),xt&4&&o(yt,"style",kt.style,Ot.style,st),xt&8){const Bt=W.dynamicProps;for(let qt=0;qt<Bt.length;qt++){const jt=Bt[qt],de=kt[jt],he=Ot[jt];(he!==de||jt==="value")&&o(yt,jt,de,he,st,it)}}xt&1&&U.children!==W.children&&d(yt,W.children)}else!_t&&gt==null&&S(yt,kt,Ot,it,st);((Rt=Ot.onVnodeUpdated)||Tt)&&mi(()=>{Rt&&Gi(Rt,it,W,U),Tt&&os(W,U,it,"updated")},ot)},v=(U,W,it,ot,st,dt,_t)=>{for(let yt=0;yt<W.length;yt++){const xt=U[yt],gt=W[yt],Tt=xt.el&&(xt.type===ke||!br(xt,gt)||xt.shapeFlag&198)?_(xt.el):it;A(xt,gt,Tt,null,ot,st,dt,_t,!0)}},S=(U,W,it,ot,st)=>{if(W!==it){if(W!==me)for(const dt in W)!jr(dt)&&!(dt in it)&&o(U,dt,W[dt],null,st,ot);for(const dt in it){if(jr(dt))continue;const _t=it[dt],yt=W[dt];_t!==yt&&dt!=="value"&&o(U,dt,yt,_t,st,ot)}"value"in it&&o(U,"value",W.value,it.value,st)}},E=(U,W,it,ot,st,dt,_t,yt,xt)=>{const gt=W.el=U?U.el:u(""),Tt=W.anchor=U?U.anchor:u("");let{patchFlag:kt,dynamicChildren:Ot,slotScopeIds:Rt}=W;Rt&&(yt=yt?yt.concat(Rt):Rt),U==null?(n(gt,it,ot),n(Tt,it,ot),m(W.children||[],it,Tt,st,dt,_t,yt,xt)):kt>0&&kt&64&&Ot&&U.dynamicChildren&&U.dynamicChildren.length===Ot.length?(v(U.dynamicChildren,Ot,it,st,dt,_t,yt),(W.key!=null||st&&W===st.subTree)&&fp(U,W,!0)):R(U,W,it,Tt,st,dt,_t,yt,xt)},O=(U,W,it,ot,st,dt,_t,yt,xt)=>{W.slotScopeIds=yt,U==null?W.shapeFlag&512?st.ctx.activate(W,it,ot,_t,xt):G(W,it,ot,st,dt,_t,xt):V(U,W,xt)},G=(U,W,it,ot,st,dt,_t)=>{const yt=U.component=g0(U,ot,st);if(Kd(U)&&(yt.ctx.renderer=St),m0(yt,!1,_t),yt.asyncDep){if(st&&st.registerDep(yt,z,_t),!U.el){const xt=yt.subTree=Te(En);Z(null,xt,W,it),U.placeholder=xt.el}}else z(yt,U,W,it,st,dt,_t)},V=(U,W,it)=>{const ot=W.component=U.component;if(X_(U,W,it))if(ot.asyncDep&&!ot.asyncResolved){B(ot,W,it);return}else ot.next=W,ot.update();else W.el=U.el,ot.vnode=W},z=(U,W,it,ot,st,dt,_t)=>{const yt=()=>{if(U.isMounted){let{next:kt,bu:Ot,u:Rt,parent:Bt,vnode:qt}=U;{const ne=dp(U);if(ne){kt&&(kt.el=qt.el,B(U,kt,_t)),ne.asyncDep.then(()=>{U.isUnmounted||yt()});return}}let jt=kt,de;as(U,!1),kt?(kt.el=qt.el,B(U,kt,_t)):kt=qt,Ot&&ea(Ot),(de=kt.props&&kt.props.onVnodeBeforeUpdate)&&Gi(de,Bt,kt,qt),as(U,!0);const he=rh(U),ue=U.subTree;U.subTree=he,A(ue,he,_(ue.el),Et(ue),U,st,dt),kt.el=he.el,jt===null&&K_(U,he.el),Rt&&mi(Rt,st),(de=kt.props&&kt.props.onVnodeUpdated)&&mi(()=>Gi(de,Bt,kt,qt),st)}else{let kt;const{el:Ot,props:Rt}=W,{bm:Bt,m:qt,parent:jt,root:de,type:he}=U,ue=$s(W);as(U,!1),Bt&&ea(Bt),!ue&&(kt=Rt&&Rt.onVnodeBeforeMount)&&Gi(kt,jt,W),as(U,!0);{de.ce&&de.ce._def.shadowRoot!==!1&&de.ce._injectChildStyle(he);const ne=U.subTree=rh(U);A(null,ne,it,ot,U,st,dt),W.el=ne.el}if(qt&&mi(qt,st),!ue&&(kt=Rt&&Rt.onVnodeMounted)){const ne=W;mi(()=>Gi(kt,jt,ne),st)}(W.shapeFlag&256||jt&&$s(jt.vnode)&&jt.vnode.shapeFlag&256)&&U.a&&mi(U.a,st),U.isMounted=!0,W=it=ot=null}};U.scope.on();const xt=U.effect=new Cd(yt);U.scope.off();const gt=U.update=xt.run.bind(xt),Tt=U.job=xt.runIfDirty.bind(xt);Tt.i=U,Tt.id=U.uid,xt.scheduler=()=>Vu(Tt),as(U,!0),gt()},B=(U,W,it)=>{W.component=U;const ot=U.vnode.props;U.vnode=W,U.next=null,Q_(U,W.props,ot,it),n0(U,W.children,it),bn(),Qc(U),xn()},R=(U,W,it,ot,st,dt,_t,yt,xt=!1)=>{const gt=U&&U.children,Tt=U?U.shapeFlag:0,kt=W.children,{patchFlag:Ot,shapeFlag:Rt}=W;if(Ot>0){if(Ot&128){Q(gt,kt,it,ot,st,dt,_t,yt,xt);return}else if(Ot&256){X(gt,kt,it,ot,st,dt,_t,yt,xt);return}}Rt&8?(Tt&16&&ct(gt,st,dt),kt!==gt&&d(it,kt)):Tt&16?Rt&16?Q(gt,kt,it,ot,st,dt,_t,yt,xt):ct(gt,st,dt,!0):(Tt&8&&d(it,""),Rt&16&&m(kt,it,ot,st,dt,_t,yt,xt))},X=(U,W,it,ot,st,dt,_t,yt,xt)=>{U=U||js,W=W||js;const gt=U.length,Tt=W.length,kt=Math.min(gt,Tt);let Ot;for(Ot=0;Ot<kt;Ot++){const Rt=W[Ot]=xt?Rn(W[Ot]):tn(W[Ot]);A(U[Ot],Rt,it,null,st,dt,_t,yt,xt)}gt>Tt?ct(U,st,dt,!0,!1,kt):m(W,it,ot,st,dt,_t,yt,xt,kt)},Q=(U,W,it,ot,st,dt,_t,yt,xt)=>{let gt=0;const Tt=W.length;let kt=U.length-1,Ot=Tt-1;for(;gt<=kt&&gt<=Ot;){const Rt=U[gt],Bt=W[gt]=xt?Rn(W[gt]):tn(W[gt]);if(br(Rt,Bt))A(Rt,Bt,it,null,st,dt,_t,yt,xt);else break;gt++}for(;gt<=kt&&gt<=Ot;){const Rt=U[kt],Bt=W[Ot]=xt?Rn(W[Ot]):tn(W[Ot]);if(br(Rt,Bt))A(Rt,Bt,it,null,st,dt,_t,yt,xt);else break;kt--,Ot--}if(gt>kt){if(gt<=Ot){const Rt=Ot+1,Bt=Rt<Tt?W[Rt].el:ot;for(;gt<=Ot;)A(null,W[gt]=xt?Rn(W[gt]):tn(W[gt]),it,Bt,st,dt,_t,yt,xt),gt++}}else if(gt>Ot)for(;gt<=kt;)nt(U[gt],st,dt,!0),gt++;else{const Rt=gt,Bt=gt,qt=new Map;for(gt=Bt;gt<=Ot;gt++){const Se=W[gt]=xt?Rn(W[gt]):tn(W[gt]);Se.key!=null&&qt.set(Se.key,gt)}let jt,de=0;const he=Ot-Bt+1;let ue=!1,ne=0;const Ee=new Array(he);for(gt=0;gt<he;gt++)Ee[gt]=0;for(gt=Rt;gt<=kt;gt++){const Se=U[gt];if(de>=he){nt(Se,st,dt,!0);continue}let Ie;if(Se.key!=null)Ie=qt.get(Se.key);else for(jt=Bt;jt<=Ot;jt++)if(Ee[jt-Bt]===0&&br(Se,W[jt])){Ie=jt;break}Ie===void 0?nt(Se,st,dt,!0):(Ee[Ie-Bt]=gt+1,Ie>=ne?ne=Ie:ue=!0,A(Se,W[Ie],it,null,st,dt,_t,yt,xt),de++)}const Ne=ue?a0(Ee):js;for(jt=Ne.length-1,gt=he-1;gt>=0;gt--){const Se=Bt+gt,Ie=W[Se],Fe=W[Se+1],We=Se+1<Tt?Fe.el||pp(Fe):ot;Ee[gt]===0?A(null,Ie,it,We,st,dt,_t,yt,xt):ue&&(jt<0||gt!==Ne[jt]?H(Ie,it,We,2):jt--)}}},H=(U,W,it,ot,st=null)=>{const{el:dt,type:_t,transition:yt,children:xt,shapeFlag:gt}=U;if(gt&6){H(U.component.subTree,W,it,ot);return}if(gt&128){U.suspense.move(W,it,ot);return}if(gt&64){_t.move(U,W,it,St);return}if(_t===ke){n(dt,W,it);for(let kt=0;kt<xt.length;kt++)H(xt[kt],W,it,ot);n(U.anchor,W,it);return}if(_t===Bl){F(U,W,it);return}if(ot!==2&&gt&1&&yt)if(ot===0)yt.beforeEnter(dt),n(dt,W,it),mi(()=>yt.enter(dt),st);else{const{leave:kt,delayLeave:Ot,afterLeave:Rt}=yt,Bt=()=>{U.ctx.isUnmounted?r(dt):n(dt,W,it)},qt=()=>{dt._isLeaving&&dt[E_](!0),kt(dt,()=>{Bt(),Rt&&Rt()})};Ot?Ot(dt,Bt,qt):qt()}else n(dt,W,it)},nt=(U,W,it,ot=!1,st=!1)=>{const{type:dt,props:_t,ref:yt,children:xt,dynamicChildren:gt,shapeFlag:Tt,patchFlag:kt,dirs:Ot,cacheIndex:Rt}=U;if(kt===-2&&(st=!1),yt!=null&&(bn(),Gr(yt,null,it,U,!0),xn()),Rt!=null&&(W.renderCache[Rt]=void 0),Tt&256){W.ctx.deactivate(U);return}const Bt=Tt&1&&Ot,qt=!$s(U);let jt;if(qt&&(jt=_t&&_t.onVnodeBeforeUnmount)&&Gi(jt,W,U),Tt&6)lt(U.component,it,ot);else{if(Tt&128){U.suspense.unmount(it,ot);return}Bt&&os(U,null,W,"beforeUnmount"),Tt&64?U.type.remove(U,W,it,St,ot):gt&&!gt.hasOnce&&(dt!==ke||kt>0&&kt&64)?ct(gt,W,it,!1,!0):(dt===ke&&kt&384||!st&&Tt&16)&&ct(xt,W,it),ot&&rt(U)}(qt&&(jt=_t&&_t.onVnodeUnmounted)||Bt)&&mi(()=>{jt&&Gi(jt,W,U),Bt&&os(U,null,W,"unmounted")},it)},rt=U=>{const{type:W,el:it,anchor:ot,transition:st}=U;if(W===ke){ft(it,ot);return}if(W===Bl){k(U);return}const dt=()=>{r(it),st&&!st.persisted&&st.afterLeave&&st.afterLeave()};if(U.shapeFlag&1&&st&&!st.persisted){const{leave:_t,delayLeave:yt}=st,xt=()=>_t(it,dt);yt?yt(U.el,dt,xt):xt()}else dt()},ft=(U,W)=>{let it;for(;U!==W;)it=b(U),r(U),U=it;r(W)},lt=(U,W,it)=>{const{bum:ot,scope:st,job:dt,subTree:_t,um:yt,m:xt,a:gt}=U;lh(xt),lh(gt),ot&&ea(ot),st.stop(),dt&&(dt.flags|=8,nt(_t,U,W,it)),yt&&mi(yt,W),mi(()=>{U.isUnmounted=!0},W)},ct=(U,W,it,ot=!1,st=!1,dt=0)=>{for(let _t=dt;_t<U.length;_t++)nt(U[_t],W,it,ot,st)},Et=U=>{if(U.shapeFlag&6)return Et(U.component.subTree);if(U.shapeFlag&128)return U.suspense.next();const W=b(U.anchor||U.el),it=W&&W[x_];return it?b(it):W};let bt=!1;const Pt=(U,W,it)=>{let ot;U==null?W._vnode&&(nt(W._vnode,null,null,!0),ot=W._vnode.component):A(W._vnode||null,U,W,null,null,null,it),W._vnode=U,bt||(bt=!0,Qc(ot),Wd(),bt=!1)},St={p:A,um:nt,m:H,r:rt,mt:G,mc:m,pc:R,pbc:v,n:Et,o:e};return{render:Pt,hydrate:void 0,createApp:j_(Pt)}}function Rl({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function as({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function o0(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function fp(e,t,i=!1){const n=e.children,r=t.children;if(Yt(n)&&Yt(r))for(let o=0;o<n.length;o++){const a=n[o];let u=r[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=r[o]=Rn(r[o]),u.el=a.el),!i&&u.patchFlag!==-2&&fp(a,u)),u.type===Ya&&(u.patchFlag!==-1?u.el=a.el:u.__elIndex=o+(e.type===ke?1:0)),u.type===En&&!u.el&&(u.el=a.el)}}function a0(e){const t=e.slice(),i=[0];let n,r,o,a,u;const c=e.length;for(n=0;n<c;n++){const f=e[n];if(f!==0){if(r=i[i.length-1],e[r]<f){t[n]=r,i.push(n);continue}for(o=0,a=i.length-1;o<a;)u=o+a>>1,e[i[u]]<f?o=u+1:a=u;f<e[i[o]]&&(o>0&&(t[n]=i[o-1]),i[o]=n)}}for(o=i.length,a=i[o-1];o-- >0;)i[o]=a,a=t[a];return i}function dp(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:dp(t)}function lh(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function pp(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?pp(t.subTree):null}const gp=e=>e.__isSuspense;function l0(e,t){t&&t.pendingBranch?Yt(e)?t.effects.push(...e):t.effects.push(e):g_(e)}const ke=Symbol.for("v-fgt"),Ya=Symbol.for("v-txt"),En=Symbol.for("v-cmt"),Bl=Symbol.for("v-stc"),Xr=[];let yi=null;function Ht(e=!1){Xr.push(yi=e?null:[])}function u0(){Xr.pop(),yi=Xr[Xr.length-1]||null}let so=1;function va(e,t=!1){so+=e,e<0&&yi&&t&&(yi.hasOnce=!0)}function mp(e){return e.dynamicChildren=so>0?yi||js:null,u0(),so>0&&yi&&yi.push(e),e}function Vt(e,t,i,n,r,o){return mp(Y(e,t,i,n,r,o,!0))}function ro(e,t,i,n,r){return mp(Te(e,t,i,n,r,!0))}function oo(e){return e?e.__v_isVNode===!0:!1}function br(e,t){return e.type===t.type&&e.key===t.key}const _p=({key:e})=>e??null,ia=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?Be(e)||Pe(e)||Qt(e)?{i:ti,r:e,k:t,f:!!i}:e:null);function Y(e,t=null,i=null,n=0,r=null,o=e===ke?0:1,a=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_p(t),ref:t&&ia(t),scopeId:$d,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ti};return u?($u(c,i),o&128&&e.normalize(c)):i&&(c.shapeFlag|=Be(i)?8:16),so>0&&!a&&yi&&(c.patchFlag>0||o&6)&&c.patchFlag!==32&&yi.push(c),c}const Te=c0;function c0(e,t=null,i=null,n=0,r=null,o=!1){if((!e||e===R_)&&(e=En),oo(e)){const u=tr(e,t,!0);return i&&$u(u,i),so>0&&!o&&yi&&(u.shapeFlag&6?yi[yi.indexOf(e)]=u:yi.push(u)),u.patchFlag=-2,u}if(b0(e)&&(e=e.__vccOpts),t){t=h0(t);let{class:u,style:c}=t;u&&!Be(u)&&(t.class=Me(u)),we(c)&&(nr(c)&&!Yt(c)&&(c=Ge({},c)),t.style=Es(c))}const a=Be(e)?1:gp(e)?128:w_(e)?64:we(e)?4:Qt(e)?2:0;return Y(e,t,i,n,r,a,o,!0)}function h0(e){return e?nr(e)||op(e)?Ge({},e):e:null}function tr(e,t,i=!1,n=!1){const{props:r,ref:o,patchFlag:a,children:u,transition:c}=e,f=t?f0(r||{},t):r,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&_p(f),ref:t&&t.ref?i&&o?Yt(o)?o.concat(ia(t)):[o,ia(t)]:ia(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ke?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&tr(e.ssContent),ssFallback:e.ssFallback&&tr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&n&&ju(d,c.clone(d)),d}function _i(e=" ",t=0){return Te(Ya,null,e,t)}function He(e="",t=!1){return t?(Ht(),ro(En,null,e)):Te(En,null,e)}function tn(e){return e==null||typeof e=="boolean"?Te(En):Yt(e)?Te(ke,null,e.slice()):oo(e)?Rn(e):Te(Ya,null,String(e))}function Rn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:tr(e)}function $u(e,t){let i=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Yt(t))i=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),$u(e,r()),r._c&&(r._d=!0));return}else{i=32;const r=t._;!r&&!op(t)?t._ctx=ti:r===3&&ti&&(ti.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Qt(t)?(t={default:t,_ctx:ti},i=32):(t=String(t),n&64?(i=16,t=[_i(t)]):i=8);e.children=t,e.shapeFlag|=i}function f0(...e){const t={};for(let i=0;i<e.length;i++){const n=e[i];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=Me([t.class,n.class]));else if(r==="style")t.style=Es([t.style,n.style]);else if(Na(r)){const o=t[r],a=n[r];a&&o!==a&&!(Yt(o)&&o.includes(a))&&(t[r]=o?[].concat(o,a):a)}else r!==""&&(t[r]=n[r])}return t}function Gi(e,t,i,n=null){sn(e,t,7,[i,n])}const d0=ip();let p0=0;function g0(e,t,i){const n=e.type,r=(t?t.appContext:e.appContext)||d0,o={uid:p0++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ed(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:lp(n,r),emitsOptions:np(n,r),emit:null,emitted:null,propsDefaults:me,inheritAttrs:n.inheritAttrs,ctx:me,data:me,props:me,attrs:me,slots:me,refs:me,setupState:me,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Z_.bind(null,o),e.ce&&e.ce(o),o}let ci=null;const vp=()=>ci||ti;let ya,_u;{const e=Ua(),t=(i,n)=>{let r;return(r=e[i])||(r=e[i]=[]),r.push(n),o=>{r.length>1?r.forEach(a=>a(o)):r[0](o)}};ya=t("__VUE_INSTANCE_SETTERS__",i=>ci=i),_u=t("__VUE_SSR_SETTERS__",i=>ao=i)}const mo=e=>{const t=ci;return ya(e),e.scope.on(),()=>{e.scope.off(),ya(t)}},uh=()=>{ci&&ci.scope.off(),ya(null)};function yp(e){return e.vnode.shapeFlag&4}let ao=!1;function m0(e,t=!1,i=!1){t&&_u(t);const{props:n,children:r}=e.vnode,o=yp(e);J_(e,n,o,t),i0(e,r,i||t);const a=o?_0(e,t):void 0;return t&&_u(!1),a}function _0(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,N_);const{setup:n}=i;if(n){bn();const r=e.setupContext=n.length>1?y0(e):null,o=mo(e),a=go(n,e,0,[e.props,r]),u=gd(a);if(xn(),o(),(u||e.sp)&&!$s(e)&&Xd(e),u){if(a.then(uh,uh),t)return a.then(c=>{ch(e,c)}).catch(c=>{ja(c,e,0)});e.asyncDep=a}else ch(e,a)}else bp(e)}function ch(e,t,i){Qt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=qd(t)),bp(e)}function bp(e,t,i){const n=e.type;e.render||(e.render=n.render||nn);{const r=mo(e);bn();try{F_(e)}finally{xn(),r()}}}const v0={get(e,t){return Qe(e,"get",""),e[t]}};function y0(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,v0),slots:e.slots,emit:e.emit,expose:t}}function Xa(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(qd(qu(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in Yr)return Yr[i](e)},has(t,i){return i in t||i in Yr}})):e.proxy}function b0(e){return Qt(e)&&"__vccOpts"in e}const $e=(e,t)=>c_(e,t,ao);function vu(e,t,i){try{va(-1);const n=arguments.length;return n===2?we(t)&&!Yt(t)?oo(t)?Te(e,null,[t]):Te(e,t):Te(e,null,t):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&oo(i)&&(i=[i]),Te(e,t,i))}finally{va(1)}}const xp="3.5.27";let yu;const hh=typeof window<"u"&&window.trustedTypes;if(hh)try{yu=hh.createPolicy("vue",{createHTML:e=>e})}catch{}const wp=yu?e=>yu.createHTML(e):e=>e,x0="http://www.w3.org/2000/svg",w0="http://www.w3.org/1998/Math/MathML",gn=typeof document<"u"?document:null,fh=gn&&gn.createElement("template"),E0={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,n)=>{const r=t==="svg"?gn.createElementNS(x0,e):t==="mathml"?gn.createElementNS(w0,e):i?gn.createElement(e,{is:i}):gn.createElement(e);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>gn.createTextNode(e),createComment:e=>gn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,n,r,o){const a=i?i.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),i),!(r===o||!(r=r.nextSibling)););else{fh.innerHTML=wp(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const u=fh.content;if(n==="svg"||n==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,i)}return[a?a.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},S0=Symbol("_vtc");function A0(e,t,i){const n=e[S0];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const ba=Symbol("_vod"),Ep=Symbol("_vsh"),Nl={name:"show",beforeMount(e,{value:t},{transition:i}){e[ba]=e.style.display==="none"?"":e.style.display,i&&t?i.beforeEnter(e):xr(e,t)},mounted(e,{value:t},{transition:i}){i&&t&&i.enter(e)},updated(e,{value:t,oldValue:i},{transition:n}){!t!=!i&&(n?t?(n.beforeEnter(e),xr(e,!0),n.enter(e)):n.leave(e,()=>{xr(e,!1)}):xr(e,t))},beforeUnmount(e,{value:t}){xr(e,t)}};function xr(e,t){e.style.display=t?e[ba]:"none",e[Ep]=!t}const C0=Symbol(""),D0=/(?:^|;)\s*display\s*:/;function T0(e,t,i){const n=e.style,r=Be(i);let o=!1;if(i&&!r){if(t)if(Be(t))for(const a of t.split(";")){const u=a.slice(0,a.indexOf(":")).trim();i[u]==null&&na(n,u,"")}else for(const a in t)i[a]==null&&na(n,a,"");for(const a in i)a==="display"&&(o=!0),na(n,a,i[a])}else if(r){if(t!==i){const a=n[C0];a&&(i+=";"+a),n.cssText=i,o=D0.test(i)}}else t&&e.removeAttribute("style");ba in e&&(e[ba]=o?n.display:"",e[Ep]&&(n.display="none"))}const dh=/\s*!important$/;function na(e,t,i){if(Yt(i))i.forEach(n=>na(e,t,n));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const n=P0(e,t);dh.test(i)?e.setProperty($n(n),i.replace(dh,""),"important"):e[n]=i}}const ph=["Webkit","Moz","ms"],Fl={};function P0(e,t){const i=Fl[t];if(i)return i;let n=Wn(t);if(n!=="filter"&&n in e)return Fl[t]=n;n=vd(n);for(let r=0;r<ph.length;r++){const o=ph[r]+n;if(o in e)return Fl[t]=o}return t}const gh="http://www.w3.org/1999/xlink";function mh(e,t,i,n,r,o=Bm(t)){n&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(gh,t.slice(6,t.length)):e.setAttributeNS(gh,t,i):i==null||o&&!bd(i)?e.removeAttribute(t):e.setAttribute(t,o?"":An(i)?String(i):i)}function _h(e,t,i,n,r){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?wp(i):i);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,c=i==null?e.type==="checkbox"?"on":"":String(i);(u!==c||!("_value"in e))&&(e.value=c),i==null&&e.removeAttribute(t),e._value=i;return}let a=!1;if(i===""||i==null){const u=typeof e[t];u==="boolean"?i=bd(i):i==null&&u==="string"?(i="",a=!0):u==="number"&&(i=0,a=!0)}try{e[t]=i}catch{}a&&e.removeAttribute(r||t)}function Us(e,t,i,n){e.addEventListener(t,i,n)}function L0(e,t,i,n){e.removeEventListener(t,i,n)}const vh=Symbol("_vei");function M0(e,t,i,n,r=null){const o=e[vh]||(e[vh]={}),a=o[t];if(n&&a)a.value=n;else{const[u,c]=k0(t);if(n){const f=o[t]=R0(n,r);Us(e,u,f,c)}else a&&(L0(e,u,a,c),o[t]=void 0)}}const yh=/(?:Once|Passive|Capture)$/;function k0(e){let t;if(yh.test(e)){t={};let n;for(;n=e.match(yh);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$n(e.slice(2)),t]}let zl=0;const O0=Promise.resolve(),I0=()=>zl||(O0.then(()=>zl=0),zl=Date.now());function R0(e,t){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;sn(B0(n,i.value),t,5,[n])};return i.value=e,i.attached=I0(),i}function B0(e,t){if(Yt(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const bh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,N0=(e,t,i,n,r,o)=>{const a=r==="svg";t==="class"?A0(e,n,a):t==="style"?T0(e,i,n):Na(t)?Ou(t)||M0(e,t,i,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):F0(e,t,n,a))?(_h(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&mh(e,t,n,a,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Be(n))?_h(e,Wn(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),mh(e,t,n,a))};function F0(e,t,i,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&bh(t)&&Qt(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return bh(t)&&Be(i)?!1:t in e}const xh=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Yt(t)?i=>ea(t,i):t};function z0(e){e.target.composing=!0}function wh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Hl=Symbol("_assign");function Eh(e,t,i){return t&&(e=e.trim()),i&&(e=Ru(e)),e}const xa={created(e,{modifiers:{lazy:t,trim:i,number:n}},r){e[Hl]=xh(r);const o=n||r.props&&r.props.type==="number";Us(e,t?"change":"input",a=>{a.target.composing||e[Hl](Eh(e.value,i,o))}),(i||o)&&Us(e,"change",()=>{e.value=Eh(e.value,i,o)}),t||(Us(e,"compositionstart",z0),Us(e,"compositionend",wh),Us(e,"change",wh))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:n,trim:r,number:o}},a){if(e[Hl]=xh(a),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?Ru(e.value):e.value,c=t??"";u!==c&&(document.activeElement===e&&e.type!=="range"&&(n&&t===i||r&&e.value.trim()===c)||(e.value=c))}},H0=["ctrl","shift","alt","meta"],U0={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>H0.some(i=>e[`${i}Key`]&&!t.includes(i))},Bn=(e,t)=>{const i=e._withMods||(e._withMods={}),n=t.join(".");return i[n]||(i[n]=((r,...o)=>{for(let a=0;a<t.length;a++){const u=U0[t[a]];if(u&&u(r,t))return}return e(r,...o)}))},q0={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},wa=(e,t)=>{const i=e._withKeys||(e._withKeys={}),n=t.join(".");return i[n]||(i[n]=(r=>{if(!("key"in r))return;const o=$n(r.key);if(t.some(a=>a===o||q0[a]===o))return e(r)}))},V0=Ge({patchProp:N0},E0);let Sh;function j0(){return Sh||(Sh=s0(V0))}const W0=((...e)=>{const t=j0().createApp(...e),{mount:i}=t;return t.mount=n=>{const r=$0(n);if(!r)return;const o=t._component;!Qt(o)&&!o.render&&!o.template&&(o.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=i(r,!1,Z0(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function Z0(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $0(e){return Be(e)?document.querySelector(e):e}let Sp;const Ka=e=>Sp=e,Ap=Symbol();function bu(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Kr;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Kr||(Kr={}));function G0(){const e=Sd(!0),t=e.run(()=>Ce({}));let i=[],n=[];const r=qu({install(o){Ka(r),r._a=o,o.provide(Ap,r),o.config.globalProperties.$pinia=r,n.forEach(a=>i.push(a)),n=[]},use(o){return this._a?i.push(o):n.push(o),this},_p:i,_a:null,_e:e,_s:new Map,state:t});return r}const Cp=()=>{};function Ah(e,t,i,n=Cp){e.add(t);const r=()=>{e.delete(t)&&n()};return!i&&Ad()&&Nm(r),r}function Is(e,...t){e.forEach(i=>{i(...t)})}const Y0=e=>e(),Ch=Symbol(),Ul=Symbol();function xu(e,t){e instanceof Map&&t instanceof Map?t.forEach((i,n)=>e.set(n,i)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const i in t){if(!t.hasOwnProperty(i))continue;const n=t[i],r=e[i];bu(r)&&bu(n)&&e.hasOwnProperty(i)&&!Pe(n)&&!yn(n)?e[i]=xu(r,n):e[i]=n}return e}const X0=Symbol();function K0(e){return!bu(e)||!Object.prototype.hasOwnProperty.call(e,X0)}const{assign:kn}=Object;function J0(e){return!!(Pe(e)&&e.effect)}function Q0(e,t,i,n){const{state:r,actions:o,getters:a}=t,u=i.state.value[e];let c;function f(){u||(i.state.value[e]=r?r():{});const d=o_(i.state.value[e]);return kn(d,o,Object.keys(a||{}).reduce((_,b)=>(_[b]=qu($e(()=>{Ka(i);const x=i._s.get(e);return a[b].call(x,x)})),_),{}))}return c=Dp(e,f,t,i,n,!0),c}function Dp(e,t,i={},n,r,o){let a;const u=kn({actions:{}},i),c={deep:!0};let f,d,_=new Set,b=new Set,x;const C=n.state.value[e];!o&&!C&&(n.state.value[e]={});let A;function T(m){let p;f=d=!1,typeof m=="function"?(m(n.state.value[e]),p={type:Kr.patchFunction,storeId:e,events:x}):(xu(n.state.value[e],m),p={type:Kr.patchObject,payload:m,storeId:e,events:x});const v=A=Symbol();Qs().then(()=>{A===v&&(f=!0)}),d=!0,Is(_,p,n.state.value[e])}const Z=o?function(){const{state:p}=i,v=p?p():{};this.$patch(S=>{kn(S,v)})}:Cp;function w(){a.stop(),_.clear(),b.clear(),n._s.delete(e)}const F=(m,p="")=>{if(Ch in m)return m[Ul]=p,m;const v=function(){Ka(n);const S=Array.from(arguments),E=new Set,O=new Set;function G(B){E.add(B)}function V(B){O.add(B)}Is(b,{args:S,name:v[Ul],store:P,after:G,onError:V});let z;try{z=m.apply(this&&this.$id===e?this:P,S)}catch(B){throw Is(O,B),B}return z instanceof Promise?z.then(B=>(Is(E,B),B)).catch(B=>(Is(O,B),Promise.reject(B))):(Is(E,z),z)};return v[Ch]=!0,v[Ul]=p,v},k={_p:n,$id:e,$onAction:Ah.bind(null,b),$patch:T,$reset:Z,$subscribe(m,p={}){const v=Ah(_,m,p.detached,()=>S()),S=a.run(()=>Bi(()=>n.state.value[e],E=>{(p.flush==="sync"?d:f)&&m({storeId:e,type:Kr.direct,events:x},E)},kn({},c,p)));return v},$dispose:w},P=Va(k);n._s.set(e,P);const q=(n._a&&n._a.runWithContext||Y0)(()=>n._e.run(()=>(a=Sd()).run(()=>t({action:F}))));for(const m in q){const p=q[m];if(Pe(p)&&!J0(p)||yn(p))o||(C&&K0(p)&&(Pe(p)?p.value=C[m]:xu(p,C[m])),n.state.value[e][m]=p);else if(typeof p=="function"){const v=F(p,m);q[m]=v,u.actions[m]=p}}return kn(P,q),kn(ie(P),q),Object.defineProperty(P,"$state",{get:()=>n.state.value[e],set:m=>{T(p=>{kn(p,m)})}}),n._p.forEach(m=>{kn(P,a.run(()=>m({store:P,app:n._a,pinia:n,options:u})))}),C&&o&&i.hydrate&&i.hydrate(P.$state,C),f=!0,d=!0,P}function tv(e,t,i){let n;const r=typeof t=="function";n=r?i:t;function o(a,u){const c=__();return a=a||(c?$r(Ap,null):null),a&&Ka(a),a=Sp,a._s.has(e)||(r?Dp(e,t,n,a):Q0(e,n,a)),a._s.get(e)}return o.$id=e,o}var No=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ja(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ev(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var i=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),i}function Fo(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ql={exports:{}};var Dh;function iv(){return Dh||(Dh=1,(function(e,t){(function(i){e.exports=i()})(function(){return(function i(n,r,o){function a(f,d){if(!r[f]){if(!n[f]){var _=typeof Fo=="function"&&Fo;if(!d&&_)return _(f,!0);if(u)return u(f,!0);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}var x=r[f]={exports:{}};n[f][0].call(x.exports,function(C){var A=n[f][1][C];return a(A||C)},x,x.exports,i,n,r,o)}return r[f].exports}for(var u=typeof Fo=="function"&&Fo,c=0;c<o.length;c++)a(o[c]);return a})({1:[function(i,n,r){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,u;if(a){var c=0,f=new a(C),d=o.document.createTextNode("");f.observe(d,{characterData:!0}),u=function(){d.data=c=++c%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var _=new o.MessageChannel;_.port1.onmessage=C,u=function(){_.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?u=function(){var T=o.document.createElement("script");T.onreadystatechange=function(){C(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},o.document.documentElement.appendChild(T)}:u=function(){setTimeout(C,0)};var b,x=[];function C(){b=!0;for(var T,Z,w=x.length;w;){for(Z=x,x=[],T=-1;++T<w;)Z[T]();w=x.length}b=!1}n.exports=A;function A(T){x.push(T)===1&&!b&&u()}}).call(this,typeof No<"u"?No:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,n,r){var o=i(1);function a(){}var u={},c=["REJECTED"],f=["FULFILLED"],d=["PENDING"];n.exports=_;function _(P){if(typeof P!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,P!==a&&A(this,P)}_.prototype.catch=function(P){return this.then(null,P)},_.prototype.then=function(P,j){if(typeof P!="function"&&this.state===f||typeof j!="function"&&this.state===c)return this;var q=new this.constructor(a);if(this.state!==d){var m=this.state===f?P:j;x(q,m,this.outcome)}else this.queue.push(new b(q,P,j));return q};function b(P,j,q){this.promise=P,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof q=="function"&&(this.onRejected=q,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(P){u.resolve(this.promise,P)},b.prototype.otherCallFulfilled=function(P){x(this.promise,this.onFulfilled,P)},b.prototype.callRejected=function(P){u.reject(this.promise,P)},b.prototype.otherCallRejected=function(P){x(this.promise,this.onRejected,P)};function x(P,j,q){o(function(){var m;try{m=j(q)}catch(p){return u.reject(P,p)}m===P?u.reject(P,new TypeError("Cannot resolve promise with itself")):u.resolve(P,m)})}u.resolve=function(P,j){var q=T(C,j);if(q.status==="error")return u.reject(P,q.value);var m=q.value;if(m)A(P,m);else{P.state=f,P.outcome=j;for(var p=-1,v=P.queue.length;++p<v;)P.queue[p].callFulfilled(j)}return P},u.reject=function(P,j){P.state=c,P.outcome=j;for(var q=-1,m=P.queue.length;++q<m;)P.queue[q].callRejected(j);return P};function C(P){var j=P&&P.then;if(P&&(typeof P=="object"||typeof P=="function")&&typeof j=="function")return function(){j.apply(P,arguments)}}function A(P,j){var q=!1;function m(E){q||(q=!0,u.reject(P,E))}function p(E){q||(q=!0,u.resolve(P,E))}function v(){j(p,m)}var S=T(v);S.status==="error"&&m(S.value)}function T(P,j){var q={};try{q.value=P(j),q.status="success"}catch(m){q.status="error",q.value=m}return q}_.resolve=Z;function Z(P){return P instanceof this?P:u.resolve(new this(a),P)}_.reject=w;function w(P){var j=new this(a);return u.reject(j,P)}_.all=F;function F(P){var j=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var q=P.length,m=!1;if(!q)return this.resolve([]);for(var p=new Array(q),v=0,S=-1,E=new this(a);++S<q;)O(P[S],S);return E;function O(G,V){j.resolve(G).then(z,function(B){m||(m=!0,u.reject(E,B))});function z(B){p[V]=B,++v===q&&!m&&(m=!0,u.resolve(E,p))}}}_.race=k;function k(P){var j=this;if(Object.prototype.toString.call(P)!=="[object Array]")return this.reject(new TypeError("must be an array"));var q=P.length,m=!1;if(!q)return this.resolve([]);for(var p=-1,v=new this(a);++p<q;)S(P[p]);return v;function S(E){j.resolve(E).then(function(O){m||(m=!0,u.resolve(v,O))},function(O){m||(m=!0,u.reject(v,O))})}}},{1:1}],3:[function(i,n,r){(function(o){typeof o.Promise!="function"&&(o.Promise=i(2))}).call(this,typeof No<"u"?No:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,n,r){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I};function a(I,et){if(!(I instanceof et))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var c=u();function f(){try{if(!c||!c.open)return!1;var I=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),et=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!I||et)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(I,et){I=I||[],et=et||{};try{return new Blob(I,et)}catch(J){if(J.name!=="TypeError")throw J;for(var $=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,at=new $,ut=0;ut<I.length;ut+=1)at.append(I[ut]);return at.getBlob(et.type)}}typeof Promise>"u"&&i(3);var _=Promise;function b(I,et){et&&I.then(function($){et(null,$)},function($){et($)})}function x(I,et,$){typeof et=="function"&&I.then(et),typeof $=="function"&&I.catch($)}function C(I){return typeof I!="string"&&(console.warn(I+" used as a key, but it is not a string."),I=String(I)),I}function A(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var T="local-forage-detect-blob-support",Z=void 0,w={},F=Object.prototype.toString,k="readonly",P="readwrite";function j(I){for(var et=I.length,$=new ArrayBuffer(et),at=new Uint8Array($),ut=0;ut<et;ut++)at[ut]=I.charCodeAt(ut);return $}function q(I){return new _(function(et){var $=I.transaction(T,P),at=d([""]);$.objectStore(T).put(at,"key"),$.onabort=function(ut){ut.preventDefault(),ut.stopPropagation(),et(!1)},$.oncomplete=function(){var ut=navigator.userAgent.match(/Chrome\/(\d+)/),J=navigator.userAgent.match(/Edge\//);et(J||!ut||parseInt(ut[1],10)>=43)}}).catch(function(){return!1})}function m(I){return typeof Z=="boolean"?_.resolve(Z):q(I).then(function(et){return Z=et,Z})}function p(I){var et=w[I.name],$={};$.promise=new _(function(at,ut){$.resolve=at,$.reject=ut}),et.deferredOperations.push($),et.dbReady?et.dbReady=et.dbReady.then(function(){return $.promise}):et.dbReady=$.promise}function v(I){var et=w[I.name],$=et.deferredOperations.pop();if($)return $.resolve(),$.promise}function S(I,et){var $=w[I.name],at=$.deferredOperations.pop();if(at)return at.reject(et),at.promise}function E(I,et){return new _(function($,at){if(w[I.name]=w[I.name]||nt(),I.db)if(et)p(I),I.db.close();else return $(I.db);var ut=[I.name];et&&ut.push(I.version);var J=c.open.apply(c,ut);et&&(J.onupgradeneeded=function(vt){var Ct=J.result;try{Ct.createObjectStore(I.storeName),vt.oldVersion<=1&&Ct.createObjectStore(T)}catch(Lt){if(Lt.name==="ConstraintError")console.warn('The database "'+I.name+'" has been upgraded from version '+vt.oldVersion+" to version "+vt.newVersion+', but the storage "'+I.storeName+'" already exists.');else throw Lt}}),J.onerror=function(vt){vt.preventDefault(),at(J.error)},J.onsuccess=function(){var vt=J.result;vt.onversionchange=function(Ct){Ct.target.close()},$(vt),v(I)}})}function O(I){return E(I,!1)}function G(I){return E(I,!0)}function V(I,et){if(!I.db)return!0;var $=!I.db.objectStoreNames.contains(I.storeName),at=I.version<I.db.version,ut=I.version>I.db.version;if(at&&(I.version!==et&&console.warn('The database "'+I.name+`" can't be downgraded from version `+I.db.version+" to version "+I.version+"."),I.version=I.db.version),ut||$){if($){var J=I.db.version+1;J>I.version&&(I.version=J)}return!0}return!1}function z(I){return new _(function(et,$){var at=new FileReader;at.onerror=$,at.onloadend=function(ut){var J=btoa(ut.target.result||"");et({__local_forage_encoded_blob:!0,data:J,type:I.type})},at.readAsBinaryString(I)})}function B(I){var et=j(atob(I.data));return d([et],{type:I.type})}function R(I){return I&&I.__local_forage_encoded_blob}function X(I){var et=this,$=et._initReady().then(function(){var at=w[et._dbInfo.name];if(at&&at.dbReady)return at.dbReady});return x($,I,I),$}function Q(I){p(I);for(var et=w[I.name],$=et.forages,at=0;at<$.length;at++){var ut=$[at];ut._dbInfo.db&&(ut._dbInfo.db.close(),ut._dbInfo.db=null)}return I.db=null,O(I).then(function(J){return I.db=J,V(I)?G(I):J}).then(function(J){I.db=et.db=J;for(var vt=0;vt<$.length;vt++)$[vt]._dbInfo.db=J}).catch(function(J){throw S(I,J),J})}function H(I,et,$,at){at===void 0&&(at=1);try{var ut=I.db.transaction(I.storeName,et);$(null,ut)}catch(J){if(at>0&&(!I.db||J.name==="InvalidStateError"||J.name==="NotFoundError"))return _.resolve().then(function(){if(!I.db||J.name==="NotFoundError"&&!I.db.objectStoreNames.contains(I.storeName)&&I.version<=I.db.version)return I.db&&(I.version=I.db.version+1),G(I)}).then(function(){return Q(I).then(function(){H(I,et,$,at-1)})}).catch($);$(J)}}function nt(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function rt(I){var et=this,$={db:null};if(I)for(var at in I)$[at]=I[at];var ut=w[$.name];ut||(ut=nt(),w[$.name]=ut),ut.forages.push(et),et._initReady||(et._initReady=et.ready,et.ready=X);var J=[];function vt(){return _.resolve()}for(var Ct=0;Ct<ut.forages.length;Ct++){var Lt=ut.forages[Ct];Lt!==et&&J.push(Lt._initReady().catch(vt))}var Dt=ut.forages.slice(0);return _.all(J).then(function(){return $.db=ut.db,O($)}).then(function(It){return $.db=It,V($,et._defaultConfig.version)?G($):It}).then(function(It){$.db=ut.db=It,et._dbInfo=$;for(var zt=0;zt<Dt.length;zt++){var Xt=Dt[zt];Xt!==et&&(Xt._dbInfo.db=$.db,Xt._dbInfo.version=$.version)}})}function ft(I,et){var $=this;I=C(I);var at=new _(function(ut,J){$.ready().then(function(){H($._dbInfo,k,function(vt,Ct){if(vt)return J(vt);try{var Lt=Ct.objectStore($._dbInfo.storeName),Dt=Lt.get(I);Dt.onsuccess=function(){var It=Dt.result;It===void 0&&(It=null),R(It)&&(It=B(It)),ut(It)},Dt.onerror=function(){J(Dt.error)}}catch(It){J(It)}})}).catch(J)});return b(at,et),at}function lt(I,et){var $=this,at=new _(function(ut,J){$.ready().then(function(){H($._dbInfo,k,function(vt,Ct){if(vt)return J(vt);try{var Lt=Ct.objectStore($._dbInfo.storeName),Dt=Lt.openCursor(),It=1;Dt.onsuccess=function(){var zt=Dt.result;if(zt){var Xt=zt.value;R(Xt)&&(Xt=B(Xt));var Zt=I(Xt,zt.key,It++);Zt!==void 0?ut(Zt):zt.continue()}else ut()},Dt.onerror=function(){J(Dt.error)}}catch(zt){J(zt)}})}).catch(J)});return b(at,et),at}function ct(I,et,$){var at=this;I=C(I);var ut=new _(function(J,vt){var Ct;at.ready().then(function(){return Ct=at._dbInfo,F.call(et)==="[object Blob]"?m(Ct.db).then(function(Lt){return Lt?et:z(et)}):et}).then(function(Lt){H(at._dbInfo,P,function(Dt,It){if(Dt)return vt(Dt);try{var zt=It.objectStore(at._dbInfo.storeName);Lt===null&&(Lt=void 0);var Xt=zt.put(Lt,I);It.oncomplete=function(){Lt===void 0&&(Lt=null),J(Lt)},It.onabort=It.onerror=function(){var Zt=Xt.error?Xt.error:Xt.transaction.error;vt(Zt)}}catch(Zt){vt(Zt)}})}).catch(vt)});return b(ut,$),ut}function Et(I,et){var $=this;I=C(I);var at=new _(function(ut,J){$.ready().then(function(){H($._dbInfo,P,function(vt,Ct){if(vt)return J(vt);try{var Lt=Ct.objectStore($._dbInfo.storeName),Dt=Lt.delete(I);Ct.oncomplete=function(){ut()},Ct.onerror=function(){J(Dt.error)},Ct.onabort=function(){var It=Dt.error?Dt.error:Dt.transaction.error;J(It)}}catch(It){J(It)}})}).catch(J)});return b(at,et),at}function bt(I){var et=this,$=new _(function(at,ut){et.ready().then(function(){H(et._dbInfo,P,function(J,vt){if(J)return ut(J);try{var Ct=vt.objectStore(et._dbInfo.storeName),Lt=Ct.clear();vt.oncomplete=function(){at()},vt.onabort=vt.onerror=function(){var Dt=Lt.error?Lt.error:Lt.transaction.error;ut(Dt)}}catch(Dt){ut(Dt)}})}).catch(ut)});return b($,I),$}function Pt(I){var et=this,$=new _(function(at,ut){et.ready().then(function(){H(et._dbInfo,k,function(J,vt){if(J)return ut(J);try{var Ct=vt.objectStore(et._dbInfo.storeName),Lt=Ct.count();Lt.onsuccess=function(){at(Lt.result)},Lt.onerror=function(){ut(Lt.error)}}catch(Dt){ut(Dt)}})}).catch(ut)});return b($,I),$}function St(I,et){var $=this,at=new _(function(ut,J){if(I<0){ut(null);return}$.ready().then(function(){H($._dbInfo,k,function(vt,Ct){if(vt)return J(vt);try{var Lt=Ct.objectStore($._dbInfo.storeName),Dt=!1,It=Lt.openKeyCursor();It.onsuccess=function(){var zt=It.result;if(!zt){ut(null);return}I===0||Dt?ut(zt.key):(Dt=!0,zt.advance(I))},It.onerror=function(){J(It.error)}}catch(zt){J(zt)}})}).catch(J)});return b(at,et),at}function wt(I){var et=this,$=new _(function(at,ut){et.ready().then(function(){H(et._dbInfo,k,function(J,vt){if(J)return ut(J);try{var Ct=vt.objectStore(et._dbInfo.storeName),Lt=Ct.openKeyCursor(),Dt=[];Lt.onsuccess=function(){var It=Lt.result;if(!It){at(Dt);return}Dt.push(It.key),It.continue()},Lt.onerror=function(){ut(Lt.error)}}catch(It){ut(It)}})}).catch(ut)});return b($,I),$}function U(I,et){et=A.apply(this,arguments);var $=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||$.name,I.storeName=I.storeName||$.storeName);var at=this,ut;if(!I.name)ut=_.reject("Invalid arguments");else{var J=I.name===$.name&&at._dbInfo.db,vt=J?_.resolve(at._dbInfo.db):O(I).then(function(Ct){var Lt=w[I.name],Dt=Lt.forages;Lt.db=Ct;for(var It=0;It<Dt.length;It++)Dt[It]._dbInfo.db=Ct;return Ct});I.storeName?ut=vt.then(function(Ct){if(Ct.objectStoreNames.contains(I.storeName)){var Lt=Ct.version+1;p(I);var Dt=w[I.name],It=Dt.forages;Ct.close();for(var zt=0;zt<It.length;zt++){var Xt=It[zt];Xt._dbInfo.db=null,Xt._dbInfo.version=Lt}var Zt=new _(function(ee,ve){var ge=c.open(I.name,Lt);ge.onerror=function(Ye){var ki=ge.result;ki.close(),ve(Ye)},ge.onupgradeneeded=function(){var Ye=ge.result;Ye.deleteObjectStore(I.storeName)},ge.onsuccess=function(){var Ye=ge.result;Ye.close(),ee(Ye)}});return Zt.then(function(ee){Dt.db=ee;for(var ve=0;ve<It.length;ve++){var ge=It[ve];ge._dbInfo.db=ee,v(ge._dbInfo)}}).catch(function(ee){throw(S(I,ee)||_.resolve()).catch(function(){}),ee})}}):ut=vt.then(function(Ct){p(I);var Lt=w[I.name],Dt=Lt.forages;Ct.close();for(var It=0;It<Dt.length;It++){var zt=Dt[It];zt._dbInfo.db=null}var Xt=new _(function(Zt,ee){var ve=c.deleteDatabase(I.name);ve.onerror=function(){var ge=ve.result;ge&&ge.close(),ee(ve.error)},ve.onblocked=function(){console.warn('dropInstance blocked for database "'+I.name+'" until all open connections are closed')},ve.onsuccess=function(){var ge=ve.result;ge&&ge.close(),Zt(ge)}});return Xt.then(function(Zt){Lt.db=Zt;for(var ee=0;ee<Dt.length;ee++){var ve=Dt[ee];v(ve._dbInfo)}}).catch(function(Zt){throw(S(I,Zt)||_.resolve()).catch(function(){}),Zt})})}return b(ut,et),ut}var W={_driver:"asyncStorage",_initStorage:rt,_support:f(),iterate:lt,getItem:ft,setItem:ct,removeItem:Et,clear:bt,length:Pt,key:St,keys:wt,dropInstance:U};function it(){return typeof openDatabase=="function"}var ot="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st="~~local_forage_type~",dt=/^~~local_forage_type~([^~]+)~/,_t="__lfsc__:",yt=_t.length,xt="arbf",gt="blob",Tt="si08",kt="ui08",Ot="uic8",Rt="si16",Bt="si32",qt="ur16",jt="ui32",de="fl32",he="fl64",ue=yt+xt.length,ne=Object.prototype.toString;function Ee(I){var et=I.length*.75,$=I.length,at,ut=0,J,vt,Ct,Lt;I[I.length-1]==="="&&(et--,I[I.length-2]==="="&&et--);var Dt=new ArrayBuffer(et),It=new Uint8Array(Dt);for(at=0;at<$;at+=4)J=ot.indexOf(I[at]),vt=ot.indexOf(I[at+1]),Ct=ot.indexOf(I[at+2]),Lt=ot.indexOf(I[at+3]),It[ut++]=J<<2|vt>>4,It[ut++]=(vt&15)<<4|Ct>>2,It[ut++]=(Ct&3)<<6|Lt&63;return Dt}function Ne(I){var et=new Uint8Array(I),$="",at;for(at=0;at<et.length;at+=3)$+=ot[et[at]>>2],$+=ot[(et[at]&3)<<4|et[at+1]>>4],$+=ot[(et[at+1]&15)<<2|et[at+2]>>6],$+=ot[et[at+2]&63];return et.length%3===2?$=$.substring(0,$.length-1)+"=":et.length%3===1&&($=$.substring(0,$.length-2)+"=="),$}function Se(I,et){var $="";if(I&&($=ne.call(I)),I&&($==="[object ArrayBuffer]"||I.buffer&&ne.call(I.buffer)==="[object ArrayBuffer]")){var at,ut=_t;I instanceof ArrayBuffer?(at=I,ut+=xt):(at=I.buffer,$==="[object Int8Array]"?ut+=Tt:$==="[object Uint8Array]"?ut+=kt:$==="[object Uint8ClampedArray]"?ut+=Ot:$==="[object Int16Array]"?ut+=Rt:$==="[object Uint16Array]"?ut+=qt:$==="[object Int32Array]"?ut+=Bt:$==="[object Uint32Array]"?ut+=jt:$==="[object Float32Array]"?ut+=de:$==="[object Float64Array]"?ut+=he:et(new Error("Failed to get type for BinaryArray"))),et(ut+Ne(at))}else if($==="[object Blob]"){var J=new FileReader;J.onload=function(){var vt=st+I.type+"~"+Ne(this.result);et(_t+gt+vt)},J.readAsArrayBuffer(I)}else try{et(JSON.stringify(I))}catch(vt){console.error("Couldn't convert value into a JSON string: ",I),et(null,vt)}}function Ie(I){if(I.substring(0,yt)!==_t)return JSON.parse(I);var et=I.substring(ue),$=I.substring(yt,ue),at;if($===gt&&dt.test(et)){var ut=et.match(dt);at=ut[1],et=et.substring(ut[0].length)}var J=Ee(et);switch($){case xt:return J;case gt:return d([J],{type:at});case Tt:return new Int8Array(J);case kt:return new Uint8Array(J);case Ot:return new Uint8ClampedArray(J);case Rt:return new Int16Array(J);case qt:return new Uint16Array(J);case Bt:return new Int32Array(J);case jt:return new Uint32Array(J);case de:return new Float32Array(J);case he:return new Float64Array(J);default:throw new Error("Unkown type: "+$)}}var Fe={serialize:Se,deserialize:Ie,stringToBuffer:Ee,bufferToString:Ne};function We(I,et,$,at){I.executeSql("CREATE TABLE IF NOT EXISTS "+et.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],$,at)}function qi(I){var et=this,$={db:null};if(I)for(var at in I)$[at]=typeof I[at]!="string"?I[at].toString():I[at];var ut=new _(function(J,vt){try{$.db=openDatabase($.name,String($.version),$.description,$.size)}catch(Ct){return vt(Ct)}$.db.transaction(function(Ct){We(Ct,$,function(){et._dbInfo=$,J()},function(Lt,Dt){vt(Dt)})},vt)});return $.serializer=Fe,ut}function ze(I,et,$,at,ut,J){I.executeSql($,at,ut,function(vt,Ct){Ct.code===Ct.SYNTAX_ERR?vt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[et.storeName],function(Lt,Dt){Dt.rows.length?J(Lt,Ct):We(Lt,et,function(){Lt.executeSql($,at,ut,J)},J)},J):J(vt,Ct)},J)}function Vi(I,et){var $=this;I=C(I);var at=new _(function(ut,J){$.ready().then(function(){var vt=$._dbInfo;vt.db.transaction(function(Ct){ze(Ct,vt,"SELECT * FROM "+vt.storeName+" WHERE key = ? LIMIT 1",[I],function(Lt,Dt){var It=Dt.rows.length?Dt.rows.item(0).value:null;It&&(It=vt.serializer.deserialize(It)),ut(It)},function(Lt,Dt){J(Dt)})})}).catch(J)});return b(at,et),at}function ar(I,et){var $=this,at=new _(function(ut,J){$.ready().then(function(){var vt=$._dbInfo;vt.db.transaction(function(Ct){ze(Ct,vt,"SELECT * FROM "+vt.storeName,[],function(Lt,Dt){for(var It=Dt.rows,zt=It.length,Xt=0;Xt<zt;Xt++){var Zt=It.item(Xt),ee=Zt.value;if(ee&&(ee=vt.serializer.deserialize(ee)),ee=I(ee,Zt.key,Xt+1),ee!==void 0){ut(ee);return}}ut()},function(Lt,Dt){J(Dt)})})}).catch(J)});return b(at,et),at}function D(I,et,$,at){var ut=this;I=C(I);var J=new _(function(vt,Ct){ut.ready().then(function(){et===void 0&&(et=null);var Lt=et,Dt=ut._dbInfo;Dt.serializer.serialize(et,function(It,zt){zt?Ct(zt):Dt.db.transaction(function(Xt){ze(Xt,Dt,"INSERT OR REPLACE INTO "+Dt.storeName+" (key, value) VALUES (?, ?)",[I,It],function(){vt(Lt)},function(Zt,ee){Ct(ee)})},function(Xt){if(Xt.code===Xt.QUOTA_ERR){if(at>0){vt(D.apply(ut,[I,Lt,$,at-1]));return}Ct(Xt)}})})}).catch(Ct)});return b(J,$),J}function N(I,et,$){return D.apply(this,[I,et,$,1])}function K(I,et){var $=this;I=C(I);var at=new _(function(ut,J){$.ready().then(function(){var vt=$._dbInfo;vt.db.transaction(function(Ct){ze(Ct,vt,"DELETE FROM "+vt.storeName+" WHERE key = ?",[I],function(){ut()},function(Lt,Dt){J(Dt)})})}).catch(J)});return b(at,et),at}function pt(I){var et=this,$=new _(function(at,ut){et.ready().then(function(){var J=et._dbInfo;J.db.transaction(function(vt){ze(vt,J,"DELETE FROM "+J.storeName,[],function(){at()},function(Ct,Lt){ut(Lt)})})}).catch(ut)});return b($,I),$}function Mt(I){var et=this,$=new _(function(at,ut){et.ready().then(function(){var J=et._dbInfo;J.db.transaction(function(vt){ze(vt,J,"SELECT COUNT(key) as c FROM "+J.storeName,[],function(Ct,Lt){var Dt=Lt.rows.item(0).c;at(Dt)},function(Ct,Lt){ut(Lt)})})}).catch(ut)});return b($,I),$}function Wt(I,et){var $=this,at=new _(function(ut,J){$.ready().then(function(){var vt=$._dbInfo;vt.db.transaction(function(Ct){ze(Ct,vt,"SELECT key FROM "+vt.storeName+" WHERE id = ? LIMIT 1",[I+1],function(Lt,Dt){var It=Dt.rows.length?Dt.rows.item(0).key:null;ut(It)},function(Lt,Dt){J(Dt)})})}).catch(J)});return b(at,et),at}function ae(I){var et=this,$=new _(function(at,ut){et.ready().then(function(){var J=et._dbInfo;J.db.transaction(function(vt){ze(vt,J,"SELECT key FROM "+J.storeName,[],function(Ct,Lt){for(var Dt=[],It=0;It<Lt.rows.length;It++)Dt.push(Lt.rows.item(It).key);at(Dt)},function(Ct,Lt){ut(Lt)})})}).catch(ut)});return b($,I),$}function qe(I){return new _(function(et,$){I.transaction(function(at){at.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ut,J){for(var vt=[],Ct=0;Ct<J.rows.length;Ct++)vt.push(J.rows.item(Ct).name);et({db:I,storeNames:vt})},function(ut,J){$(J)})},function(at){$(at)})})}function ni(I,et){et=A.apply(this,arguments);var $=this.config();I=typeof I!="function"&&I||{},I.name||(I.name=I.name||$.name,I.storeName=I.storeName||$.storeName);var at=this,ut;return I.name?ut=new _(function(J){var vt;I.name===$.name?vt=at._dbInfo.db:vt=openDatabase(I.name,"","",0),I.storeName?J({db:vt,storeNames:[I.storeName]}):J(qe(vt))}).then(function(J){return new _(function(vt,Ct){J.db.transaction(function(Lt){function Dt(Zt){return new _(function(ee,ve){Lt.executeSql("DROP TABLE IF EXISTS "+Zt,[],function(){ee()},function(ge,Ye){ve(Ye)})})}for(var It=[],zt=0,Xt=J.storeNames.length;zt<Xt;zt++)It.push(Dt(J.storeNames[zt]));_.all(It).then(function(){vt()}).catch(function(Zt){Ct(Zt)})},function(Lt){Ct(Lt)})})}):ut=_.reject("Invalid arguments"),b(ut,et),ut}var si={_driver:"webSQLStorage",_initStorage:qi,_support:it(),iterate:ar,getItem:Vi,setItem:N,removeItem:K,clear:pt,length:Mt,key:Wt,keys:ae,dropInstance:ni};function gi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Le(I,et){var $=I.name+"/";return I.storeName!==et.storeName&&($+=I.storeName+"/"),$}function Ft(){var I="_localforage_support_test";try{return localStorage.setItem(I,!0),localStorage.removeItem(I),!1}catch{return!0}}function xi(){return!Ft()||localStorage.length>0}function ri(I){var et=this,$={};if(I)for(var at in I)$[at]=I[at];return $.keyPrefix=Le(I,et._defaultConfig),xi()?(et._dbInfo=$,$.serializer=Fe,_.resolve()):_.reject()}function wi(I){var et=this,$=et.ready().then(function(){for(var at=et._dbInfo.keyPrefix,ut=localStorage.length-1;ut>=0;ut--){var J=localStorage.key(ut);J.indexOf(at)===0&&localStorage.removeItem(J)}});return b($,I),$}function ji(I,et){var $=this;I=C(I);var at=$.ready().then(function(){var ut=$._dbInfo,J=localStorage.getItem(ut.keyPrefix+I);return J&&(J=ut.serializer.deserialize(J)),J});return b(at,et),at}function De(I,et){var $=this,at=$.ready().then(function(){for(var ut=$._dbInfo,J=ut.keyPrefix,vt=J.length,Ct=localStorage.length,Lt=1,Dt=0;Dt<Ct;Dt++){var It=localStorage.key(Dt);if(It.indexOf(J)===0){var zt=localStorage.getItem(It);if(zt&&(zt=ut.serializer.deserialize(zt)),zt=I(zt,It.substring(vt),Lt++),zt!==void 0)return zt}}});return b(at,et),at}function Yn(I,et){var $=this,at=$.ready().then(function(){var ut=$._dbInfo,J;try{J=localStorage.key(I)}catch{J=null}return J&&(J=J.substring(ut.keyPrefix.length)),J});return b(at,et),at}function oi(I){var et=this,$=et.ready().then(function(){for(var at=et._dbInfo,ut=localStorage.length,J=[],vt=0;vt<ut;vt++){var Ct=localStorage.key(vt);Ct.indexOf(at.keyPrefix)===0&&J.push(Ct.substring(at.keyPrefix.length))}return J});return b($,I),$}function Xn(I){var et=this,$=et.keys().then(function(at){return at.length});return b($,I),$}function ol(I,et){var $=this;I=C(I);var at=$.ready().then(function(){var ut=$._dbInfo;localStorage.removeItem(ut.keyPrefix+I)});return b(at,et),at}function al(I,et,$){var at=this;I=C(I);var ut=at.ready().then(function(){et===void 0&&(et=null);var J=et;return new _(function(vt,Ct){var Lt=at._dbInfo;Lt.serializer.serialize(et,function(Dt,It){if(It)Ct(It);else try{localStorage.setItem(Lt.keyPrefix+I,Dt),vt(J)}catch(zt){(zt.name==="QuotaExceededError"||zt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ct(zt),Ct(zt)}})})});return b(ut,$),ut}function ll(I,et){if(et=A.apply(this,arguments),I=typeof I!="function"&&I||{},!I.name){var $=this.config();I.name=I.name||$.name,I.storeName=I.storeName||$.storeName}var at=this,ut;return I.name?ut=new _(function(J){I.storeName?J(Le(I,at._defaultConfig)):J(I.name+"/")}).then(function(J){for(var vt=localStorage.length-1;vt>=0;vt--){var Ct=localStorage.key(vt);Ct.indexOf(J)===0&&localStorage.removeItem(Ct)}}):ut=_.reject("Invalid arguments"),b(ut,et),ut}var ul={_driver:"localStorageWrapper",_initStorage:ri,_support:gi(),iterate:De,getItem:ji,setItem:al,removeItem:ol,clear:wi,length:Xn,key:Yn,keys:oi,dropInstance:ll},vo=function(et,$){return et===$||typeof et=="number"&&typeof $=="number"&&isNaN(et)&&isNaN($)},cl=function(et,$){for(var at=et.length,ut=0;ut<at;){if(vo(et[ut],$))return!0;ut++}return!1},Kn=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"},Jn={},yo={},Dn={INDEXEDDB:W,WEBSQL:si,LOCALSTORAGE:ul},hl=[Dn.INDEXEDDB._driver,Dn.WEBSQL._driver,Dn.LOCALSTORAGE._driver],Ss=["dropInstance"],Qn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ss),ts={description:"",driver:hl.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function bo(I,et){I[et]=function(){var $=arguments;return I.ready().then(function(){return I[et].apply(I,$)})}}function As(){for(var I=1;I<arguments.length;I++){var et=arguments[I];if(et)for(var $ in et)et.hasOwnProperty($)&&(Kn(et[$])?arguments[0][$]=et[$].slice():arguments[0][$]=et[$])}return arguments[0]}var es=(function(){function I(et){a(this,I);for(var $ in Dn)if(Dn.hasOwnProperty($)){var at=Dn[$],ut=at._driver;this[$]=ut,Jn[ut]||this.defineDriver(at)}this._defaultConfig=As({},ts),this._config=As({},this._defaultConfig,et),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return I.prototype.config=function($){if((typeof $>"u"?"undefined":o($))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var at in $){if(at==="storeName"&&($[at]=$[at].replace(/\W/g,"_")),at==="version"&&typeof $[at]!="number")return new Error("Database version must be a number.");this._config[at]=$[at]}return"driver"in $&&$.driver?this.setDriver(this._config.driver):!0}else return typeof $=="string"?this._config[$]:this._config},I.prototype.defineDriver=function($,at,ut){var J=new _(function(vt,Ct){try{var Lt=$._driver,Dt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!$._driver){Ct(Dt);return}for(var It=Qn.concat("_initStorage"),zt=0,Xt=It.length;zt<Xt;zt++){var Zt=It[zt],ee=!cl(Ss,Zt);if((ee||$[Zt])&&typeof $[Zt]!="function"){Ct(Dt);return}}var ve=function(){for(var ki=function(ur){return function(){var Cs=new Error("Method "+ur+" is not implemented by the current driver"),cr=_.reject(Cs);return b(cr,arguments[arguments.length-1]),cr}},is=0,lr=Ss.length;is<lr;is++){var Tn=Ss[is];$[Tn]||($[Tn]=ki(Tn))}};ve();var ge=function(ki){Jn[Lt]&&console.info("Redefining LocalForage driver: "+Lt),Jn[Lt]=$,yo[Lt]=ki,vt()};"_support"in $?$._support&&typeof $._support=="function"?$._support().then(ge,Ct):ge(!!$._support):ge(!0)}catch(Ye){Ct(Ye)}});return x(J,at,ut),J},I.prototype.driver=function(){return this._driver||null},I.prototype.getDriver=function($,at,ut){var J=Jn[$]?_.resolve(Jn[$]):_.reject(new Error("Driver not found."));return x(J,at,ut),J},I.prototype.getSerializer=function($){var at=_.resolve(Fe);return x(at,$),at},I.prototype.ready=function($){var at=this,ut=at._driverSet.then(function(){return at._ready===null&&(at._ready=at._initDriver()),at._ready});return x(ut,$,$),ut},I.prototype.setDriver=function($,at,ut){var J=this;Kn($)||($=[$]);var vt=this._getSupportedDrivers($);function Ct(){J._config.driver=J.driver()}function Lt(zt){return J._extend(zt),Ct(),J._ready=J._initStorage(J._config),J._ready}function Dt(zt){return function(){var Xt=0;function Zt(){for(;Xt<zt.length;){var ee=zt[Xt];return Xt++,J._dbInfo=null,J._ready=null,J.getDriver(ee).then(Lt).catch(Zt)}Ct();var ve=new Error("No available storage method found.");return J._driverSet=_.reject(ve),J._driverSet}return Zt()}}var It=this._driverSet!==null?this._driverSet.catch(function(){return _.resolve()}):_.resolve();return this._driverSet=It.then(function(){var zt=vt[0];return J._dbInfo=null,J._ready=null,J.getDriver(zt).then(function(Xt){J._driver=Xt._driver,Ct(),J._wrapLibraryMethodsWithReady(),J._initDriver=Dt(vt)})}).catch(function(){Ct();var zt=new Error("No available storage method found.");return J._driverSet=_.reject(zt),J._driverSet}),x(this._driverSet,at,ut),this._driverSet},I.prototype.supports=function($){return!!yo[$]},I.prototype._extend=function($){As(this,$)},I.prototype._getSupportedDrivers=function($){for(var at=[],ut=0,J=$.length;ut<J;ut++){var vt=$[ut];this.supports(vt)&&at.push(vt)}return at},I.prototype._wrapLibraryMethodsWithReady=function(){for(var $=0,at=Qn.length;$<at;$++)bo(this,Qn[$])},I.prototype.createInstance=function($){return new I($)},I})(),se=new es;n.exports=se},{3:3}]},{},[4])(4)})})(ql)),ql.exports}var nv=iv();const sa=Ja(nv);var ra={exports:{}};var sv=ra.exports,Th;function rv(){return Th||(Th=1,(function(e,t){((i,n)=>{e.exports=n()})(sv,function i(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r,o=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,u={},c=0,f={};function d(m){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(p){var v=P(p);v.chunkSize=parseInt(v.chunkSize),p.step||p.chunk||(v.chunkSize=null),this._handle=new A(v),(this._handle.streamer=this)._config=v}).call(this,m),this.parseChunk=function(p,v){var S=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<S){let O=this._config.newline;O||(E=this._config.quoteChar||'"',O=this._handle.guessLineEndings(p,E)),p=[...p.split(O).slice(S)].join(O)}this.isFirstChunk&&q(this._config.beforeFirstChunk)&&(E=this._config.beforeFirstChunk(p))!==void 0&&(p=E),this.isFirstChunk=!1,this._halted=!1;var S=this._partialLine+p,E=(this._partialLine="",this._handle.parse(S,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(p=E.meta.cursor,S=(this._finished||(this._partialLine=S.substring(p-this._baseIndex),this._baseIndex=p),E&&E.data&&(this._rowCount+=E.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)n.postMessage({results:E,workerId:f.WORKER_ID,finished:S});else if(q(this._config.chunk)&&!v){if(this._config.chunk(E,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=E=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(E.data),this._completeResults.errors=this._completeResults.errors.concat(E.errors),this._completeResults.meta=E.meta),this._completed||!S||!q(this._config.complete)||E&&E.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),S||E&&E.meta.paused||this._nextChunk(),E}this._halted=!0},this._sendError=function(p){q(this._config.error)?this._config.error(p):a&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:p,finished:!1})}}function _(m){var p;(m=m||{}).chunkSize||(m.chunkSize=f.RemoteChunkSize),d.call(this,m),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(v){this._input=v,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),o||(p.onload=j(this._chunkLoaded,this),p.onerror=j(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var v,S=this._config.downloadRequestHeaders;for(v in S)p.setRequestHeader(v,S[v])}var E;this._config.chunkSize&&(E=this._start+this._config.chunkSize-1,p.setRequestHeader("Range","bytes="+this._start+"-"+E));try{p.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}o&&p.status===0&&this._chunkError()}},this._chunkLoaded=function(){p.readyState===4&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize||p.responseText.length,this._finished=!this._config.chunkSize||this._start>=(v=>(v=v.getResponseHeader("Content-Range"))!==null?parseInt(v.substring(v.lastIndexOf("/")+1)):-1)(p),this.parseChunk(p.responseText)))},this._chunkError=function(v){v=p.statusText||v,this._sendError(new Error(v))}}function b(m){(m=m||{}).chunkSize||(m.chunkSize=f.LocalChunkSize),d.call(this,m);var p,v,S=typeof FileReader<"u";this.stream=function(E){this._input=E,v=E.slice||E.webkitSlice||E.mozSlice,S?((p=new FileReader).onload=j(this._chunkLoaded,this),p.onerror=j(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var E=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),E=v.call(E,this._start,O)),p.readAsText(E,this._config.encoding));S||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(E){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(E.target.result)},this._chunkError=function(){this._sendError(p.error)}}function x(m){var p;d.call(this,m=m||{}),this.stream=function(v){return p=v,this._nextChunk()},this._nextChunk=function(){var v,S;if(!this._finished)return v=this._config.chunkSize,p=v?(S=p.substring(0,v),p.substring(v)):(S=p,""),this._finished=!p,this.parseChunk(S)}}function C(m){d.call(this,m=m||{});var p=[],v=!0,S=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(E){this._input=E,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){S&&p.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):v=!0},this._streamData=j(function(E){try{p.push(typeof E=="string"?E:E.toString(this._config.encoding)),v&&(v=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch(O){this._streamError(O)}},this),this._streamError=j(function(E){this._streamCleanUp(),this._sendError(E)},this),this._streamEnd=j(function(){this._streamCleanUp(),S=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function A(m){var p,v,S,E,O=Math.pow(2,53),G=-O,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,R=0,X=0,Q=!1,H=!1,nt=[],rt={data:[],errors:[],meta:{}};function ft(bt){return m.skipEmptyLines==="greedy"?bt.join("").trim()==="":bt.length===1&&bt[0].length===0}function lt(){if(rt&&S&&(Et("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),S=!1),m.skipEmptyLines&&(rt.data=rt.data.filter(function(U){return!ft(U)})),ct()){let U=function(W,it){q(m.transformHeader)&&(W=m.transformHeader(W,it)),nt.push(W)};var wt=U;if(rt)if(Array.isArray(rt.data[0])){for(var bt=0;ct()&&bt<rt.data.length;bt++)rt.data[bt].forEach(U);rt.data.splice(0,1)}else rt.data.forEach(U)}function Pt(U,W){for(var it=m.header?{}:[],ot=0;ot<U.length;ot++){var st=ot,dt=U[ot],dt=((_t,yt)=>(xt=>(m.dynamicTypingFunction&&m.dynamicTyping[xt]===void 0&&(m.dynamicTyping[xt]=m.dynamicTypingFunction(xt)),(m.dynamicTyping[xt]||m.dynamicTyping)===!0))(_t)?yt==="true"||yt==="TRUE"||yt!=="false"&&yt!=="FALSE"&&((xt=>{if(V.test(xt)&&(xt=parseFloat(xt),G<xt&&xt<O))return 1})(yt)?parseFloat(yt):z.test(yt)?new Date(yt):yt===""?null:yt):yt)(st=m.header?ot>=nt.length?"__parsed_extra":nt[ot]:st,dt=m.transform?m.transform(dt,st):dt);st==="__parsed_extra"?(it[st]=it[st]||[],it[st].push(dt)):it[st]=dt}return m.header&&(ot>nt.length?Et("FieldMismatch","TooManyFields","Too many fields: expected "+nt.length+" fields but parsed "+ot,X+W):ot<nt.length&&Et("FieldMismatch","TooFewFields","Too few fields: expected "+nt.length+" fields but parsed "+ot,X+W)),it}var St;rt&&(m.header||m.dynamicTyping||m.transform)&&(St=1,!rt.data.length||Array.isArray(rt.data[0])?(rt.data=rt.data.map(Pt),St=rt.data.length):rt.data=Pt(rt.data,0),m.header&&rt.meta&&(rt.meta.fields=nt),X+=St)}function ct(){return m.header&&nt.length===0}function Et(bt,Pt,St,wt){bt={type:bt,code:Pt,message:St},wt!==void 0&&(bt.row=wt),rt.errors.push(bt)}q(m.step)&&(E=m.step,m.step=function(bt){rt=bt,ct()?lt():(lt(),rt.data.length!==0&&(R+=bt.data.length,m.preview&&R>m.preview?v.abort():(rt.data=rt.data[0],E(rt,B))))}),this.parse=function(bt,Pt,St){var wt=m.quoteChar||'"',wt=(m.newline||(m.newline=this.guessLineEndings(bt,wt)),S=!1,m.delimiter?q(m.delimiter)&&(m.delimiter=m.delimiter(bt),rt.meta.delimiter=m.delimiter):((wt=((U,W,it,ot,st)=>{var dt,_t,yt,xt;st=st||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var gt=0;gt<st.length;gt++){for(var Tt,kt=st[gt],Ot=0,Rt=0,Bt=0,qt=(yt=void 0,new Z({comments:ot,delimiter:kt,newline:W,preview:10}).parse(U)),jt=0;jt<qt.data.length;jt++)it&&ft(qt.data[jt])?Bt++:(Tt=qt.data[jt].length,Rt+=Tt,yt===void 0?yt=Tt:0<Tt&&(Ot+=Math.abs(Tt-yt),yt=Tt));0<qt.data.length&&(Rt/=qt.data.length-Bt),(_t===void 0||Ot<=_t)&&(xt===void 0||xt<Rt)&&1.99<Rt&&(_t=Ot,dt=kt,xt=Rt)}return{successful:!!(m.delimiter=dt),bestDelimiter:dt}})(bt,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=wt.bestDelimiter:(S=!0,m.delimiter=f.DefaultDelimiter),rt.meta.delimiter=m.delimiter),P(m));return m.preview&&m.header&&wt.preview++,p=bt,v=new Z(wt),rt=v.parse(p,Pt,St),lt(),Q?{meta:{paused:!0}}:rt||{meta:{paused:!1}}},this.paused=function(){return Q},this.pause=function(){Q=!0,v.abort(),p=q(m.chunk)?"":p.substring(v.getCharIndex())},this.resume=function(){B.streamer._halted?(Q=!1,B.streamer.parseChunk(p,!0)):setTimeout(B.resume,3)},this.aborted=function(){return H},this.abort=function(){H=!0,v.abort(),rt.meta.aborted=!0,q(m.complete)&&m.complete(rt),p=""},this.guessLineEndings=function(U,wt){U=U.substring(0,1048576);var wt=new RegExp(T(wt)+"([^]*?)"+T(wt),"gm"),St=(U=U.replace(wt,"")).split("\r"),wt=U.split(`
`),U=1<wt.length&&wt[0].length<St[0].length;if(St.length===1||U)return`
`;for(var W=0,it=0;it<St.length;it++)St[it][0]===`
`&&W++;return W>=St.length/2?`\r
`:"\r"}}function T(m){return m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Z(m){var p=(m=m||{}).delimiter,v=m.newline,S=m.comments,E=m.step,O=m.preview,G=m.fastMode,V=null,z=!1,B=m.quoteChar==null?'"':m.quoteChar,R=B;if(m.escapeChar!==void 0&&(R=m.escapeChar),(typeof p!="string"||-1<f.BAD_DELIMITERS.indexOf(p))&&(p=","),S===p)throw new Error("Comment character same as delimiter");S===!0?S="#":(typeof S!="string"||-1<f.BAD_DELIMITERS.indexOf(S))&&(S=!1),v!==`
`&&v!=="\r"&&v!==`\r
`&&(v=`
`);var X=0,Q=!1;this.parse=function(H,nt,rt){if(typeof H!="string")throw new Error("Input must be a string");var ft=H.length,lt=p.length,ct=v.length,Et=S.length,bt=q(E),Pt=[],St=[],wt=[],U=X=0;if(!H)return Ot();if(G||G!==!1&&H.indexOf(B)===-1){for(var W=H.split(v),it=0;it<W.length;it++){if(wt=W[it],X+=wt.length,it!==W.length-1)X+=v.length;else if(rt)return Ot();if(!S||wt.substring(0,Et)!==S){if(bt){if(Pt=[],xt(wt.split(p)),Rt(),Q)return Ot()}else xt(wt.split(p));if(O&&O<=it)return Pt=Pt.slice(0,O),Ot(!0)}}return Ot()}for(var ot=H.indexOf(p,X),st=H.indexOf(v,X),dt=new RegExp(T(R)+T(B),"g"),_t=H.indexOf(B,X);;)if(H[X]===B)for(_t=X,X++;;){if((_t=H.indexOf(B,_t+1))===-1)return rt||St.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Pt.length,index:X}),Tt();if(_t===ft-1)return Tt(H.substring(X,_t).replace(dt,B));if(B===R&&H[_t+1]===R)_t++;else if(B===R||_t===0||H[_t-1]!==R){ot!==-1&&ot<_t+1&&(ot=H.indexOf(p,_t+1));var yt=gt((st=st!==-1&&st<_t+1?H.indexOf(v,_t+1):st)===-1?ot:Math.min(ot,st));if(H.substr(_t+1+yt,lt)===p){wt.push(H.substring(X,_t).replace(dt,B)),H[X=_t+1+yt+lt]!==B&&(_t=H.indexOf(B,X)),ot=H.indexOf(p,X),st=H.indexOf(v,X);break}if(yt=gt(st),H.substring(_t+1+yt,_t+1+yt+ct)===v){if(wt.push(H.substring(X,_t).replace(dt,B)),kt(_t+1+yt+ct),ot=H.indexOf(p,X),_t=H.indexOf(B,X),bt&&(Rt(),Q))return Ot();if(O&&Pt.length>=O)return Ot(!0);break}St.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Pt.length,index:X}),_t++}}else if(S&&wt.length===0&&H.substring(X,X+Et)===S){if(st===-1)return Ot();X=st+ct,st=H.indexOf(v,X),ot=H.indexOf(p,X)}else if(ot!==-1&&(ot<st||st===-1))wt.push(H.substring(X,ot)),X=ot+lt,ot=H.indexOf(p,X);else{if(st===-1)break;if(wt.push(H.substring(X,st)),kt(st+ct),bt&&(Rt(),Q))return Ot();if(O&&Pt.length>=O)return Ot(!0)}return Tt();function xt(Bt){Pt.push(Bt),U=X}function gt(Bt){var qt=0;return qt=Bt!==-1&&(Bt=H.substring(_t+1,Bt))&&Bt.trim()===""?Bt.length:qt}function Tt(Bt){return rt||(Bt===void 0&&(Bt=H.substring(X)),wt.push(Bt),X=ft,xt(wt),bt&&Rt()),Ot()}function kt(Bt){X=Bt,xt(wt),wt=[],st=H.indexOf(v,X)}function Ot(Bt){if(m.header&&!nt&&Pt.length&&!z){var qt=Pt[0],jt=Object.create(null),de=new Set(qt);let he=!1;for(let ue=0;ue<qt.length;ue++){let ne=qt[ue];if(jt[ne=q(m.transformHeader)?m.transformHeader(ne,ue):ne]){let Ee,Ne=jt[ne];for(;Ee=ne+"_"+Ne,Ne++,de.has(Ee););de.add(Ee),qt[ue]=Ee,jt[ne]++,he=!0,(V=V===null?{}:V)[Ee]=ne}else jt[ne]=1,qt[ue]=ne;de.add(ne)}he&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:Pt,errors:St,meta:{delimiter:p,linebreak:v,aborted:Q,truncated:!!Bt,cursor:U+(nt||0),renamedHeaders:V}}}function Rt(){E(Ot()),Pt=[],St=[]}},this.abort=function(){Q=!0},this.getCharIndex=function(){return X}}function w(m){var p=m.data,v=u[p.workerId],S=!1;if(p.error)v.userError(p.error,p.file);else if(p.results&&p.results.data){var E={abort:function(){S=!0,F(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(q(v.userStep)){for(var O=0;O<p.results.data.length&&(v.userStep({data:p.results.data[O],errors:p.results.errors,meta:p.results.meta},E),!S);O++);delete p.results}else q(v.userChunk)&&(v.userChunk(p.results,E,p.file),delete p.results)}p.finished&&!S&&F(p.workerId,p.results)}function F(m,p){var v=u[m];q(v.userComplete)&&v.userComplete(p),v.terminate(),delete u[m]}function k(){throw new Error("Not implemented.")}function P(m){if(typeof m!="object"||m===null)return m;var p,v=Array.isArray(m)?[]:{};for(p in m)v[p]=P(m[p]);return v}function j(m,p){return function(){m.apply(p,arguments)}}function q(m){return typeof m=="function"}return f.parse=function(m,p){var v=(p=p||{}).dynamicTyping||!1;if(q(v)&&(p.dynamicTypingFunction=v,v={}),p.dynamicTyping=v,p.transform=!!q(p.transform)&&p.transform,!p.worker||!f.WORKERS_SUPPORTED)return v=null,f.NODE_STREAM_INPUT,typeof m=="string"?(m=(S=>S.charCodeAt(0)!==65279?S:S.slice(1))(m),v=new(p.download?_:x)(p)):m.readable===!0&&q(m.read)&&q(m.on)?v=new C(p):(n.File&&m instanceof File||m instanceof Object)&&(v=new b(p)),v.stream(m);(v=(()=>{var S;return!!f.WORKERS_SUPPORTED&&(S=(()=>{var E=n.URL||n.webkitURL||null,O=i.toString();return f.BLOB_URL||(f.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(S=new n.Worker(S)).onmessage=w,S.id=c++,u[S.id]=S)})()).userStep=p.step,v.userChunk=p.chunk,v.userComplete=p.complete,v.userError=p.error,p.step=q(p.step),p.chunk=q(p.chunk),p.complete=q(p.complete),p.error=q(p.error),delete p.worker,v.postMessage({input:m,config:p,workerId:v.id})},f.unparse=function(m,p){var v=!1,S=!0,E=",",O=`\r
`,G='"',V=G+G,z=!1,B=null,R=!1,X=((()=>{if(typeof p=="object"){if(typeof p.delimiter!="string"||f.BAD_DELIMITERS.filter(function(nt){return p.delimiter.indexOf(nt)!==-1}).length||(E=p.delimiter),typeof p.quotes!="boolean"&&typeof p.quotes!="function"&&!Array.isArray(p.quotes)||(v=p.quotes),typeof p.skipEmptyLines!="boolean"&&typeof p.skipEmptyLines!="string"||(z=p.skipEmptyLines),typeof p.newline=="string"&&(O=p.newline),typeof p.quoteChar=="string"&&(G=p.quoteChar),typeof p.header=="boolean"&&(S=p.header),Array.isArray(p.columns)){if(p.columns.length===0)throw new Error("Option columns is empty");B=p.columns}p.escapeChar!==void 0&&(V=p.escapeChar+G),p.escapeFormulae instanceof RegExp?R=p.escapeFormulae:typeof p.escapeFormulae=="boolean"&&p.escapeFormulae&&(R=/^[=+\-@\t\r].*$/)}})(),new RegExp(T(G),"g"));if(typeof m=="string"&&(m=JSON.parse(m)),Array.isArray(m)){if(!m.length||Array.isArray(m[0]))return Q(null,m,z);if(typeof m[0]=="object")return Q(B||Object.keys(m[0]),m,z)}else if(typeof m=="object")return typeof m.data=="string"&&(m.data=JSON.parse(m.data)),Array.isArray(m.data)&&(m.fields||(m.fields=m.meta&&m.meta.fields||B),m.fields||(m.fields=Array.isArray(m.data[0])?m.fields:typeof m.data[0]=="object"?Object.keys(m.data[0]):[]),Array.isArray(m.data[0])||typeof m.data[0]=="object"||(m.data=[m.data])),Q(m.fields||[],m.data||[],z);throw new Error("Unable to serialize unrecognized input");function Q(nt,rt,ft){var lt="",ct=(typeof nt=="string"&&(nt=JSON.parse(nt)),typeof rt=="string"&&(rt=JSON.parse(rt)),Array.isArray(nt)&&0<nt.length),Et=!Array.isArray(rt[0]);if(ct&&S){for(var bt=0;bt<nt.length;bt++)0<bt&&(lt+=E),lt+=H(nt[bt],bt);0<rt.length&&(lt+=O)}for(var Pt=0;Pt<rt.length;Pt++){var St=(ct?nt:rt[Pt]).length,wt=!1,U=ct?Object.keys(rt[Pt]).length===0:rt[Pt].length===0;if(ft&&!ct&&(wt=ft==="greedy"?rt[Pt].join("").trim()==="":rt[Pt].length===1&&rt[Pt][0].length===0),ft==="greedy"&&ct){for(var W=[],it=0;it<St;it++){var ot=Et?nt[it]:it;W.push(rt[Pt][ot])}wt=W.join("").trim()===""}if(!wt){for(var st=0;st<St;st++){0<st&&!U&&(lt+=E);var dt=ct&&Et?nt[st]:st;lt+=H(rt[Pt][dt],st)}Pt<rt.length-1&&(!ft||0<St&&!U)&&(lt+=O)}}return lt}function H(nt,rt){var ft,lt;return nt==null?"":nt.constructor===Date?JSON.stringify(nt).slice(1,25):(lt=!1,R&&typeof nt=="string"&&R.test(nt)&&(nt="'"+nt,lt=!0),ft=nt.toString().replace(X,V),(lt=lt||v===!0||typeof v=="function"&&v(nt,rt)||Array.isArray(v)&&v[rt]||((ct,Et)=>{for(var bt=0;bt<Et.length;bt++)if(-1<ct.indexOf(Et[bt]))return!0;return!1})(ft,f.BAD_DELIMITERS)||-1<ft.indexOf(E)||ft.charAt(0)===" "||ft.charAt(ft.length-1)===" ")?G+ft+G:ft)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!o&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=Z,f.ParserHandle=A,f.NetworkStreamer=_,f.FileStreamer=b,f.StringStreamer=x,f.ReadableStreamStreamer=C,n.jQuery&&((r=n.jQuery).fn.parse=function(m){var p=m.config||{},v=[];return this.each(function(O){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)v.push({file:this.files[G],inputElem:this,instanceConfig:r.extend({},p)})}),S(),this;function S(){if(v.length===0)q(m.complete)&&m.complete();else{var O,G,V,z,B=v[0];if(q(m.before)){var R=m.before(B.file,B.inputElem);if(typeof R=="object"){if(R.action==="abort")return O="AbortError",G=B.file,V=B.inputElem,z=R.reason,void(q(m.error)&&m.error({name:O},G,V,z));if(R.action==="skip")return void E();typeof R.config=="object"&&(B.instanceConfig=r.extend(B.instanceConfig,R.config))}else if(R==="skip")return void E()}var X=B.instanceConfig.complete;B.instanceConfig.complete=function(Q){q(X)&&X(Q,B.file,B.inputElem),E()},f.parse(B.file,B.instanceConfig)}}function E(){v.splice(0,1),S()}}),a&&(n.onmessage=function(m){m=m.data,f.WORKER_ID===void 0&&m&&(f.WORKER_ID=m.workerId),typeof m.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(m.input,m.config),finished:!0}):(n.File&&m.input instanceof File||m.input instanceof Object)&&(m=f.parse(m.input,m.config))&&n.postMessage({workerId:f.WORKER_ID,results:m,finished:!0})}),(_.prototype=Object.create(d.prototype)).constructor=_,(b.prototype=Object.create(d.prototype)).constructor=b,(x.prototype=Object.create(x.prototype)).constructor=x,(C.prototype=Object.create(d.prototype)).constructor=C,f})})(ra)),ra.exports}var ov=rv();const Gu=Ja(ov),Tp=(e,t="data.csv")=>{const i=e.map(u=>{const c={...u};return delete c["Distance (km)"],c}),n=Gu.unparse(i,{delimiter:",",header:!0}),r=new Blob(["\uFEFF"+n],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),a=URL.createObjectURL(r);o.setAttribute("href",a),o.setAttribute("download",t),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)};sa.config({name:"PAS-Cockpit",storeName:"pas_data"});const Gn=tv("data",()=>{const e=Ce([]),t=Ce(null),i=Ce(new Map),n=Ce({bassin:"TOUS",circ:"TOUTES"}),r=Ce(""),o=Ce(null),a=Ce(null),u=Ce(!1),c=Ce(!1),f=Ce(null),d=Ce("MAP"),_=Ce({targetCount:12,weights:{ips:10,rep:10,inclusion:8,dist:4,eff:2}}),b=$e(()=>[...new Set(e.value.map(H=>H.Bassin).filter(Boolean))].sort()),x=$e(()=>{let H=e.value;return n.value.bassin!=="TOUS"&&(H=H.filter(nt=>nt.Bassin===n.value.bassin)),[...new Set(H.map(nt=>nt.Circonscription).filter(Boolean))].sort()}),C=$e(()=>e.value.filter(H=>{if(r.value){const nt=r.value.toLowerCase();if(!((H["Nom complet"]||"").toLowerCase().includes(nt)||(H.Commune||"").toLowerCase().includes(nt)||(H.UAI||"").toLowerCase().includes(nt)))return!1}return!(n.value.bassin!=="TOUS"&&H.Bassin!==n.value.bassin||n.value.circ!=="TOUTES"&&H.Circonscription!==n.value.circ)})),A=$e(()=>[...new Set(e.value.map(H=>H["Nom du PAS"]))].sort()),T=$e(()=>[...new Set(C.value.map(nt=>nt["Nom du PAS"]))].sort()),Z=$e(()=>{const H={};return A.value.forEach(nt=>{const rt=e.value.filter(st=>st["Nom du PAS"]===nt);let ft=0,lt=0,ct=0,Et=0,bt=0,Pt=0,St=0,wt=0,U=0;const W={};rt.forEach(st=>{const dt=st["Effectifs (Archipel)"]||0;ft+=dt,st.IPS>0&&(lt+=st.IPS*dt,ct+=dt),Et+=st["Indice d'loignement"]||0,st.Degr==="2nd degr"?wt++:U++;const _t=st["Education prioritaire (Archipel)"],yt=st.Territoire;_t?.includes("REP+")?Pt++:(_t?.includes("REP")||yt&&(yt.includes("CLA")||yt.includes("TER")))&&bt++,St+=st.ULIS||0,st.Circonscription&&(W[st.Circonscription]=(W[st.Circonscription]||0)+1)});const it=Object.keys(W),ot=it.length>0?it.reduce((st,dt)=>(W[st]??0)>(W[dt]??0)?st:dt):"";H[nt]={name:nt,schoolCount:rt.length,collegeCount:wt,primaireCount:U,effectif:ft,ips:ct?(lt/ct).toFixed(1):"-",dist:rt.length?(Et/rt.length).toFixed(2):0,dominantCirc:ot,repCount:bt,repPlusCount:Pt,ulisCount:St}}),H}),w=$e(()=>{const H=T.value,nt=e.value.filter(Et=>H.includes(Et["Nom du PAS"]));let rt=0,ft=0,lt=0,ct=0;return nt.forEach(Et=>{rt+=Et["Effectifs (Archipel)"]||0,Et.IPS>0&&(ft+=Et.IPS*Et["Effectifs (Archipel)"],lt+=Et["Effectifs (Archipel)"]);const bt=Et["Education prioritaire (Archipel)"],Pt=Et.Territoire;(bt&&(bt.includes("REP+")||bt.includes("REP"))||Pt&&(Pt.includes("CLA")||Pt.includes("TER")))&&ct++}),{ips:lt?(ft/lt).toFixed(1):"-",effectif:rt,repCount:ct}});async function F(){try{return u.value=!0,await sa.setItem("schools_v2",JSON.parse(JSON.stringify(e.value))),c.value=!1,!0}catch(H){return console.error("Failed to save data:",H),!1}finally{u.value=!1}}async function k(){try{const H=await sa.getItem("schools_v2");return H&&Array.isArray(H)&&H.length>0?(e.value=H,!0):!1}catch(H){return console.error("Failed to load data from storage:",H),!1}}async function P(){try{await sa.removeItem("schools_v2"),window.location.reload()}catch(H){console.error("Failed to reset data:",H)}}function j(H){e.value=H}function q(H){t.value=H}function m(H,nt){const rt=e.value.find(ft=>ft.UAI===H);rt&&rt["Nom du PAS"]!==nt&&(rt["Nom du PAS"]=nt,c.value=!0)}function p(H,nt){!nt.trim()||H===nt||(e.value.forEach(rt=>{rt["Nom du PAS"]===H&&(rt["Nom du PAS"]=nt)}),c.value=!0,o.value===H&&(o.value=nt))}function v(H,nt){const rt=e.value.find(ft=>ft.UAI===H);rt&&nt.trim()&&rt["Nom complet"]!==nt&&(rt["Nom complet"]=nt,c.value=!0)}function S(H,nt){e.value.forEach(rt=>{rt["PAS.1.Collge de rattachement"]===H&&(rt["Nom du PAS"]=nt)}),c.value=!0}function E(H,nt,rt){const ft=e.value.find(lt=>lt.UAI===H);ft&&(ft["PAS.1.Collge de rattachement"]=nt,rt&&(ft["Nom du PAS"]=rt),c.value=!0)}function O(H){d.value=H}function G(H){r.value=H}function V(H,nt){n.value[H]=nt,H==="bassin"&&(n.value.circ="TOUTES"),o.value=null,a.value=null}function z(H){o.value=H,a.value=null}function B(H){if(!H){a.value=null;return}const nt=e.value.find(rt=>rt.UAI===H);a.value=nt||null,nt&&(o.value=nt["Nom du PAS"])}function R(H){f.value=H}function X(H){i.value=H}function Q(){Tp(e.value,"data.csv")}return{schools:e,sectorsGeoJson:t,rhData:i,filters:n,searchQuery:r,selectedPas:o,selectedSchool:a,isComputing:u,hasUnsavedChanges:c,hoveredSchoolUai:f,currentView:d,simulConfig:_,availableBassins:b,availableCircs:x,filteredSchools:C,allPasNames:A,filteredPasNames:T,pasMetrics:Z,departmentMetrics:w,setSchools:j,setSectorsGeoJson:q,setRhData:X,updateSchoolPas:m,renamePas:p,updateSectorPas:S,updateSchoolSector:E,setView:O,setSearchQuery:G,setFilter:V,selectPas:z,selectSchool:B,setHoveredSchool:R,saveData:F,loadFromStorage:k,resetData:P,renameSchool:v,exportToCsv:Q}});var Vl={exports:{}},wr={},cn={},ls={},Ph;function Qa(){if(Ph)return ls;Ph=1;function e(o,a,u){if(u===void 0&&(u=Array.prototype),o&&typeof u.find=="function")return u.find.call(o,a);for(var c=0;c<o.length;c++)if(Object.prototype.hasOwnProperty.call(o,c)){var f=o[c];if(a.call(void 0,f,c,o))return f}}function t(o,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(o):o}function i(o,a){if(o===null||typeof o!="object")throw new TypeError("target is not an object");for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u]);return o}var n=t({HTML:"text/html",isHTML:function(o){return o===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=t({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(o){return o===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return ls.assign=i,ls.find=e,ls.freeze=t,ls.MIME_TYPE=n,ls.NAMESPACE=r,ls}var Lh;function Pp(){if(Lh)return cn;Lh=1;var e=Qa(),t=e.find,i=e.NAMESPACE;function n(D){return D!==""}function r(D){return D?D.split(/[\t\n\f\r ]+/).filter(n):[]}function o(D,N){return D.hasOwnProperty(N)||(D[N]=!0),D}function a(D){if(!D)return[];var N=r(D);return Object.keys(N.reduce(o,{}))}function u(D){return function(N){return D&&D.indexOf(N)!==-1}}function c(D,N){for(var K in D)Object.prototype.hasOwnProperty.call(D,K)&&(N[K]=D[K])}function f(D,N){var K=D.prototype;if(!(K instanceof N)){let Mt=function(){};var pt=Mt;Mt.prototype=N.prototype,Mt=new Mt,c(K,Mt),D.prototype=K=Mt}K.constructor!=D&&(typeof D!="function"&&console.error("unknown Class:"+D),K.constructor=D)}var d={},_=d.ELEMENT_NODE=1,b=d.ATTRIBUTE_NODE=2,x=d.TEXT_NODE=3,C=d.CDATA_SECTION_NODE=4,A=d.ENTITY_REFERENCE_NODE=5,T=d.ENTITY_NODE=6,Z=d.PROCESSING_INSTRUCTION_NODE=7,w=d.COMMENT_NODE=8,F=d.DOCUMENT_NODE=9,k=d.DOCUMENT_TYPE_NODE=10,P=d.DOCUMENT_FRAGMENT_NODE=11,j=d.NOTATION_NODE=12,q={},m={};q.INDEX_SIZE_ERR=(m[1]="Index size error",1),q.DOMSTRING_SIZE_ERR=(m[2]="DOMString size error",2);var p=q.HIERARCHY_REQUEST_ERR=(m[3]="Hierarchy request error",3);q.WRONG_DOCUMENT_ERR=(m[4]="Wrong document",4),q.INVALID_CHARACTER_ERR=(m[5]="Invalid character",5),q.NO_DATA_ALLOWED_ERR=(m[6]="No data allowed",6),q.NO_MODIFICATION_ALLOWED_ERR=(m[7]="No modification allowed",7);var v=q.NOT_FOUND_ERR=(m[8]="Not found",8);q.NOT_SUPPORTED_ERR=(m[9]="Not supported",9);var S=q.INUSE_ATTRIBUTE_ERR=(m[10]="Attribute in use",10);q.INVALID_STATE_ERR=(m[11]="Invalid state",11),q.SYNTAX_ERR=(m[12]="Syntax error",12),q.INVALID_MODIFICATION_ERR=(m[13]="Invalid modification",13),q.NAMESPACE_ERR=(m[14]="Invalid namespace",14),q.INVALID_ACCESS_ERR=(m[15]="Invalid access",15);function E(D,N){if(N instanceof Error)var K=N;else K=this,Error.call(this,m[D]),this.message=m[D],Error.captureStackTrace&&Error.captureStackTrace(this,E);return K.code=D,N&&(this.message=this.message+": "+N),K}E.prototype=Error.prototype,c(q,E);function O(){}O.prototype={length:0,item:function(D){return D>=0&&D<this.length?this[D]:null},toString:function(D,N){for(var K=[],pt=0;pt<this.length;pt++)We(this[pt],K,D,N);return K.join("")},filter:function(D){return Array.prototype.filter.call(this,D)},indexOf:function(D){return Array.prototype.indexOf.call(this,D)}};function G(D,N){this._node=D,this._refresh=N,V(this)}function V(D){var N=D._node._inc||D._node.ownerDocument._inc;if(D._inc!==N){var K=D._refresh(D._node);if(Vi(D,"length",K.length),!D.$$length||K.length<D.$$length)for(var pt=K.length;pt in D;pt++)Object.prototype.hasOwnProperty.call(D,pt)&&delete D[pt];c(K,D),D._inc=N}}G.prototype.item=function(D){return V(this),this[D]||null},f(G,O);function z(){}function B(D,N){for(var K=D.length;K--;)if(D[K]===N)return K}function R(D,N,K,pt){if(pt?N[B(N,pt)]=K:N[N.length++]=K,D){K.ownerElement=D;var Mt=D.ownerDocument;Mt&&(pt&&ct(Mt,D,pt),lt(Mt,D,K))}}function X(D,N,K){var pt=B(N,K);if(pt>=0){for(var Mt=N.length-1;pt<Mt;)N[pt]=N[++pt];if(N.length=Mt,D){var Wt=D.ownerDocument;Wt&&(ct(Wt,D,K),K.ownerElement=null)}}else throw new E(v,new Error(D.tagName+"@"+K))}z.prototype={length:0,item:O.prototype.item,getNamedItem:function(D){for(var N=this.length;N--;){var K=this[N];if(K.nodeName==D)return K}},setNamedItem:function(D){var N=D.ownerElement;if(N&&N!=this._ownerElement)throw new E(S);var K=this.getNamedItem(D.nodeName);return R(this._ownerElement,this,D,K),K},setNamedItemNS:function(D){var N=D.ownerElement,K;if(N&&N!=this._ownerElement)throw new E(S);return K=this.getNamedItemNS(D.namespaceURI,D.localName),R(this._ownerElement,this,D,K),K},removeNamedItem:function(D){var N=this.getNamedItem(D);return X(this._ownerElement,this,N),N},removeNamedItemNS:function(D,N){var K=this.getNamedItemNS(D,N);return X(this._ownerElement,this,K),K},getNamedItemNS:function(D,N){for(var K=this.length;K--;){var pt=this[K];if(pt.localName==N&&pt.namespaceURI==D)return pt}return null}};function Q(){}Q.prototype={hasFeature:function(D,N){return!0},createDocument:function(D,N,K){var pt=new ft;if(pt.implementation=this,pt.childNodes=new O,pt.doctype=K||null,K&&pt.appendChild(K),N){var Mt=pt.createElementNS(D,N);pt.appendChild(Mt)}return pt},createDocumentType:function(D,N,K){var pt=new jt;return pt.name=D,pt.nodeName=D,pt.publicId=N||"",pt.systemId=K||"",pt}};function H(){}H.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(D,N){return yt(this,D,N)},replaceChild:function(D,N){yt(this,D,N,_t),N&&this.removeChild(N)},removeChild:function(D){return bt(this,D)},appendChild:function(D){return this.insertBefore(D,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(D){return ze(this.ownerDocument||this,this,D)},normalize:function(){for(var D=this.firstChild;D;){var N=D.nextSibling;N&&N.nodeType==x&&D.nodeType==x?(this.removeChild(N),D.appendData(N.data)):(D.normalize(),D=N)}},isSupported:function(D,N){return this.ownerDocument.implementation.hasFeature(D,N)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(D){for(var N=this;N;){var K=N._nsMap;if(K){for(var pt in K)if(Object.prototype.hasOwnProperty.call(K,pt)&&K[pt]===D)return pt}N=N.nodeType==b?N.ownerDocument:N.parentNode}return null},lookupNamespaceURI:function(D){for(var N=this;N;){var K=N._nsMap;if(K&&Object.prototype.hasOwnProperty.call(K,D))return K[D];N=N.nodeType==b?N.ownerDocument:N.parentNode}return null},isDefaultNamespace:function(D){var N=this.lookupPrefix(D);return N==null}};function nt(D){return D=="<"&&"&lt;"||D==">"&&"&gt;"||D=="&"&&"&amp;"||D=='"'&&"&quot;"||"&#"+D.charCodeAt()+";"}c(d,H),c(d,H.prototype);function rt(D,N){if(N(D))return!0;if(D=D.firstChild)do if(rt(D,N))return!0;while(D=D.nextSibling)}function ft(){this.ownerDocument=this}function lt(D,N,K){D&&D._inc++;var pt=K.namespaceURI;pt===i.XMLNS&&(N._nsMap[K.prefix?K.localName:""]=K.value)}function ct(D,N,K,pt){D&&D._inc++;var Mt=K.namespaceURI;Mt===i.XMLNS&&delete N._nsMap[K.prefix?K.localName:""]}function Et(D,N,K){if(D&&D._inc){D._inc++;var pt=N.childNodes;if(K)pt[pt.length++]=K;else{for(var Mt=N.firstChild,Wt=0;Mt;)pt[Wt++]=Mt,Mt=Mt.nextSibling;pt.length=Wt,delete pt[pt.length]}}}function bt(D,N){var K=N.previousSibling,pt=N.nextSibling;return K?K.nextSibling=pt:D.firstChild=pt,pt?pt.previousSibling=K:D.lastChild=K,N.parentNode=null,N.previousSibling=null,N.nextSibling=null,Et(D.ownerDocument,D),N}function Pt(D){return D&&(D.nodeType===H.DOCUMENT_NODE||D.nodeType===H.DOCUMENT_FRAGMENT_NODE||D.nodeType===H.ELEMENT_NODE)}function St(D){return D&&(U(D)||W(D)||wt(D)||D.nodeType===H.DOCUMENT_FRAGMENT_NODE||D.nodeType===H.COMMENT_NODE||D.nodeType===H.PROCESSING_INSTRUCTION_NODE)}function wt(D){return D&&D.nodeType===H.DOCUMENT_TYPE_NODE}function U(D){return D&&D.nodeType===H.ELEMENT_NODE}function W(D){return D&&D.nodeType===H.TEXT_NODE}function it(D,N){var K=D.childNodes||[];if(t(K,U)||wt(N))return!1;var pt=t(K,wt);return!(N&&pt&&K.indexOf(pt)>K.indexOf(N))}function ot(D,N){var K=D.childNodes||[];function pt(Wt){return U(Wt)&&Wt!==N}if(t(K,pt))return!1;var Mt=t(K,wt);return!(N&&Mt&&K.indexOf(Mt)>K.indexOf(N))}function st(D,N,K){if(!Pt(D))throw new E(p,"Unexpected parent node type "+D.nodeType);if(K&&K.parentNode!==D)throw new E(v,"child not in parent");if(!St(N)||wt(N)&&D.nodeType!==H.DOCUMENT_NODE)throw new E(p,"Unexpected node type "+N.nodeType+" for parent node type "+D.nodeType)}function dt(D,N,K){var pt=D.childNodes||[],Mt=N.childNodes||[];if(N.nodeType===H.DOCUMENT_FRAGMENT_NODE){var Wt=Mt.filter(U);if(Wt.length>1||t(Mt,W))throw new E(p,"More than one element or text in fragment");if(Wt.length===1&&!it(D,K))throw new E(p,"Element in fragment can not be inserted before doctype")}if(U(N)&&!it(D,K))throw new E(p,"Only one element can be added and only after doctype");if(wt(N)){if(t(pt,wt))throw new E(p,"Only one doctype is allowed");var ae=t(pt,U);if(K&&pt.indexOf(ae)<pt.indexOf(K))throw new E(p,"Doctype can only be inserted before an element");if(!K&&ae)throw new E(p,"Doctype can not be appended since element is present")}}function _t(D,N,K){var pt=D.childNodes||[],Mt=N.childNodes||[];if(N.nodeType===H.DOCUMENT_FRAGMENT_NODE){var Wt=Mt.filter(U);if(Wt.length>1||t(Mt,W))throw new E(p,"More than one element or text in fragment");if(Wt.length===1&&!ot(D,K))throw new E(p,"Element in fragment can not be inserted before doctype")}if(U(N)&&!ot(D,K))throw new E(p,"Only one element can be added and only after doctype");if(wt(N)){let ni=function(si){return wt(si)&&si!==K};var qe=ni;if(t(pt,ni))throw new E(p,"Only one doctype is allowed");var ae=t(pt,U);if(K&&pt.indexOf(ae)<pt.indexOf(K))throw new E(p,"Doctype can only be inserted before an element")}}function yt(D,N,K,pt){st(D,N,K),D.nodeType===H.DOCUMENT_NODE&&(pt||dt)(D,N,K);var Mt=N.parentNode;if(Mt&&Mt.removeChild(N),N.nodeType===P){var Wt=N.firstChild;if(Wt==null)return N;var ae=N.lastChild}else Wt=ae=N;var qe=K?K.previousSibling:D.lastChild;Wt.previousSibling=qe,ae.nextSibling=K,qe?qe.nextSibling=Wt:D.firstChild=Wt,K==null?D.lastChild=ae:K.previousSibling=ae;do{Wt.parentNode=D;var ni=D.ownerDocument||D;xt(Wt,ni)}while(Wt!==ae&&(Wt=Wt.nextSibling));return Et(D.ownerDocument||D,D),N.nodeType==P&&(N.firstChild=N.lastChild=null),N}function xt(D,N){if(D.ownerDocument!==N){if(D.ownerDocument=N,D.nodeType===_&&D.attributes)for(var K=0;K<D.attributes.length;K++){var pt=D.attributes.item(K);pt&&(pt.ownerDocument=N)}for(var Mt=D.firstChild;Mt;)xt(Mt,N),Mt=Mt.nextSibling}}function gt(D,N){N.parentNode&&N.parentNode.removeChild(N),N.parentNode=D,N.previousSibling=D.lastChild,N.nextSibling=null,N.previousSibling?N.previousSibling.nextSibling=N:D.firstChild=N,D.lastChild=N,Et(D.ownerDocument,D,N);var K=D.ownerDocument||D;return xt(N,K),N}ft.prototype={nodeName:"#document",nodeType:F,doctype:null,documentElement:null,_inc:1,insertBefore:function(D,N){if(D.nodeType==P){for(var K=D.firstChild;K;){var pt=K.nextSibling;this.insertBefore(K,N),K=pt}return D}return yt(this,D,N),xt(D,this),this.documentElement===null&&D.nodeType===_&&(this.documentElement=D),D},removeChild:function(D){return this.documentElement==D&&(this.documentElement=null),bt(this,D)},replaceChild:function(D,N){yt(this,D,N,_t),xt(D,this),N&&this.removeChild(N),U(D)&&(this.documentElement=D)},importNode:function(D,N){return qi(this,D,N)},getElementById:function(D){var N=null;return rt(this.documentElement,function(K){if(K.nodeType==_&&K.getAttribute("id")==D)return N=K,!0}),N},getElementsByClassName:function(D){var N=a(D);return new G(this,function(K){var pt=[];return N.length>0&&rt(K.documentElement,function(Mt){if(Mt!==K&&Mt.nodeType===_){var Wt=Mt.getAttribute("class");if(Wt){var ae=D===Wt;if(!ae){var qe=a(Wt);ae=N.every(u(qe))}ae&&pt.push(Mt)}}}),pt})},createElement:function(D){var N=new Tt;N.ownerDocument=this,N.nodeName=D,N.tagName=D,N.localName=D,N.childNodes=new O;var K=N.attributes=new z;return K._ownerElement=N,N},createDocumentFragment:function(){var D=new ne;return D.ownerDocument=this,D.childNodes=new O,D},createTextNode:function(D){var N=new Rt;return N.ownerDocument=this,N.appendData(D),N},createComment:function(D){var N=new Bt;return N.ownerDocument=this,N.appendData(D),N},createCDATASection:function(D){var N=new qt;return N.ownerDocument=this,N.appendData(D),N},createProcessingInstruction:function(D,N){var K=new Ee;return K.ownerDocument=this,K.tagName=K.nodeName=K.target=D,K.nodeValue=K.data=N,K},createAttribute:function(D){var N=new kt;return N.ownerDocument=this,N.name=D,N.nodeName=D,N.localName=D,N.specified=!0,N},createEntityReference:function(D){var N=new ue;return N.ownerDocument=this,N.nodeName=D,N},createElementNS:function(D,N){var K=new Tt,pt=N.split(":"),Mt=K.attributes=new z;return K.childNodes=new O,K.ownerDocument=this,K.nodeName=N,K.tagName=N,K.namespaceURI=D,pt.length==2?(K.prefix=pt[0],K.localName=pt[1]):K.localName=N,Mt._ownerElement=K,K},createAttributeNS:function(D,N){var K=new kt,pt=N.split(":");return K.ownerDocument=this,K.nodeName=N,K.name=N,K.namespaceURI=D,K.specified=!0,pt.length==2?(K.prefix=pt[0],K.localName=pt[1]):K.localName=N,K}},f(ft,H);function Tt(){this._nsMap={}}Tt.prototype={nodeType:_,hasAttribute:function(D){return this.getAttributeNode(D)!=null},getAttribute:function(D){var N=this.getAttributeNode(D);return N&&N.value||""},getAttributeNode:function(D){return this.attributes.getNamedItem(D)},setAttribute:function(D,N){var K=this.ownerDocument.createAttribute(D);K.value=K.nodeValue=""+N,this.setAttributeNode(K)},removeAttribute:function(D){var N=this.getAttributeNode(D);N&&this.removeAttributeNode(N)},appendChild:function(D){return D.nodeType===P?this.insertBefore(D,null):gt(this,D)},setAttributeNode:function(D){return this.attributes.setNamedItem(D)},setAttributeNodeNS:function(D){return this.attributes.setNamedItemNS(D)},removeAttributeNode:function(D){return this.attributes.removeNamedItem(D.nodeName)},removeAttributeNS:function(D,N){var K=this.getAttributeNodeNS(D,N);K&&this.removeAttributeNode(K)},hasAttributeNS:function(D,N){return this.getAttributeNodeNS(D,N)!=null},getAttributeNS:function(D,N){var K=this.getAttributeNodeNS(D,N);return K&&K.value||""},setAttributeNS:function(D,N,K){var pt=this.ownerDocument.createAttributeNS(D,N);pt.value=pt.nodeValue=""+K,this.setAttributeNode(pt)},getAttributeNodeNS:function(D,N){return this.attributes.getNamedItemNS(D,N)},getElementsByTagName:function(D){return new G(this,function(N){var K=[];return rt(N,function(pt){pt!==N&&pt.nodeType==_&&(D==="*"||pt.tagName==D)&&K.push(pt)}),K})},getElementsByTagNameNS:function(D,N){return new G(this,function(K){var pt=[];return rt(K,function(Mt){Mt!==K&&Mt.nodeType===_&&(D==="*"||Mt.namespaceURI===D)&&(N==="*"||Mt.localName==N)&&pt.push(Mt)}),pt})}},ft.prototype.getElementsByTagName=Tt.prototype.getElementsByTagName,ft.prototype.getElementsByTagNameNS=Tt.prototype.getElementsByTagNameNS,f(Tt,H);function kt(){}kt.prototype.nodeType=b,f(kt,H);function Ot(){}Ot.prototype={data:"",substringData:function(D,N){return this.data.substring(D,D+N)},appendData:function(D){D=this.data+D,this.nodeValue=this.data=D,this.length=D.length},insertData:function(D,N){this.replaceData(D,0,N)},appendChild:function(D){throw new Error(m[p])},deleteData:function(D,N){this.replaceData(D,N,"")},replaceData:function(D,N,K){var pt=this.data.substring(0,D),Mt=this.data.substring(D+N);K=pt+K+Mt,this.nodeValue=this.data=K,this.length=K.length}},f(Ot,H);function Rt(){}Rt.prototype={nodeName:"#text",nodeType:x,splitText:function(D){var N=this.data,K=N.substring(D);N=N.substring(0,D),this.data=this.nodeValue=N,this.length=N.length;var pt=this.ownerDocument.createTextNode(K);return this.parentNode&&this.parentNode.insertBefore(pt,this.nextSibling),pt}},f(Rt,Ot);function Bt(){}Bt.prototype={nodeName:"#comment",nodeType:w},f(Bt,Ot);function qt(){}qt.prototype={nodeName:"#cdata-section",nodeType:C},f(qt,Ot);function jt(){}jt.prototype.nodeType=k,f(jt,H);function de(){}de.prototype.nodeType=j,f(de,H);function he(){}he.prototype.nodeType=T,f(he,H);function ue(){}ue.prototype.nodeType=A,f(ue,H);function ne(){}ne.prototype.nodeName="#document-fragment",ne.prototype.nodeType=P,f(ne,H);function Ee(){}Ee.prototype.nodeType=Z,f(Ee,H);function Ne(){}Ne.prototype.serializeToString=function(D,N,K){return Se.call(D,N,K)},H.prototype.toString=Se;function Se(D,N){var K=[],pt=this.nodeType==9&&this.documentElement||this,Mt=pt.prefix,Wt=pt.namespaceURI;if(Wt&&Mt==null){var Mt=pt.lookupPrefix(Wt);if(Mt==null)var ae=[{namespace:Wt,prefix:null}]}return We(this,K,D,N,ae),K.join("")}function Ie(D,N,K){var pt=D.prefix||"",Mt=D.namespaceURI;if(!Mt||pt==="xml"&&Mt===i.XML||Mt===i.XMLNS)return!1;for(var Wt=K.length;Wt--;){var ae=K[Wt];if(ae.prefix===pt)return ae.namespace!==Mt}return!0}function Fe(D,N,K){D.push(" ",N,'="',K.replace(/[<>&"\t\n\r]/g,nt),'"')}function We(D,N,K,pt,Mt){if(Mt||(Mt=[]),pt)if(D=pt(D),D){if(typeof D=="string"){N.push(D);return}}else return;switch(D.nodeType){case _:var Wt=D.attributes,ae=Wt.length,De=D.firstChild,qe=D.tagName;K=i.isHTML(D.namespaceURI)||K;var ni=qe;if(!K&&!D.prefix&&D.namespaceURI){for(var si,gi=0;gi<Wt.length;gi++)if(Wt.item(gi).name==="xmlns"){si=Wt.item(gi).value;break}if(!si)for(var Le=Mt.length-1;Le>=0;Le--){var Ft=Mt[Le];if(Ft.prefix===""&&Ft.namespace===D.namespaceURI){si=Ft.namespace;break}}if(si!==D.namespaceURI)for(var Le=Mt.length-1;Le>=0;Le--){var Ft=Mt[Le];if(Ft.namespace===D.namespaceURI){Ft.prefix&&(ni=Ft.prefix+":"+qe);break}}}N.push("<",ni);for(var xi=0;xi<ae;xi++){var ri=Wt.item(xi);ri.prefix=="xmlns"?Mt.push({prefix:ri.localName,namespace:ri.value}):ri.nodeName=="xmlns"&&Mt.push({prefix:"",namespace:ri.value})}for(var xi=0;xi<ae;xi++){var ri=Wt.item(xi);if(Ie(ri,K,Mt)){var wi=ri.prefix||"",ji=ri.namespaceURI;Fe(N,wi?"xmlns:"+wi:"xmlns",ji),Mt.push({prefix:wi,namespace:ji})}We(ri,N,K,pt,Mt)}if(qe===ni&&Ie(D,K,Mt)){var wi=D.prefix||"",ji=D.namespaceURI;Fe(N,wi?"xmlns:"+wi:"xmlns",ji),Mt.push({prefix:wi,namespace:ji})}if(De||K&&!/^(?:meta|link|img|br|hr|input)$/i.test(qe)){if(N.push(">"),K&&/^script$/i.test(qe))for(;De;)De.data?N.push(De.data):We(De,N,K,pt,Mt.slice()),De=De.nextSibling;else for(;De;)We(De,N,K,pt,Mt.slice()),De=De.nextSibling;N.push("</",ni,">")}else N.push("/>");return;case F:case P:for(var De=D.firstChild;De;)We(De,N,K,pt,Mt.slice()),De=De.nextSibling;return;case b:return Fe(N,D.name,D.value);case x:return N.push(D.data.replace(/[<&>]/g,nt));case C:return N.push("<![CDATA[",D.data,"]]>");case w:return N.push("<!--",D.data,"-->");case k:var Yn=D.publicId,oi=D.systemId;if(N.push("<!DOCTYPE ",D.name),Yn)N.push(" PUBLIC ",Yn),oi&&oi!="."&&N.push(" ",oi),N.push(">");else if(oi&&oi!=".")N.push(" SYSTEM ",oi,">");else{var Xn=D.internalSubset;Xn&&N.push(" [",Xn,"]"),N.push(">")}return;case Z:return N.push("<?",D.target," ",D.data,"?>");case A:return N.push("&",D.nodeName,";");default:N.push("??",D.nodeName)}}function qi(D,N,K){var pt;switch(N.nodeType){case _:pt=N.cloneNode(!1),pt.ownerDocument=D;case P:break;case b:K=!0;break}if(pt||(pt=N.cloneNode(!1)),pt.ownerDocument=D,pt.parentNode=null,K)for(var Mt=N.firstChild;Mt;)pt.appendChild(qi(D,Mt,K)),Mt=Mt.nextSibling;return pt}function ze(D,N,K){var pt=new N.constructor;for(var Mt in N)if(Object.prototype.hasOwnProperty.call(N,Mt)){var Wt=N[Mt];typeof Wt!="object"&&Wt!=pt[Mt]&&(pt[Mt]=Wt)}switch(N.childNodes&&(pt.childNodes=new O),pt.ownerDocument=D,pt.nodeType){case _:var ae=N.attributes,qe=pt.attributes=new z,ni=ae.length;qe._ownerElement=pt;for(var si=0;si<ni;si++)pt.setAttributeNode(ze(D,ae.item(si),!0));break;case b:K=!0}if(K)for(var gi=N.firstChild;gi;)pt.appendChild(ze(D,gi,K)),gi=gi.nextSibling;return pt}function Vi(D,N,K){D[N]=K}try{if(Object.defineProperty){let D=function(N){switch(N.nodeType){case _:case P:var K=[];for(N=N.firstChild;N;)N.nodeType!==7&&N.nodeType!==8&&K.push(D(N)),N=N.nextSibling;return K.join("");default:return N.nodeValue}};var ar=D;Object.defineProperty(G.prototype,"length",{get:function(){return V(this),this.$$length}}),Object.defineProperty(H.prototype,"textContent",{get:function(){return D(this)},set:function(N){switch(this.nodeType){case _:case P:for(;this.firstChild;)this.removeChild(this.firstChild);(N||String(N))&&this.appendChild(this.ownerDocument.createTextNode(N));break;default:this.data=N,this.value=N,this.nodeValue=N}}}),Vi=function(N,K,pt){N["$$"+K]=pt}}}catch{}return cn.DocumentType=jt,cn.DOMException=E,cn.DOMImplementation=Q,cn.Element=Tt,cn.Node=H,cn.NodeList=O,cn.XMLSerializer=Ne,cn}var Er={},jl={},Mh;function av(){return Mh||(Mh=1,(function(e){var t=Qa().freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(jl)),jl}var zo={},kh;function lv(){if(kh)return zo;kh=1;var e=Qa().NAMESPACE,t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+t.source+i.source+"*(?::"+t.source+i.source+"*)?$"),r=0,o=1,a=2,u=3,c=4,f=5,d=6,_=7;function b(p,v){this.message=p,this.locator=v,Error.captureStackTrace&&Error.captureStackTrace(this,b)}b.prototype=new Error,b.prototype.name=b.name;function x(){}x.prototype={parse:function(p,v,S){var E=this.domBuilder;E.startDocument(),k(v,v={}),C(p,v,S,E,this.errorHandler),E.endDocument()}};function C(p,v,S,E,O){function G(gt){if(gt>65535){gt-=65536;var Tt=55296+(gt>>10),kt=56320+(gt&1023);return String.fromCharCode(Tt,kt)}else return String.fromCharCode(gt)}function V(gt){var Tt=gt.slice(1,-1);return Object.hasOwnProperty.call(S,Tt)?S[Tt]:Tt.charAt(0)==="#"?G(parseInt(Tt.substr(1).replace("x","0x"))):(O.error("entity not found:"+gt),gt)}function z(gt){if(gt>ft){var Tt=p.substring(ft,gt).replace(/&#?\w+;/g,V);H&&B(ft),E.characters(Tt,0,gt-ft),ft=gt}}function B(gt,Tt){for(;gt>=X&&(Tt=Q.exec(p));)R=Tt.index,X=R+Tt[0].length,H.lineNumber++;H.columnNumber=gt-R+1}for(var R=0,X=0,Q=/.*(?:\r\n?|\n)|.*$/g,H=E.locator,nt=[{currentNSMap:v}],rt={},ft=0;;){try{var lt=p.indexOf("<",ft);if(lt<0){if(!p.substr(ft).match(/^\s*$/)){var ct=E.doc,Et=ct.createTextNode(p.substr(ft));ct.appendChild(Et),E.currentElement=Et}return}switch(lt>ft&&z(lt),p.charAt(lt+1)){case"/":var st=p.indexOf(">",lt+3),bt=p.substring(lt+2,st).replace(/[ \t\n\r]+$/g,""),Pt=nt.pop();st<0?(bt=p.substring(lt+2).replace(/[\s<].*/,""),O.error("end tag name: "+bt+" is not complete:"+Pt.tagName),st=lt+1+bt.length):bt.match(/\s</)&&(bt=bt.replace(/[\s<].*/,""),O.error("end tag name: "+bt+" maybe not complete"),st=lt+1+bt.length);var St=Pt.localNSMap,wt=Pt.tagName==bt,U=wt||Pt.tagName&&Pt.tagName.toLowerCase()==bt.toLowerCase();if(U){if(E.endElement(Pt.uri,Pt.localName,bt),St)for(var W in St)Object.prototype.hasOwnProperty.call(St,W)&&E.endPrefixMapping(W);wt||O.fatalError("end tag name: "+bt+" is not match the current start tagName:"+Pt.tagName)}else nt.push(Pt);st++;break;case"?":H&&B(lt),st=j(p,lt,E);break;case"!":H&&B(lt),st=P(p,lt,E,O);break;default:H&&B(lt);var it=new q,ot=nt[nt.length-1].currentNSMap,st=T(p,lt,it,ot,V,O),dt=it.length;if(!it.closed&&F(p,st,it.tagName,rt)&&(it.closed=!0,S.nbsp||O.warning("unclosed xml attribute")),H&&dt){for(var _t=A(H,{}),yt=0;yt<dt;yt++){var xt=it[yt];B(xt.offset),xt.locator=A(H,{})}E.locator=_t,Z(it,E,ot)&&nt.push(it),E.locator=H}else Z(it,E,ot)&&nt.push(it);e.isHTML(it.uri)&&!it.closed?st=w(p,st,it.tagName,V,E):st++}}catch(gt){if(gt instanceof b)throw gt;O.error("element parse error: "+gt),st=-1}st>ft?ft=st:z(Math.max(lt,ft)+1)}}function A(p,v){return v.lineNumber=p.lineNumber,v.columnNumber=p.columnNumber,v}function T(p,v,S,E,O,G){function V(H,nt,rt){S.attributeNames.hasOwnProperty(H)&&G.fatalError("Attribute "+H+" redefined"),S.addValue(H,nt.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,O),rt)}for(var z,B,R=++v,X=r;;){var Q=p.charAt(R);switch(Q){case"=":if(X===o)z=p.slice(v,R),X=u;else if(X===a)X=u;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(X===u||X===o)if(X===o&&(G.warning('attribute value must after "="'),z=p.slice(v,R)),v=R+1,R=p.indexOf(Q,v),R>0)B=p.slice(v,R),V(z,B,v-1),X=f;else throw new Error("attribute value no end '"+Q+"' match");else if(X==c)B=p.slice(v,R),V(z,B,v),G.warning('attribute "'+z+'" missed start quot('+Q+")!!"),v=R+1,X=f;else throw new Error('attribute value must after "="');break;case"/":switch(X){case r:S.setTagName(p.slice(v,R));case f:case d:case _:X=_,S.closed=!0;case c:case o:break;case a:S.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return G.error("unexpected end of input"),X==r&&S.setTagName(p.slice(v,R)),R;case">":switch(X){case r:S.setTagName(p.slice(v,R));case f:case d:case _:break;case c:case o:B=p.slice(v,R),B.slice(-1)==="/"&&(S.closed=!0,B=B.slice(0,-1));case a:X===a&&(B=z),X==c?(G.warning('attribute "'+B+'" missed quot(")!'),V(z,B,v)):((!e.isHTML(E[""])||!B.match(/^(?:disabled|checked|selected)$/i))&&G.warning('attribute "'+B+'" missed value!! "'+B+'" instead!!'),V(B,B,v));break;case u:throw new Error("attribute value missed!!")}return R;case"":Q=" ";default:if(Q<=" ")switch(X){case r:S.setTagName(p.slice(v,R)),X=d;break;case o:z=p.slice(v,R),X=a;break;case c:var B=p.slice(v,R);G.warning('attribute "'+B+'" missed quot(")!!'),V(z,B,v);case f:X=d;break}else switch(X){case a:S.tagName,(!e.isHTML(E[""])||!z.match(/^(?:disabled|checked|selected)$/i))&&G.warning('attribute "'+z+'" missed value!! "'+z+'" instead2!!'),V(z,z,v),v=R,X=o;break;case f:G.warning('attribute space is required"'+z+'"!!');case d:X=o,v=R;break;case u:X=c,v=R;break;case _:throw new Error("elements closed character '/' and '>' must be connected to")}}R++}}function Z(p,v,S){for(var E=p.tagName,O=null,Q=p.length;Q--;){var G=p[Q],V=G.qName,z=G.value,H=V.indexOf(":");if(H>0)var B=G.prefix=V.slice(0,H),R=V.slice(H+1),X=B==="xmlns"&&R;else R=V,B=null,X=V==="xmlns"&&"";G.localName=R,X!==!1&&(O==null&&(O={},k(S,S={})),S[X]=O[X]=z,G.uri=e.XMLNS,v.startPrefixMapping(X,z))}for(var Q=p.length;Q--;){G=p[Q];var B=G.prefix;B&&(B==="xml"&&(G.uri=e.XML),B!=="xmlns"&&(G.uri=S[B||""]))}var H=E.indexOf(":");H>0?(B=p.prefix=E.slice(0,H),R=p.localName=E.slice(H+1)):(B=null,R=p.localName=E);var nt=p.uri=S[B||""];if(v.startElement(nt,R,E,p),p.closed){if(v.endElement(nt,R,E),O)for(B in O)Object.prototype.hasOwnProperty.call(O,B)&&v.endPrefixMapping(B)}else return p.currentNSMap=S,p.localNSMap=O,!0}function w(p,v,S,E,O){if(/^(?:script|textarea)$/i.test(S)){var G=p.indexOf("</"+S+">",v),V=p.substring(v+1,G);if(/[&<]/.test(V))return/^script$/i.test(S)?(O.characters(V,0,V.length),G):(V=V.replace(/&#?\w+;/g,E),O.characters(V,0,V.length),G)}return v+1}function F(p,v,S,E){var O=E[S];return O==null&&(O=p.lastIndexOf("</"+S+">"),O<v&&(O=p.lastIndexOf("</"+S)),E[S]=O),O<v}function k(p,v){for(var S in p)Object.prototype.hasOwnProperty.call(p,S)&&(v[S]=p[S])}function P(p,v,S,E){var O=p.charAt(v+2);switch(O){case"-":if(p.charAt(v+3)==="-"){var G=p.indexOf("-->",v+4);return G>v?(S.comment(p,v+4,G-v-4),G+3):(E.error("Unclosed comment"),-1)}else return-1;default:if(p.substr(v+3,6)=="CDATA["){var G=p.indexOf("]]>",v+9);return S.startCDATA(),S.characters(p,v+9,G-v-9),S.endCDATA(),G+3}var V=m(p,v),z=V.length;if(z>1&&/!doctype/i.test(V[0][0])){var B=V[1][0],R=!1,X=!1;z>3&&(/^public$/i.test(V[2][0])?(R=V[3][0],X=z>4&&V[4][0]):/^system$/i.test(V[2][0])&&(X=V[3][0]));var Q=V[z-1];return S.startDTD(B,R,X),S.endDTD(),Q.index+Q[0].length}}return-1}function j(p,v,S){var E=p.indexOf("?>",v);if(E){var O=p.substring(v,E).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return O?(O[0].length,S.processingInstruction(O[1],O[2]),E+2):-1}return-1}function q(){this.attributeNames={}}q.prototype={setTagName:function(p){if(!n.test(p))throw new Error("invalid tagName:"+p);this.tagName=p},addValue:function(p,v,S){if(!n.test(p))throw new Error("invalid attribute:"+p);this.attributeNames[p]=this.length,this[this.length++]={qName:p,value:v,offset:S}},length:0,getLocalName:function(p){return this[p].localName},getLocator:function(p){return this[p].locator},getQName:function(p){return this[p].qName},getURI:function(p){return this[p].uri},getValue:function(p){return this[p].value}};function m(p,v){var S,E=[],O=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(O.lastIndex=v,O.exec(p);S=O.exec(p);)if(E.push(S),S[1])return E}return zo.XMLReader=x,zo.ParseError=b,zo}var Oh;function uv(){if(Oh)return Er;Oh=1;var e=Qa(),t=Pp(),i=av(),n=lv(),r=t.DOMImplementation,o=e.NAMESPACE,a=n.ParseError,u=n.XMLReader;function c(T){return T.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function f(T){this.options=T||{locator:{}}}f.prototype.parseFromString=function(T,Z){var w=this.options,F=new u,k=w.domBuilder||new _,P=w.errorHandler,j=w.locator,q=w.xmlns||{},m=/\/x?html?$/.test(Z),p=m?i.HTML_ENTITIES:i.XML_ENTITIES;j&&k.setDocumentLocator(j),F.errorHandler=d(P,k,j),F.domBuilder=w.domBuilder||k,m&&(q[""]=o.HTML),q.xml=q.xml||o.XML;var v=w.normalizeLineEndings||c;return T&&typeof T=="string"?F.parse(v(T),q,p):F.errorHandler.error("invalid doc source"),k.doc};function d(T,Z,w){if(!T){if(Z instanceof _)return Z;T=Z}var F={},k=T instanceof Function;w=w||{};function P(j){var q=T[j];!q&&k&&(q=T.length==2?function(m){T(j,m)}:T),F[j]=q&&function(m){q("[xmldom "+j+"]	"+m+x(w))}||function(){}}return P("warning"),P("error"),P("fatalError"),F}function _(){this.cdata=!1}function b(T,Z){Z.lineNumber=T.lineNumber,Z.columnNumber=T.columnNumber}_.prototype={startDocument:function(){this.doc=new r().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(T,Z,w,F){var k=this.doc,P=k.createElementNS(T,w||Z),j=F.length;A(this,P),this.currentElement=P,this.locator&&b(this.locator,P);for(var q=0;q<j;q++){var T=F.getURI(q),m=F.getValue(q),w=F.getQName(q),p=k.createAttributeNS(T,w);this.locator&&b(F.getLocator(q),p),p.value=p.nodeValue=m,P.setAttributeNode(p)}},endElement:function(T,Z,w){var F=this.currentElement;F.tagName,this.currentElement=F.parentNode},startPrefixMapping:function(T,Z){},endPrefixMapping:function(T){},processingInstruction:function(T,Z){var w=this.doc.createProcessingInstruction(T,Z);this.locator&&b(this.locator,w),A(this,w)},ignorableWhitespace:function(T,Z,w){},characters:function(T,Z,w){if(T=C.apply(this,arguments),T){if(this.cdata)var F=this.doc.createCDATASection(T);else var F=this.doc.createTextNode(T);this.currentElement?this.currentElement.appendChild(F):/^\s*$/.test(T)&&this.doc.appendChild(F),this.locator&&b(this.locator,F)}},skippedEntity:function(T){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(T){(this.locator=T)&&(T.lineNumber=0)},comment:function(T,Z,w){T=C.apply(this,arguments);var F=this.doc.createComment(T);this.locator&&b(this.locator,F),A(this,F)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(T,Z,w){var F=this.doc.implementation;if(F&&F.createDocumentType){var k=F.createDocumentType(T,Z,w);this.locator&&b(this.locator,k),A(this,k),this.doc.doctype=k}},warning:function(T){console.warn("[xmldom warning]	"+T,x(this.locator))},error:function(T){console.error("[xmldom error]	"+T,x(this.locator))},fatalError:function(T){throw new a(T,this.locator)}};function x(T){if(T)return`
@`+(T.systemId||"")+"#[line:"+T.lineNumber+",col:"+T.columnNumber+"]"}function C(T,Z,w){return typeof T=="string"?T.substr(Z,w):T.length>=Z+w||Z?new java.lang.String(T,Z,w)+"":T}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(T){_.prototype[T]=function(){return null}});function A(T,Z){T.currentElement?T.currentElement.appendChild(Z):T.doc.appendChild(Z)}return Er.__DOMHandler=_,Er.normalizeLineEndings=c,Er.DOMParser=f,Er}var Ih;function cv(){if(Ih)return wr;Ih=1;var e=Pp();return wr.DOMImplementation=e.DOMImplementation,wr.XMLSerializer=e.XMLSerializer,wr.DOMParser=uv().DOMParser,wr}var Rh;function hv(){return Rh||(Rh=1,(function(e,t){var i=(function(){var n=/\s*/g,r=/^\s*|\s*$/g,o=/\s+/;function a(p){if(!p||!p.length)return 0;for(var v=0,S=0;v<p.length;v++)S=(S<<5)-S+p.charCodeAt(v)|0;return S}function u(p,v){return p.getElementsByTagName(v)}function c(p,v){return p.getAttribute(v)}function f(p,v){return parseFloat(c(p,v))}function d(p,v){var S=u(p,v);return S.length?S[0]:null}function _(p){return p.normalize&&p.normalize(),p}function b(p){for(var v=0,S=[];v<p.length;v++)S[v]=parseFloat(p[v]);return S}function x(p){return p&&_(p),p&&p.textContent||""}function C(p,v){var S={},E,O;for(O=0;O<v.length;O++)E=d(p,v[O]),E&&(S[v[O]]=x(E));return S}function A(p,v){for(var S in v)p[S]=v[S]}function T(p){return b(p.replace(n,"").split(","))}function Z(p){for(var v=p.replace(r,"").split(o),S=[],E=0;E<v.length;E++)S.push(T(v[E]));return S}function w(p){var v=[f(p,"lon"),f(p,"lat")],S=d(p,"ele"),E=d(p,"gpxtpx:hr")||d(p,"hr"),O=d(p,"time"),G;return S&&(G=parseFloat(x(S)),isNaN(G)||v.push(G)),{coordinates:v,time:O?x(O):null,heartRate:E?parseFloat(x(E)):null}}function F(){return{type:"FeatureCollection",features:[]}}var k;if(typeof XMLSerializer<"u")k=new XMLSerializer;else{var P=typeof process=="object"&&!process.browser,j=typeof Titanium=="object";if(P||j)k=new(cv()).XMLSerializer;else throw new Error("Unable to initialize serializer")}function q(p){return p.xml!==void 0?p.xml:k.serializeToString(p)}var m={kml:function(p){for(var v=F(),S={},E={},O={},G=["Polygon","LineString","Point","Track","gx:Track"],V=u(p,"Placemark"),z=u(p,"Style"),B=u(p,"StyleMap"),R=0;R<z.length;R++){var X=a(q(z[R])).toString(16);S["#"+c(z[R],"id")]=X,E[X]=z[R]}for(var Q=0;Q<B.length;Q++){S["#"+c(B[Q],"id")]=a(q(B[Q])).toString(16);for(var H=u(B[Q],"Pair"),nt={},rt=0;rt<H.length;rt++)nt[x(d(H[rt],"key"))]=x(d(H[rt],"styleUrl"));O["#"+c(B[Q],"id")]=nt}for(var ft=0;ft<V.length;ft++)v.features=v.features.concat(Pt(V[ft]));function lt(St){var wt,U;return St=St||"",St.substr(0,1)==="#"&&(St=St.substr(1)),(St.length===6||St.length===3)&&(wt=St),St.length===8&&(U=parseInt(St.substr(0,2),16)/255,wt="#"+St.substr(6,2)+St.substr(4,2)+St.substr(2,2)),[wt,isNaN(U)?void 0:U]}function ct(St){return b(St.split(" "))}function Et(St){var wt=u(St,"coord"),U=[],W=[];wt.length===0&&(wt=u(St,"gx:coord"));for(var it=0;it<wt.length;it++)U.push(ct(x(wt[it])));for(var ot=u(St,"when"),st=0;st<ot.length;st++)W.push(x(ot[st]));return{coords:U,times:W}}function bt(St){var wt,U,W,it,ot,st=[],dt=[];if(d(St,"MultiGeometry"))return bt(d(St,"MultiGeometry"));if(d(St,"MultiTrack"))return bt(d(St,"MultiTrack"));if(d(St,"gx:MultiTrack"))return bt(d(St,"gx:MultiTrack"));for(W=0;W<G.length;W++)if(U=u(St,G[W]),U){for(it=0;it<U.length;it++)if(wt=U[it],G[W]==="Point")st.push({type:"Point",coordinates:T(x(d(wt,"coordinates")))});else if(G[W]==="LineString")st.push({type:"LineString",coordinates:Z(x(d(wt,"coordinates")))});else if(G[W]==="Polygon"){var _t=u(wt,"LinearRing"),yt=[];for(ot=0;ot<_t.length;ot++)yt.push(Z(x(d(_t[ot],"coordinates"))));st.push({type:"Polygon",coordinates:yt})}else if(G[W]==="Track"||G[W]==="gx:Track"){var xt=Et(wt);st.push({type:"LineString",coordinates:xt.coords}),xt.times.length&&dt.push(xt.times)}}return{geoms:st,coordTimes:dt}}function Pt(St){var wt=bt(St),U,W={},it=x(d(St,"name")),ot=x(d(St,"address")),st=x(d(St,"styleUrl")),dt=x(d(St,"description")),_t=d(St,"TimeSpan"),yt=d(St,"TimeStamp"),xt=d(St,"ExtendedData"),gt=d(St,"LineStyle"),Tt=d(St,"PolyStyle"),kt=d(St,"visibility");if(!wt.geoms.length)return[];if(it&&(W.name=it),ot&&(W.address=ot),st){st[0]!=="#"&&(st="#"+st),W.styleUrl=st,S[st]&&(W.styleHash=S[st]),O[st]&&(W.styleMapHash=O[st],W.styleHash=S[O[st].normal]);var Ot=E[W.styleHash];if(Ot){gt||(gt=d(Ot,"LineStyle")),Tt||(Tt=d(Ot,"PolyStyle"));var Rt=d(Ot,"IconStyle");if(Rt){var Bt=d(Rt,"Icon");if(Bt){var qt=x(d(Bt,"href"));qt&&(W.icon=qt)}}}}if(dt&&(W.description=dt),_t){var jt=x(d(_t,"begin")),de=x(d(_t,"end"));W.timespan={begin:jt,end:de}}if(yt&&(W.timestamp=x(d(yt,"when"))),gt){var he=lt(x(d(gt,"color"))),ue=he[0],ne=he[1],Ee=parseFloat(x(d(gt,"width")));ue&&(W.stroke=ue),isNaN(ne)||(W["stroke-opacity"]=ne),isNaN(Ee)||(W["stroke-width"]=Ee)}if(Tt){var Ne=lt(x(d(Tt,"color"))),Se=Ne[0],Ie=Ne[1],Fe=x(d(Tt,"fill")),We=x(d(Tt,"outline"));Se&&(W.fill=Se),isNaN(Ie)||(W["fill-opacity"]=Ie),Fe&&(W["fill-opacity"]=Fe==="1"?W["fill-opacity"]||1:0),We&&(W["stroke-opacity"]=We==="1"?W["stroke-opacity"]||1:0)}if(xt){var qi=u(xt,"Data"),ze=u(xt,"SimpleData");for(U=0;U<qi.length;U++)W[qi[U].getAttribute("name")]=x(d(qi[U],"value"));for(U=0;U<ze.length;U++)W[ze[U].getAttribute("name")]=x(ze[U])}kt&&(W.visibility=x(kt)),wt.coordTimes.length&&(W.coordTimes=wt.coordTimes.length===1?wt.coordTimes[0]:wt.coordTimes);var Vi={type:"Feature",geometry:wt.geoms.length===1?wt.geoms[0]:{type:"GeometryCollection",geometries:wt.geoms},properties:W};return c(St,"id")&&(Vi.id=c(St,"id")),[Vi]}return v},gpx:function(p){var v,S=u(p,"trk"),E=u(p,"rte"),O=u(p,"wpt"),G=F(),V;for(v=0;v<S.length;v++)V=R(S[v]),V&&G.features.push(V);for(v=0;v<E.length;v++)V=X(E[v]),V&&G.features.push(V);for(v=0;v<O.length;v++)G.features.push(Q(O[v]));function z(rt,ft){for(var lt=0;lt<ft;lt++)rt.push(null);return rt}function B(rt,ft){var lt=u(rt,ft),ct=[],Et=[],bt=[],Pt=lt.length;if(Pt<2)return{};for(var St=0;St<Pt;St++){var wt=w(lt[St]);ct.push(wt.coordinates),wt.time&&Et.push(wt.time),(wt.heartRate||bt.length)&&(bt.length||z(bt,St),bt.push(wt.heartRate||null))}return{line:ct,times:Et,heartRates:bt}}function R(rt){for(var ft=u(rt,"trkseg"),lt=[],ct=[],Et=[],bt,Pt=0;Pt<ft.length;Pt++)if(bt=B(ft[Pt],"trkpt"),bt&&(bt.line&&lt.push(bt.line),bt.times&&bt.times.length&&ct.push(bt.times),Et.length||bt.heartRates&&bt.heartRates.length)){if(!Et.length)for(var St=0;St<Pt;St++)Et.push(z([],lt[St].length));bt.heartRates&&bt.heartRates.length?Et.push(bt.heartRates):Et.push(z([],bt.line.length||0))}if(lt.length!==0){var wt=nt(rt);return A(wt,H(d(rt,"extensions"))),ct.length&&(wt.coordTimes=lt.length===1?ct[0]:ct),Et.length&&(wt.heartRates=lt.length===1?Et[0]:Et),{type:"Feature",properties:wt,geometry:{type:lt.length===1?"LineString":"MultiLineString",coordinates:lt.length===1?lt[0]:lt}}}}function X(rt){var ft=B(rt,"rtept");if(ft.line){var lt=nt(rt);A(lt,H(d(rt,"extensions")));var ct={type:"Feature",properties:lt,geometry:{type:"LineString",coordinates:ft.line}};return ct}}function Q(rt){var ft=nt(rt);return A(ft,C(rt,["sym"])),{type:"Feature",properties:ft,geometry:{type:"Point",coordinates:w(rt).coordinates}}}function H(rt){var ft={};if(rt){var lt=d(rt,"line");if(lt){var ct=x(d(lt,"color")),Et=parseFloat(x(d(lt,"opacity"))),bt=parseFloat(x(d(lt,"width")));ct&&(ft.stroke=ct),isNaN(Et)||(ft["stroke-opacity"]=Et),isNaN(bt)||(ft["stroke-width"]=bt*96/25.4)}}return ft}function nt(rt){var ft=C(rt,["name","cmt","desc","type","time","keywords"]),lt=u(rt,"link");lt.length&&(ft.links=[]);for(var ct=0,Et;ct<lt.length;ct++)Et={href:c(lt[ct],"href")},A(Et,C(lt[ct],["text","type"])),ft.links.push(Et);return ft}return G}};return m})();e.exports=i})(Vl)),Vl.exports}hv();const Rs=e=>parseFloat(String(e).replace(",",".").replace(/\s/g,""))||0,fv=e=>new Promise((t,i)=>{Gu.parse(e,{header:!0,skipEmptyLines:!0,complete:n=>{const r=n.data.filter(o=>o.UAI&&o["Nom du PAS"]).map(o=>({...o,IPS:Rs(o.IPS),"Effectifs (Archipel)":Rs(o["Effectifs (Archipel)"]),Latitude:Rs(o.Latitude),Longitude:Rs(o.Longitude),"Indice d'loignement":Rs(o["Indice d'loignement"]),ULIS:Rs(o.ULIS)}));t(r)},error:n=>i(n)})});async function dv(){try{const t=await(await fetch("/pas-cockpit/data/data.csv")).text();return new Promise((i,n)=>{Gu.parse(t,{header:!0,skipEmptyLines:!0,complete:r=>{const o=new Map;r.data.forEach(a=>{const u=a["Nom du PAS"]?.trim();!u||u==="A dfinir"||o.has(u)||o.set(u,{uai:a.UAI||"",circonscription:a.Circonscription?.trim()||"",pas:u,mail:a.Mail?.trim()||"",location:`${a.Adresse||""} ${a["Code Postal"]||""} ${a.Ville||""}`.trim(),coord:`${a.Latitude||""},${a.Longitude||""}`,phone:a.Tlphone?.trim()||"",educ:a["Education prioritaire (Archipel)"]?.trim()||"",aesh:"",dacs:"",pilot2d:"",pilot1d:"",pilotEsms:"",partner:""})}),i(o)},error:r=>n(r)})})}catch(e){return console.error("Failed to load RH data:",e),new Map}}class pv{collegeSectors=null;circoSectors=null;collegeMap=new Map;circoMap=new Map;async loadSectors(){try{const t=await fetch("/pas-cockpit/data/secteurs-college.geojson");t.ok?(this.collegeSectors=await t.json(),this.indexCollegeSectors()):console.error("Failed to load secteurs-college.geojson");const i=await fetch("/pas-cockpit/data/circonscriptions-1er-degre.geojson");if(i.ok){const n=await i.json();if(n){const r=n.features.filter(o=>{const a=o.properties||{};return!!((a.code_departement||a.code_dept||a.dep||"")==="67"||a.circo_code&&String(a.circo_code).startsWith("067"))});this.circoSectors={type:"FeatureCollection",features:r},this.indexCircoSectors()}else console.error("Failed to parse circonscriptions-1er-degre.geojson data.")}else console.error("Failed to load circonscriptions-1er-degre.geojson")}catch(t){console.error("Error loading sector GeoJSONs:",t)}}indexCollegeSectors(){this.collegeSectors&&this.collegeSectors.features.forEach(t=>{const i=t.properties?.codeRNE;i&&this.collegeMap.set(i,t)})}indexCircoSectors(){this.circoSectors&&this.circoSectors.features.forEach(t=>{const i=t.properties?.circo_nom;i&&this.circoMap.set(i,t)})}getPolygonForCollege(t){return this.collegeMap.get(t)||null}getPolygonForCirco(t){let i=this.circoMap.get(t);return i||null}getAllCollegeSectors(){return this.collegeSectors||{type:"FeatureCollection",features:[]}}getAllCircoSectors(){return this.circoSectors||{type:"FeatureCollection",features:[]}}}const Ea=new pv,gv={class:"h-screen w-screen flex flex-col overflow-hidden bg-slate-50 text-slate-800"},mv={class:"h-14 bg-white border-b border-slate-200 flex items-center justify-between px-4 z-20 flex-shrink-0"},_v={class:"flex items-center gap-4"},vv={class:"flex items-center gap-3"},yv={class:"flex-1 flex overflow-hidden"},bv={class:"h-full overflow-y-auto p-4"},xv={class:"flex-1 relative min-w-0 bg-slate-100 overflow-hidden flex flex-col"},wv={class:"h-full flex flex-col"},Ev={class:"p-2 border-b border-slate-100 flex justify-between items-center"},Sv={class:"flex-1 overflow-y-auto p-4 text-sm"},Av=Ui({__name:"AppLayout",setup(e){const t=Ce(!0),i=Ce(!0);return(n,r)=>(Ht(),Vt("div",gv,[Y("header",mv,[Y("div",_v,[r[4]||(r[4]=Y("h1",{class:"text-xl font-bold tracking-tight text-slate-900 flex items-center gap-2"},[Y("span",{class:"text-blue-600"},""),_i(" Cockpit PAS 67 "),Y("span",{class:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full"},"V2")],-1)),Y("button",{onClick:r[0]||(r[0]=o=>t.value=!t.value),class:Me(["p-1.5 rounded hover:bg-slate-100 text-slate-500 transition-colors",{"bg-blue-50 text-blue-600":!t.value}]),title:"Afficher/masquer les filtres"},[...r[3]||(r[3]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Y("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),Y("path",{d:"M9 3v18"})],-1)])],2),r[5]||(r[5]=Y("div",{class:"h-6 w-px bg-slate-200 mx-2"},null,-1)),yr(n.$slots,"header-center")]),Y("div",vv,[yr(n.$slots,"header-actions"),i.value?He("",!0):(Ht(),Vt("button",{key:0,onClick:r[1]||(r[1]=o=>i.value=!0),class:"p-1.5 rounded bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"Afficher le panneau dtails"},[...r[6]||(r[6]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Y("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),Y("path",{d:"M15 3v18"})],-1)])]))])]),Y("div",yv,[Y("aside",{class:Me(["bg-white border-r border-slate-200 flex-shrink-0 transition-all duration-300 ease-in-out relative z-10",t.value?"w-64 translate-x-0":"w-0 -translate-x-full opacity-0 overflow-hidden"])},[Y("div",bv,[yr(n.$slots,"sidebar")])],2),Y("main",xv,[yr(n.$slots,"main")]),Y("aside",{class:Me(["bg-white border-l border-slate-200 flex-shrink-0 transition-all duration-300 ease-in-out z-10",i.value?"w-80 translate-x-0":"w-0 translate-x-full opacity-0 overflow-hidden"])},[Y("div",wv,[Y("div",Ev,[r[8]||(r[8]=Y("span",{class:"text-xs font-bold uppercase text-slate-400"},"Dtails",-1)),Y("button",{onClick:r[2]||(r[2]=o=>i.value=!1),class:"p-1 rounded hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition-colors",title:"Masquer ce panneau"},[...r[7]||(r[7]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Y("path",{d:"m9 18 6-6-6-6"})],-1)])])]),Y("div",Sv,[yr(n.$slots,"right-panel")])])],2)])]))}});var Br={exports:{}};var Cv=Br.exports,Bh;function Dv(){return Bh||(Bh=1,(function(e,t){(function(i,n){n(t)})(Cv,(function(i){var n="1.9.4";function r(s){var l,h,g,y;for(h=1,g=arguments.length;h<g;h++){y=arguments[h];for(l in y)s[l]=y[l]}return s}var o=Object.create||(function(){function s(){}return function(l){return s.prototype=l,new s}})();function a(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var g=h.call(arguments,2);return function(){return s.apply(l,g.length?g.concat(h.call(arguments)):arguments)}}var u=0;function c(s){return"_leaflet_id"in s||(s._leaflet_id=++u),s._leaflet_id}function f(s,l,h){var g,y,M,tt;return tt=function(){g=!1,y&&(M.apply(h,y),y=!1)},M=function(){g?y=arguments:(s.apply(h,arguments),setTimeout(tt,l),g=!0)},M}function d(s,l,h){var g=l[1],y=l[0],M=g-y;return s===g&&h?s:((s-y)%M+M)%M+y}function _(){return!1}function b(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function x(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function C(s){return x(s).split(/\s+/)}function A(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?o(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function T(s,l,h){var g=[];for(var y in s)g.push(encodeURIComponent(h?y.toUpperCase():y)+"="+encodeURIComponent(s[y]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var Z=/\{ *([\w_ -]+) *\}/g;function w(s,l){return s.replace(Z,function(h,g){var y=l[g];if(y===void 0)throw new Error("No value provided for variable "+h);return typeof y=="function"&&(y=y(l)),y})}var F=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function k(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var P="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function j(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var q=0;function m(s){var l=+new Date,h=Math.max(0,16-(l-q));return q=l+h,window.setTimeout(s,h)}var p=window.requestAnimationFrame||j("RequestAnimationFrame")||m,v=window.cancelAnimationFrame||j("CancelAnimationFrame")||j("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function S(s,l,h){if(h&&p===m)s.call(l);else return p.call(window,a(s,l))}function E(s){s&&v.call(window,s)}var O={__proto__:null,extend:r,create:o,bind:a,get lastId(){return u},stamp:c,throttle:f,wrapNum:d,falseFn:_,formatNum:b,trim:x,splitWords:C,setOptions:A,getParamString:T,template:w,isArray:F,indexOf:k,emptyImageUrl:P,requestFn:p,cancelFn:v,requestAnimFrame:S,cancelAnimFrame:E};function G(){}G.extend=function(s){var l=function(){A(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,g=o(h);g.constructor=l,l.prototype=g;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(l[y]=this[y]);return s.statics&&r(l,s.statics),s.includes&&(V(s.includes),r.apply(null,[g].concat(s.includes))),r(g,s),delete g.statics,delete g.includes,g.options&&(g.options=h.options?o(h.options):{},r(g.options,s.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,tt=g._initHooks.length;M<tt;M++)g._initHooks[M].call(this)}},l},G.include=function(s){var l=this.prototype.options;return r(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},G.mergeOptions=function(s){return r(this.prototype.options,s),this},G.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function V(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=F(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var z={on:function(s,l,h){if(typeof s=="object")for(var g in s)this._on(g,s[g],l);else{s=C(s);for(var y=0,M=s.length;y<M;y++)this._on(s[y],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var g in s)this._off(g,s[g],l);else{s=C(s);for(var y=arguments.length===1,M=0,tt=s.length;M<tt;M++)y?this._off(s[M]):this._off(s[M],l,h)}return this},_on:function(s,l,h,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var y={fn:l,ctx:h};g&&(y.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(y)}},_off:function(s,l,h){var g,y,M;if(this._events&&(g=this._events[s],!!g)){if(arguments.length===1){if(this._firingCount)for(y=0,M=g.length;y<M;y++)g[y].fn=_;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var tt=this._listens(s,l,h);if(tt!==!1){var ht=g[tt];this._firingCount&&(ht.fn=_,this._events[s]=g=g.slice()),g.splice(tt,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var g=r({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var y=this._events[s];if(y){this._firingCount=this._firingCount+1||1;for(var M=0,tt=y.length;M<tt;M++){var ht=y[M],mt=ht.fn;ht.once&&this.off(s,mt,ht.ctx),mt.call(ht.ctx||this,g)}this._firingCount--}}return h&&this._propagateEvent(g),this},listens:function(s,l,h,g){typeof s!="string"&&console.warn('"string" type argument expected');var y=l;typeof l!="function"&&(g=!!l,y=void 0,h=void 0);var M=this._events&&this._events[s];if(M&&M.length&&this._listens(s,y,h)!==!1)return!0;if(g){for(var tt in this._eventParents)if(this._eventParents[tt].listens(s,l,h,g))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var g=this._events[s]||[];if(!l)return!!g.length;h===this&&(h=void 0);for(var y=0,M=g.length;y<M;y++)if(g[y].fn===l&&g[y].ctx===h)return y;return!1},once:function(s,l,h){if(typeof s=="object")for(var g in s)this._on(g,s[g],l,!0);else{s=C(s);for(var y=0,M=s.length;y<M;y++)this._on(s[y],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[c(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[c(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,r({layer:s.target,propagatedFrom:s.target},s),!0)}};z.addEventListener=z.on,z.removeEventListener=z.clearAllEventListeners=z.off,z.addOneTimeEventListener=z.once,z.fireEvent=z.fire,z.hasEventListeners=z.listens;var B=G.extend(z);function R(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var X=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(s){return this.clone()._add(Q(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(Q(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new R(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new R(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(s){s=Q(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=Q(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=Q(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function Q(s,l,h){return s instanceof R?s:F(s)?new R(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new R(s.x,s.y):new R(s,l,h)}function H(s,l){if(s)for(var h=l?[s,l]:s,g=0,y=h.length;g<y;g++)this.extend(h[g])}H.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof R||typeof s[0]=="number"||"x"in s)l=h=Q(s);else if(s=nt(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof R?s=Q(s):s=nt(s),s instanceof H?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=nt(s);var l=this.min,h=this.max,g=s.min,y=s.max,M=y.x>=l.x&&g.x<=h.x,tt=y.y>=l.y&&g.y<=h.y;return M&&tt},overlaps:function(s){s=nt(s);var l=this.min,h=this.max,g=s.min,y=s.max,M=y.x>l.x&&g.x<h.x,tt=y.y>l.y&&g.y<h.y;return M&&tt},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,g=Math.abs(l.x-h.x)*s,y=Math.abs(l.y-h.y)*s;return nt(Q(l.x-g,l.y-y),Q(h.x+g,h.y+y))},equals:function(s){return s?(s=nt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function nt(s,l){return!s||s instanceof H?s:new H(s,l)}function rt(s,l){if(s)for(var h=l?[s,l]:s,g=0,y=h.length;g<y;g++)this.extend(h[g])}rt.prototype={extend:function(s){var l=this._southWest,h=this._northEast,g,y;if(s instanceof lt)g=s,y=s;else if(s instanceof rt){if(g=s._southWest,y=s._northEast,!g||!y)return this}else return s?this.extend(ct(s)||ft(s)):this;return!l&&!h?(this._southWest=new lt(g.lat,g.lng),this._northEast=new lt(y.lat,y.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),h.lat=Math.max(y.lat,h.lat),h.lng=Math.max(y.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,g=Math.abs(l.lat-h.lat)*s,y=Math.abs(l.lng-h.lng)*s;return new rt(new lt(l.lat-g,l.lng-y),new lt(h.lat+g,h.lng+y))},getCenter:function(){return new lt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new lt(this.getNorth(),this.getWest())},getSouthEast:function(){return new lt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof lt||"lat"in s?s=ct(s):s=ft(s);var l=this._southWest,h=this._northEast,g,y;return s instanceof rt?(g=s.getSouthWest(),y=s.getNorthEast()):g=y=s,g.lat>=l.lat&&y.lat<=h.lat&&g.lng>=l.lng&&y.lng<=h.lng},intersects:function(s){s=ft(s);var l=this._southWest,h=this._northEast,g=s.getSouthWest(),y=s.getNorthEast(),M=y.lat>=l.lat&&g.lat<=h.lat,tt=y.lng>=l.lng&&g.lng<=h.lng;return M&&tt},overlaps:function(s){s=ft(s);var l=this._southWest,h=this._northEast,g=s.getSouthWest(),y=s.getNorthEast(),M=y.lat>l.lat&&g.lat<h.lat,tt=y.lng>l.lng&&g.lng<h.lng;return M&&tt},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=ft(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ft(s,l){return s instanceof rt?s:new rt(s,l)}function lt(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}lt.prototype={equals:function(s,l){if(!s)return!1;s=ct(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+b(this.lat,s)+", "+b(this.lng,s)+")"},distanceTo:function(s){return bt.distance(this,ct(s))},wrap:function(){return bt.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return ft([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new lt(this.lat,this.lng,this.alt)}};function ct(s,l,h){return s instanceof lt?s:F(s)&&typeof s[0]!="object"?s.length===3?new lt(s[0],s[1],s[2]):s.length===2?new lt(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new lt(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new lt(s,l,h)}var Et={latLngToPoint:function(s,l){var h=this.projection.project(s),g=this.scale(l);return this.transformation._transform(h,g)},pointToLatLng:function(s,l){var h=this.scale(l),g=this.transformation.untransform(s,h);return this.projection.unproject(g)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),g=this.transformation.transform(l.min,h),y=this.transformation.transform(l.max,h);return new H(g,y)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?d(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?d(s.lat,this.wrapLat,!0):s.lat,g=s.alt;return new lt(h,l,g)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),g=l.lat-h.lat,y=l.lng-h.lng;if(g===0&&y===0)return s;var M=s.getSouthWest(),tt=s.getNorthEast(),ht=new lt(M.lat-g,M.lng-y),mt=new lt(tt.lat-g,tt.lng-y);return new rt(ht,mt)}},bt=r({},Et,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,g=s.lat*h,y=l.lat*h,M=Math.sin((l.lat-s.lat)*h/2),tt=Math.sin((l.lng-s.lng)*h/2),ht=M*M+Math.cos(g)*Math.cos(y)*tt*tt,mt=2*Math.atan2(Math.sqrt(ht),Math.sqrt(1-ht));return this.R*mt}}),Pt=6378137,St={R:Pt,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,g=Math.max(Math.min(h,s.lat),-h),y=Math.sin(g*l);return new R(this.R*s.lng*l,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(s){var l=180/Math.PI;return new lt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:(function(){var s=Pt*Math.PI;return new H([-s,-s],[s,s])})()};function wt(s,l,h,g){if(F(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=g}wt.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new R((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function U(s,l,h,g){return new wt(s,l,h,g)}var W=r({},bt,{code:"EPSG:3857",projection:St,transformation:(function(){var s=.5/(Math.PI*St.R);return U(s,.5,-s,.5)})()}),it=r({},W,{code:"EPSG:900913"});function ot(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function st(s,l){var h="",g,y,M,tt,ht,mt;for(g=0,M=s.length;g<M;g++){for(ht=s[g],y=0,tt=ht.length;y<tt;y++)mt=ht[y],h+=(y?"L":"M")+mt.x+" "+mt.y;h+=l?Ft.svg?"z":"x":""}return h||"M0 0"}var dt=document.documentElement.style,_t="ActiveXObject"in window,yt=_t&&!document.addEventListener,xt="msLaunchUri"in navigator&&!("documentMode"in document),gt=Le("webkit"),Tt=Le("android"),kt=Le("android 2")||Le("android 3"),Ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Rt=Tt&&Le("Google")&&Ot<537&&!("AudioNode"in window),Bt=!!window.opera,qt=!xt&&Le("chrome"),jt=Le("gecko")&&!gt&&!Bt&&!_t,de=!qt&&Le("safari"),he=Le("phantom"),ue="OTransition"in dt,ne=navigator.platform.indexOf("Win")===0,Ee=_t&&"transition"in dt,Ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kt,Se="MozPerspective"in dt,Ie=!window.L_DISABLE_3D&&(Ee||Ne||Se)&&!ue&&!he,Fe=typeof orientation<"u"||Le("mobile"),We=Fe&&gt,qi=Fe&&Ne,ze=!window.PointerEvent&&window.MSPointerEvent,Vi=!!(window.PointerEvent||ze),ar="ontouchstart"in window||!!window.TouchEvent,D=!window.L_NO_TOUCH&&(ar||Vi),N=Fe&&Bt,K=Fe&&jt,pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mt=(function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",_,l),window.removeEventListener("testPassiveEventSupport",_,l)}catch{}return s})(),Wt=(function(){return!!document.createElement("canvas").getContext})(),ae=!!(document.createElementNS&&ot("svg").createSVGRect),qe=!!ae&&(function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ni=!ae&&(function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),si=navigator.platform.indexOf("Mac")===0,gi=navigator.platform.indexOf("Linux")===0;function Le(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ft={ie:_t,ielt9:yt,edge:xt,webkit:gt,android:Tt,android23:kt,androidStock:Rt,opera:Bt,chrome:qt,gecko:jt,safari:de,phantom:he,opera12:ue,win:ne,ie3d:Ee,webkit3d:Ne,gecko3d:Se,any3d:Ie,mobile:Fe,mobileWebkit:We,mobileWebkit3d:qi,msPointer:ze,pointer:Vi,touch:D,touchNative:ar,mobileOpera:N,mobileGecko:K,retina:pt,passiveEvents:Mt,canvas:Wt,svg:ae,vml:ni,inlineSvg:qe,mac:si,linux:gi},xi=Ft.msPointer?"MSPointerDown":"pointerdown",ri=Ft.msPointer?"MSPointerMove":"pointermove",wi=Ft.msPointer?"MSPointerUp":"pointerup",ji=Ft.msPointer?"MSPointerCancel":"pointercancel",De={touchstart:xi,touchmove:ri,touchend:wi,touchcancel:ji},Yn={touchstart:Jn,touchmove:Kn,touchend:Kn,touchcancel:Kn},oi={},Xn=!1;function ol(s,l,h){return l==="touchstart"&&cl(),Yn[l]?(h=Yn[l].bind(this,h),s.addEventListener(De[l],h,!1),h):(console.warn("wrong event specified:",l),_)}function al(s,l,h){if(!De[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(De[l],h,!1)}function ll(s){oi[s.pointerId]=s}function ul(s){oi[s.pointerId]&&(oi[s.pointerId]=s)}function vo(s){delete oi[s.pointerId]}function cl(){Xn||(document.addEventListener(xi,ll,!0),document.addEventListener(ri,ul,!0),document.addEventListener(wi,vo,!0),document.addEventListener(ji,vo,!0),Xn=!0)}function Kn(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in oi)l.touches.push(oi[h]);l.changedTouches=[l],s(l)}}function Jn(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&Ze(l),Kn(s,l)}function yo(s){var l={},h,g;for(g in s)h=s[g],l[g]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Dn=200;function hl(s,l){s.addEventListener("dblclick",l);var h=0,g;function y(M){if(M.detail!==1){g=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var tt=fc(M);if(!(tt.some(function(mt){return mt instanceof HTMLLabelElement&&mt.attributes.for})&&!tt.some(function(mt){return mt instanceof HTMLInputElement||mt instanceof HTMLSelectElement}))){var ht=Date.now();ht-h<=Dn?(g++,g===2&&l(yo(M))):g=1,h=ht}}}return s.addEventListener("click",y),{dblclick:l,simDblclick:y}}function Ss(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Qn=zt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ts=zt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bo=ts==="webkitTransition"||ts==="OTransition"?ts+"End":"transitionend";function As(s){return typeof s=="string"?document.getElementById(s):s}function es(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(s,null);h=g?g[l]:null}return h==="auto"?null:h}function se(s,l,h){var g=document.createElement(s);return g.className=l||"",h&&h.appendChild(g),g}function I(s){var l=s.parentNode;l&&l.removeChild(s)}function et(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function $(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function at(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function ut(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Lt(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function J(s,l){if(s.classList!==void 0)for(var h=C(l),g=0,y=h.length;g<y;g++)s.classList.add(h[g]);else if(!ut(s,l)){var M=Lt(s);Ct(s,(M?M+" ":"")+l)}}function vt(s,l){s.classList!==void 0?s.classList.remove(l):Ct(s,x((" "+Lt(s)+" ").replace(" "+l+" "," ")))}function Ct(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Lt(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Dt(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&It(s,l)}function It(s,l){var h=!1,g="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+g+"(opacity="+l+")"}function zt(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Xt(s,l,h){var g=l||new R(0,0);s.style[Qn]=(Ft.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(h?" scale("+h+")":"")}function Zt(s,l){s._leaflet_pos=l,Ft.any3d?Xt(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ee(s){return s._leaflet_pos||new R(0,0)}var ve,ge,Ye;if("onselectstart"in document)ve=function(){Jt(window,"selectstart",Ze)},ge=function(){ye(window,"selectstart",Ze)};else{var ki=zt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ve=function(){if(ki){var s=document.documentElement.style;Ye=s[ki],s[ki]="none"}},ge=function(){ki&&(document.documentElement.style[ki]=Ye,Ye=void 0)}}function is(){Jt(window,"dragstart",Ze)}function lr(){ye(window,"dragstart",Ze)}var Tn,xo;function ur(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Cs(),Tn=s,xo=s.style.outlineStyle,s.style.outlineStyle="none",Jt(window,"keydown",Cs))}function Cs(){Tn&&(Tn.style.outlineStyle=xo,Tn=void 0,xo=void 0,ye(window,"keydown",Cs))}function cr(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function fl(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Og={__proto__:null,TRANSFORM:Qn,TRANSITION:ts,TRANSITION_END:bo,get:As,getStyle:es,create:se,remove:I,empty:et,toFront:$,toBack:at,hasClass:ut,addClass:J,removeClass:vt,setClass:Ct,getClass:Lt,setOpacity:Dt,testProp:zt,setTransform:Xt,setPosition:Zt,getPosition:ee,get disableTextSelection(){return ve},get enableTextSelection(){return ge},disableImageDrag:is,enableImageDrag:lr,preventOutline:ur,restoreOutline:Cs,getSizedParentNode:cr,getScale:fl};function Jt(s,l,h,g){if(l&&typeof l=="object")for(var y in l)pl(s,y,l[y],h);else{l=C(l);for(var M=0,tt=l.length;M<tt;M++)pl(s,l[M],h,g)}return this}var Wi="_leaflet_events";function ye(s,l,h,g){if(arguments.length===1)hc(s),delete s[Wi];else if(l&&typeof l=="object")for(var y in l)gl(s,y,l[y],h);else if(l=C(l),arguments.length===2)hc(s,function(ht){return k(l,ht)!==-1});else for(var M=0,tt=l.length;M<tt;M++)gl(s,l[M],h,g);return this}function hc(s,l){for(var h in s[Wi]){var g=h.split(/\d/)[0];(!l||l(g))&&gl(s,g,null,null,h)}}var dl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pl(s,l,h,g){var y=l+c(h)+(g?"_"+c(g):"");if(s[Wi]&&s[Wi][y])return this;var M=function(ht){return h.call(g||s,ht||window.event)},tt=M;!Ft.touchNative&&Ft.pointer&&l.indexOf("touch")===0?M=ol(s,l,M):Ft.touch&&l==="dblclick"?M=hl(s,M):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(dl[l]||l,M,Ft.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(M=function(ht){ht=ht||window.event,_l(s,ht)&&tt(ht)},s.addEventListener(dl[l],M,!1)):s.addEventListener(l,tt,!1):s.attachEvent("on"+l,M),s[Wi]=s[Wi]||{},s[Wi][y]=M}function gl(s,l,h,g,y){y=y||l+c(h)+(g?"_"+c(g):"");var M=s[Wi]&&s[Wi][y];if(!M)return this;!Ft.touchNative&&Ft.pointer&&l.indexOf("touch")===0?al(s,l,M):Ft.touch&&l==="dblclick"?Ss(s,M):"removeEventListener"in s?s.removeEventListener(dl[l]||l,M,!1):s.detachEvent("on"+l,M),s[Wi][y]=null}function ns(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ml(s){return pl(s,"wheel",ns),this}function hr(s){return Jt(s,"mousedown touchstart dblclick contextmenu",ns),s._leaflet_disable_click=!0,this}function Ze(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function ss(s){return Ze(s),ns(s),this}function fc(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function dc(s,l){if(!l)return new R(s.clientX,s.clientY);var h=fl(l),g=h.boundingClientRect;return new R((s.clientX-g.left)/h.x-l.clientLeft,(s.clientY-g.top)/h.y-l.clientTop)}var Ig=Ft.linux&&Ft.chrome?window.devicePixelRatio:Ft.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function pc(s){return Ft.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Ig:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function _l(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Rg={__proto__:null,on:Jt,off:ye,stopPropagation:ns,disableScrollPropagation:ml,disableClickPropagation:hr,preventDefault:Ze,stop:ss,getPropagationPath:fc,getMousePosition:dc,getWheelDelta:pc,isExternalTarget:_l,addListener:Jt,removeListener:ye},gc=B.extend({run:function(s,l,h,g){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=ee(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),Zt(this._el,h),this.fire("step")},_complete:function(){E(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),re=B.extend({options:{crs:W,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=A(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ct(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ts&&Ft.any3d&&!Ft.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Jt(this._proxy,bo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(ct(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=r({animate:h.animate},h.zoom),h.pan=r({animate:h.animate,duration:h.duration},h.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Ft.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var g=this.getZoomScale(l),y=this.getSize().divideBy(2),M=s instanceof R?s:this.latLngToContainerPoint(s),tt=M.subtract(y).multiplyBy(1-1/g),ht=this.containerPointToLatLng(y.add(tt));return this.setView(ht,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():ft(s);var h=Q(l.paddingTopLeft||l.padding||[0,0]),g=Q(l.paddingBottomRight||l.padding||[0,0]),y=this.getBoundsZoom(s,!1,h.add(g));if(y=typeof l.maxZoom=="number"?Math.min(l.maxZoom,y):y,y===1/0)return{center:s.getCenter(),zoom:y};var M=g.subtract(h).divideBy(2),tt=this.project(s.getSouthWest(),y),ht=this.project(s.getNorthEast(),y),mt=this.unproject(tt.add(ht).divideBy(2).add(M),y);return{center:mt,zoom:y}},fitBounds:function(s,l){if(s=ft(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=Q(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!Ft.any3d)return this.setView(s,l,h);this._stop();var g=this.project(this.getCenter()),y=this.project(s),M=this.getSize(),tt=this._zoom;s=ct(s),l=l===void 0?tt:l;var ht=Math.max(M.x,M.y),mt=ht*this.getZoomScale(tt,l),At=y.distanceTo(g)||1,Nt=1.42,$t=Nt*Nt;function te(Re){var Oo=Re?-1:1,Em=Re?mt:ht,Sm=mt*mt-ht*ht+Oo*$t*$t*At*At,Am=2*Em*$t*At,Tl=Sm/Am,Yc=Math.sqrt(Tl*Tl+1)-Tl,Cm=Yc<1e-9?-18:Math.log(Yc);return Cm}function ai(Re){return(Math.exp(Re)-Math.exp(-Re))/2}function Ve(Re){return(Math.exp(Re)+Math.exp(-Re))/2}function Si(Re){return ai(Re)/Ve(Re)}var hi=te(0);function ks(Re){return ht*(Ve(hi)/Ve(hi+Nt*Re))}function ym(Re){return ht*(Ve(hi)*Si(hi+Nt*Re)-ai(hi))/$t}function bm(Re){return 1-Math.pow(1-Re,1.5)}var xm=Date.now(),$c=(te(1)-hi)/Nt,wm=h.duration?1e3*h.duration:1e3*$c*.8;function Gc(){var Re=(Date.now()-xm)/wm,Oo=bm(Re)*$c;Re<=1?(this._flyToFrame=S(Gc,this),this._move(this.unproject(g.add(y.subtract(g).multiplyBy(ym(Oo)/At)),tt),this.getScaleZoom(ht/ks(Oo),tt),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Gc.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=ft(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),g=this._limitCenter(h,this._zoom,ft(s));return h.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=Q(l.paddingTopLeft||l.padding||[0,0]),g=Q(l.paddingBottomRight||l.padding||[0,0]),y=this.project(this.getCenter()),M=this.project(s),tt=this.getPixelBounds(),ht=nt([tt.min.add(h),tt.max.subtract(g)]),mt=ht.getSize();if(!ht.contains(M)){this._enforcingBounds=!0;var At=M.subtract(ht.getCenter()),Nt=ht.extend(M).getSize().subtract(mt);y.x+=At.x<0?-Nt.x:Nt.x,y.y+=At.y<0?-Nt.y:Nt.y,this.panTo(this.unproject(y),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=r({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),g=l.divideBy(2).round(),y=h.divideBy(2).round(),M=g.subtract(y);return!M.x&&!M.y?this:(s.animate&&s.pan?this.panBy(M):(s.pan&&this._rawPanBy(M),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=r({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=a(this._handleGeolocationResponse,this),h=a(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,g=new lt(l,h),y=g.toBounds(s.coords.accuracy*2),M=this._locateOptions;if(M.setView){var tt=this.getBoundsZoom(y);this.setView(g,M.maxZoom?Math.min(tt,M.maxZoom):tt)}var ht={latlng:g,bounds:y,timestamp:s.timestamp};for(var mt in s.coords)typeof s.coords[mt]=="number"&&(ht[mt]=s.coords[mt]);this.fire("locationfound",ht)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),I(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(E(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)I(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),g=se("div",h,l||this._mapPane);return s&&(this._panes[s]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new rt(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=ft(s),h=Q(h||[0,0]);var g=this.getZoom()||0,y=this.getMinZoom(),M=this.getMaxZoom(),tt=s.getNorthWest(),ht=s.getSouthEast(),mt=this.getSize().subtract(h),At=nt(this.project(ht,g),this.project(tt,g)).getSize(),Nt=Ft.any3d?this.options.zoomSnap:1,$t=mt.x/At.x,te=mt.y/At.y,ai=l?Math.max($t,te):Math.min($t,te);return g=this.getScaleZoom(ai,g),Nt&&(g=Math.round(g/(Nt/100))*(Nt/100),g=l?Math.ceil(g/Nt)*Nt:Math.floor(g/Nt)*Nt),Math.max(y,Math.min(M,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new H(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var g=h.zoom(s*h.scale(l));return isNaN(g)?1/0:g},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ct(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Q(s),l)},layerPointToLatLng:function(s){var l=Q(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(ct(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ct(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ft(s))},distance:function(s,l){return this.options.crs.distance(ct(s),ct(l))},containerPointToLayerPoint:function(s){return Q(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return Q(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(Q(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ct(s)))},mouseEventToContainerPoint:function(s){return dc(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=As(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Jt(l,"scroll",this._onScroll,this),this._containerId=c(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ft.any3d,J(s,"leaflet-container"+(Ft.touch?" leaflet-touch":"")+(Ft.retina?" leaflet-retina":"")+(Ft.ielt9?" leaflet-oldie":"")+(Ft.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=es(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Zt(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(s.markerPane,"leaflet-zoom-hide"),J(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){Zt(this._mapPane,new R(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var y=this._zoom!==l;this._moveStart(y,h)._move(s,l)._moveEnd(y),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,g){l===void 0&&(l=this._zoom);var y=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),g?h&&h.pinch&&this.fire("zoom",h):((y||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return E(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Zt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[c(this._container)]=this;var l=s?ye:Jt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ft.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){E(this._resizeRequest),this._resizeRequest=S(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],g,y=l==="mouseout"||l==="mouseover",M=s.target||s.srcElement,tt=!1;M;){if(g=this._targets[c(M)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){tt=!0;break}if(g&&g.listens(l,!0)&&(y&&!_l(M,s)||(h.push(g),y))||M===this._container)break;M=M.parentNode}return!h.length&&!tt&&!y&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&ur(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var g=r({},s);g.type="preclick",this._fireDOMEvent(g,g.type,h)}var y=this._findEventTargets(s,l);if(h){for(var M=[],tt=0;tt<h.length;tt++)h[tt].listens(l,!0)&&M.push(h[tt]);y=M.concat(y)}if(y.length){l==="contextmenu"&&Ze(s);var ht=y[0],mt={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var At=ht.getLatLng&&(!ht._radius||ht._radius<=10);mt.containerPoint=At?this.latLngToContainerPoint(ht.getLatLng()):this.mouseEventToContainerPoint(s),mt.layerPoint=this.containerPointToLayerPoint(mt.containerPoint),mt.latlng=At?ht.getLatLng():this.layerPointToLatLng(mt.layerPoint)}for(tt=0;tt<y.length;tt++)if(y[tt].fire(l,mt,!0),mt.originalEvent._stopped||y[tt].options.bubblingMouseEvents===!1&&k(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ee(this._mapPane)||new R(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var g=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(s,l,h){var g=this._getNewPixelOrigin(h,l);return nt([this.project(s.getSouthWest(),l)._subtract(g),this.project(s.getNorthWest(),l)._subtract(g),this.project(s.getSouthEast(),l)._subtract(g),this.project(s.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var g=this.project(s,l),y=this.getSize().divideBy(2),M=new H(g.subtract(y),g.add(y)),tt=this._getBoundsOffset(M,h,l);return Math.abs(tt.x)<=1&&Math.abs(tt.y)<=1?s:this.unproject(g.add(tt),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),g=new H(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(s,l,h){var g=nt(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),y=g.min.subtract(s.min),M=g.max.subtract(s.max),tt=this._rebound(y.x,-M.x),ht=this._rebound(y.y,-M.y);return new R(tt,ht)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),g=Ft.any3d?this.options.zoomSnap:1;return g&&(s=Math.round(s/g)*g),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=Qn,g=this._proxy.style[h];Xt(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){I(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Xt(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),y=this._getCenterOffset(s)._divideBy(1-1/g);return h.animate!==!0&&!this.getSize().contains(y)?!1:(S(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,g){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Bg(s,l){return new re(s,l)}var Oi=G.extend({options:{position:"topright"},initialize:function(s){A(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),g=s._controlCorners[h];return J(l,"leaflet-control"),h.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(I(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),fr=function(s){return new Oi(s)};re.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=se("div",l+"control-container",this._container);function g(y,M){var tt=l+y+" "+l+M;s[y+M]=se("div",tt,h)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)I(this._controlCorners[s]);I(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mc=Oi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,g){return h<g?-1:g<h?1:0}},initialize:function(s,l,h){A(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in s)this._addLayer(s[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Oi.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(c(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=se("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),hr(l),ml(l);var g=this._section=se("section",s+"-list");h&&(this._map.on("click",this.collapse,this),Jt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=se("a",s+"-toggle",l);y.href="#",y.title="Layers",y.setAttribute("role","button"),Jt(y,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Ze(M),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=se("div",s+"-base",g),this._separator=se("div",s+"-separator",g),this._overlaysList=se("div",s+"-overlays",g),l.appendChild(g)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&c(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(a(function(g,y){return this.options.sortFunction(g.layer,y.layer,g.name,y.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;et(this._baseLayersList),et(this._overlaysList),this._layerControlInputs=[];var s,l,h,g,y=0;for(h=0;h<this._layers.length;h++)g=this._layers[h],this._addItem(g),l=l||g.overlay,s=s||!g.overlay,y+=g.overlay?0:1;return this.options.hideSingleBase&&(s=s&&y>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(c(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=h,g.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),g;s.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=h):g=this._createRadioElement("leaflet-base-layers_"+c(this),h),this._layerControlInputs.push(g),g.layerId=c(s.layer),Jt(g,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+s.name;var M=document.createElement("span");l.appendChild(M),M.appendChild(g),M.appendChild(y);var tt=s.overlay?this._overlaysList:this._baseLayersList;return tt.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,g=[],y=[];this._handlingClick=!0;for(var M=s.length-1;M>=0;M--)l=s[M],h=this._getLayer(l.layerId).layer,l.checked?g.push(h):l.checked||y.push(h);for(M=0;M<y.length;M++)this._map.hasLayer(y[M])&&this._map.removeLayer(y[M]);for(M=0;M<g.length;M++)this._map.hasLayer(g[M])||this._map.addLayer(g[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,g=this._map.getZoom(),y=s.length-1;y>=0;y--)l=s[y],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&g<h.options.minZoom||h.options.maxZoom!==void 0&&g>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Jt(s,"click",Ze),this.expand();var l=this;setTimeout(function(){ye(s,"click",Ze),l._preventClick=!1})}}),Ng=function(s,l,h){return new mc(s,l,h)},vl=Oi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=se("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,g,y){var M=se("a",h,g);return M.innerHTML=s,M.href="#",M.title=l,M.setAttribute("role","button"),M.setAttribute("aria-label",l),hr(M),Jt(M,"click",ss),Jt(M,"click",y,this),Jt(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";vt(this._zoomInButton,l),vt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(J(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(J(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});re.mergeOptions({zoomControl:!0}),re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new vl,this.addControl(this.zoomControl))});var Fg=function(s){return new vl(s)},_c=Oi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=se("div",l),g=this.options;return this._addScales(g,l+"-line",h),s.on(g.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=se("div",l,h)),s.imperial&&(this._iScale=se("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,g,y;l>5280?(h=l/5280,g=this._getRoundNum(h),this._updateScale(this._iScale,g+" mi",g/h)):(y=this._getRoundNum(l),this._updateScale(this._iScale,y+" ft",y/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),zg=function(s){return new _c(s)},Hg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',yl=Oi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ft.inlineSvg?Hg+" ":"")+"Leaflet</a>"},initialize:function(s){A(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=se("div","leaflet-control-attribution"),hr(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});re.mergeOptions({attributionControl:!0}),re.addInitHook(function(){this.options.attributionControl&&new yl().addTo(this)});var Ug=function(s){return new yl(s)};Oi.Layers=mc,Oi.Zoom=vl,Oi.Scale=_c,Oi.Attribution=yl,fr.layers=Ng,fr.zoom=Fg,fr.scale=zg,fr.attribution=Ug;var Zi=G.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zi.addTo=function(s,l){return s.addHandler(l,this),this};var qg={Events:z},vc=Ft.touch?"touchstart mousedown":"mousedown",Pn=B.extend({options:{clickTolerance:3},initialize:function(s,l,h,g){A(this,g),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(Jt(this._dragStartTarget,vc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),ye(this._dragStartTarget,vc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!ut(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Pn._dragging=this,this._preventOutline&&ur(this._element),is(),ve(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=cr(this._element);this._startPoint=new R(l.clientX,l.clientY),this._startPos=ee(this._element),this._parentScale=fl(h);var g=s.type==="mousedown";Jt(document,g?"mousemove":"touchmove",this._onMove,this),Jt(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new R(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Ze(s),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Zt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ye(document,"mousemove touchmove",this._onMove,this),ye(document,"mouseup touchend touchcancel",this._onUp,this),lr(),ge();var l=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function yc(s,l,h){var g,y=[1,4,2,8],M,tt,ht,mt,At,Nt,$t,te;for(M=0,Nt=s.length;M<Nt;M++)s[M]._code=rs(s[M],l);for(ht=0;ht<4;ht++){for($t=y[ht],g=[],M=0,Nt=s.length,tt=Nt-1;M<Nt;tt=M++)mt=s[M],At=s[tt],mt._code&$t?At._code&$t||(te=wo(At,mt,$t,l,h),te._code=rs(te,l),g.push(te)):(At._code&$t&&(te=wo(At,mt,$t,l,h),te._code=rs(te,l),g.push(te)),g.push(mt));s=g}return s}function bc(s,l){var h,g,y,M,tt,ht,mt,At,Nt;if(!s||s.length===0)throw new Error("latlngs not passed");Ei(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var $t=ct([0,0]),te=ft(s),ai=te.getNorthWest().distanceTo(te.getSouthWest())*te.getNorthEast().distanceTo(te.getNorthWest());ai<1700&&($t=bl(s));var Ve=s.length,Si=[];for(h=0;h<Ve;h++){var hi=ct(s[h]);Si.push(l.project(ct([hi.lat-$t.lat,hi.lng-$t.lng])))}for(ht=mt=At=0,h=0,g=Ve-1;h<Ve;g=h++)y=Si[h],M=Si[g],tt=y.y*M.x-M.y*y.x,mt+=(y.x+M.x)*tt,At+=(y.y+M.y)*tt,ht+=tt*3;ht===0?Nt=Si[0]:Nt=[mt/ht,At/ht];var ks=l.unproject(Q(Nt));return ct([ks.lat+$t.lat,ks.lng+$t.lng])}function bl(s){for(var l=0,h=0,g=0,y=0;y<s.length;y++){var M=ct(s[y]);l+=M.lat,h+=M.lng,g++}return ct([l/g,h/g])}var Vg={__proto__:null,clipPolygon:yc,polygonCenter:bc,centroid:bl};function xc(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=Zg(s,h),s=Wg(s,h),s}function wc(s,l,h){return Math.sqrt(dr(s,l,h,!0))}function jg(s,l,h){return dr(s,l,h)}function Wg(s,l){var h=s.length,g=typeof Uint8Array<"u"?Uint8Array:Array,y=new g(h);y[0]=y[h-1]=1,xl(s,y,l,0,h-1);var M,tt=[];for(M=0;M<h;M++)y[M]&&tt.push(s[M]);return tt}function xl(s,l,h,g,y){var M=0,tt,ht,mt;for(ht=g+1;ht<=y-1;ht++)mt=dr(s[ht],s[g],s[y],!0),mt>M&&(tt=ht,M=mt);M>h&&(l[tt]=1,xl(s,l,h,g,tt),xl(s,l,h,tt,y))}function Zg(s,l){for(var h=[s[0]],g=1,y=0,M=s.length;g<M;g++)$g(s[g],s[y])>l&&(h.push(s[g]),y=g);return y<M-1&&h.push(s[M-1]),h}var Ec;function Sc(s,l,h,g,y){var M=g?Ec:rs(s,h),tt=rs(l,h),ht,mt,At;for(Ec=tt;;){if(!(M|tt))return[s,l];if(M&tt)return!1;ht=M||tt,mt=wo(s,l,ht,h,y),At=rs(mt,h),ht===M?(s=mt,M=At):(l=mt,tt=At)}}function wo(s,l,h,g,y){var M=l.x-s.x,tt=l.y-s.y,ht=g.min,mt=g.max,At,Nt;return h&8?(At=s.x+M*(mt.y-s.y)/tt,Nt=mt.y):h&4?(At=s.x+M*(ht.y-s.y)/tt,Nt=ht.y):h&2?(At=mt.x,Nt=s.y+tt*(mt.x-s.x)/M):h&1&&(At=ht.x,Nt=s.y+tt*(ht.x-s.x)/M),new R(At,Nt,y)}function rs(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function $g(s,l){var h=l.x-s.x,g=l.y-s.y;return h*h+g*g}function dr(s,l,h,g){var y=l.x,M=l.y,tt=h.x-y,ht=h.y-M,mt=tt*tt+ht*ht,At;return mt>0&&(At=((s.x-y)*tt+(s.y-M)*ht)/mt,At>1?(y=h.x,M=h.y):At>0&&(y+=tt*At,M+=ht*At)),tt=s.x-y,ht=s.y-M,g?tt*tt+ht*ht:new R(y,M)}function Ei(s){return!F(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Ac(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ei(s)}function Cc(s,l){var h,g,y,M,tt,ht,mt,At;if(!s||s.length===0)throw new Error("latlngs not passed");Ei(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Nt=ct([0,0]),$t=ft(s),te=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());te<1700&&(Nt=bl(s));var ai=s.length,Ve=[];for(h=0;h<ai;h++){var Si=ct(s[h]);Ve.push(l.project(ct([Si.lat-Nt.lat,Si.lng-Nt.lng])))}for(h=0,g=0;h<ai-1;h++)g+=Ve[h].distanceTo(Ve[h+1])/2;if(g===0)At=Ve[0];else for(h=0,M=0;h<ai-1;h++)if(tt=Ve[h],ht=Ve[h+1],y=tt.distanceTo(ht),M+=y,M>g){mt=(M-g)/y,At=[ht.x-mt*(ht.x-tt.x),ht.y-mt*(ht.y-tt.y)];break}var hi=l.unproject(Q(At));return ct([hi.lat+Nt.lat,hi.lng+Nt.lng])}var Gg={__proto__:null,simplify:xc,pointToSegmentDistance:wc,closestPointOnSegment:jg,clipSegment:Sc,_getEdgeIntersection:wo,_getBitCode:rs,_sqClosestPointOnSegment:dr,isFlat:Ei,_flat:Ac,polylineCenter:Cc},wl={project:function(s){return new R(s.lng,s.lat)},unproject:function(s){return new lt(s.y,s.x)},bounds:new H([-180,-90],[180,90])},El={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,g=s.lat*l,y=this.R_MINOR/h,M=Math.sqrt(1-y*y),tt=M*Math.sin(g),ht=Math.tan(Math.PI/4-g/2)/Math.pow((1-tt)/(1+tt),M/2);return g=-h*Math.log(Math.max(ht,1e-10)),new R(s.lng*l*h,g)},unproject:function(s){for(var l=180/Math.PI,h=this.R,g=this.R_MINOR/h,y=Math.sqrt(1-g*g),M=Math.exp(-s.y/h),tt=Math.PI/2-2*Math.atan(M),ht=0,mt=.1,At;ht<15&&Math.abs(mt)>1e-7;ht++)At=y*Math.sin(tt),At=Math.pow((1-At)/(1+At),y/2),mt=Math.PI/2-2*Math.atan(M*At)-tt,tt+=mt;return new lt(tt*l,s.x*l/h)}},Yg={__proto__:null,LonLat:wl,Mercator:El,SphericalMercator:St},Xg=r({},bt,{code:"EPSG:3395",projection:El,transformation:(function(){var s=.5/(Math.PI*El.R);return U(s,.5,-s,.5)})()}),Dc=r({},bt,{code:"EPSG:4326",projection:wl,transformation:U(1/180,1,-1/180,.5)}),Kg=r({},Et,{projection:wl,transformation:U(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,g=l.lat-s.lat;return Math.sqrt(h*h+g*g)},infinite:!0});Et.Earth=bt,Et.EPSG3395=Xg,Et.EPSG3857=W,Et.EPSG900913=it,Et.EPSG4326=Dc,Et.Simple=Kg;var Ii=B.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[c(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[c(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});re.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=c(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=c(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return c(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?F(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[c(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=c(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var g in this._zoomBoundLayers){var y=this._zoomBoundLayers[g].options;s=y.minZoom===void 0?s:Math.min(s,y.minZoom),l=y.maxZoom===void 0?l:Math.max(l,y.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ds=Ii.extend({initialize:function(s,l){A(this,l),this._layers={};var h,g;if(s)for(h=0,g=s.length;h<g;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,g;for(h in this._layers)g=this._layers[h],g[s]&&g[s].apply(g,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return c(s)}}),Jg=function(s,l){return new Ds(s,l)},rn=Ds.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ds.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ds.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new rt;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Qg=function(s,l){return new rn(s,l)},Ts=G.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){A(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(s,l){var h=this.options,g=h[l+"Size"];typeof g=="number"&&(g=[g,g]);var y=Q(g),M=Q(l==="shadow"&&h.shadowAnchor||h.iconAnchor||y&&y.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),M&&(s.style.marginLeft=-M.x+"px",s.style.marginTop=-M.y+"px"),y&&(s.style.width=y.x+"px",s.style.height=y.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Ft.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function tm(s){return new Ts(s)}var pr=Ts.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof pr.imagePath!="string"&&(pr.imagePath=this._detectIconPath()),(this.options.imagePath||pr.imagePath)+Ts.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,g,y){var M=g.exec(h);return M&&M[y]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=se("div","leaflet-default-icon-path",document.body),l=es(s,"background-image")||es(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Tc=Zi.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Pn(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,g=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,M=ee(l._icon),tt=h.getPixelBounds(),ht=h.getPixelOrigin(),mt=nt(tt.min._subtract(ht).add(y),tt.max._subtract(ht).subtract(y));if(!mt.contains(M)){var At=Q((Math.max(mt.max.x,M.x)-mt.max.x)/(tt.max.x-mt.max.x)-(Math.min(mt.min.x,M.x)-mt.min.x)/(tt.min.x-mt.min.x),(Math.max(mt.max.y,M.y)-mt.max.y)/(tt.max.y-mt.max.y)-(Math.min(mt.min.y,M.y)-mt.min.y)/(tt.min.y-mt.min.y)).multiplyBy(g);h.panBy(At,{animate:!1}),this._draggable._newPos._add(At),this._draggable._startPos._add(At),Zt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=S(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(E(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,g=ee(l._icon),y=l._map.layerPointToLatLng(g);h&&Zt(h,g),l._latlng=y,s.latlng=y,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){E(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Eo=Ii.extend({options:{icon:new pr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){A(this,l),this._latlng=ct(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ct(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),g=!1;h!==this._icon&&(this._icon&&this._removeIcon(),g=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),J(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Jt(h,"focus",this._panOnFocus,this);var y=s.icon.createShadow(this._shadow),M=!1;y!==this._shadow&&(this._removeShadow(),M=!0),y&&(J(y,l),y.alt=""),this._shadow=y,s.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&M&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(this._icon,"focus",this._panOnFocus,this),I(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&I(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Zt(this._icon,s),this._shadow&&Zt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tc)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tc(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Dt(this._icon,s),this._shadow&&Dt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?Q(l.iconSize):Q(0,0),g=l.iconAnchor?Q(l.iconAnchor):Q(0,0);s.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:h.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function em(s,l){return new Eo(s,l)}var Ln=Ii.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return A(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),So=Ln.extend({options:{fill:!0,radius:10},initialize:function(s,l){A(this,l),this._latlng=ct(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ct(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Ln.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),g=[s+h,l+h];this._pxBounds=new H(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function im(s,l){return new So(s,l)}var Sl=So.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=r({},h,{radius:l})),A(this,l),this._latlng=ct(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new rt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ln.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,g=h.options.crs;if(g.distance===bt.distance){var y=Math.PI/180,M=this._mRadius/bt.R/y,tt=h.project([l+M,s]),ht=h.project([l-M,s]),mt=tt.add(ht).divideBy(2),At=h.unproject(mt).lat,Nt=Math.acos((Math.cos(M*y)-Math.sin(l*y)*Math.sin(At*y))/(Math.cos(l*y)*Math.cos(At*y)))/y;(isNaN(Nt)||Nt===0)&&(Nt=M/Math.cos(Math.PI/180*l)),this._point=mt.subtract(h.getPixelOrigin()),this._radius=isNaN(Nt)?0:mt.x-h.project([At,s-Nt]).x,this._radiusY=mt.y-tt.y}else{var $t=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint($t).x}this._updateBounds()}});function nm(s,l,h){return new Sl(s,l,h)}var on=Ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){A(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,g=dr,y,M,tt=0,ht=this._parts.length;tt<ht;tt++)for(var mt=this._parts[tt],At=1,Nt=mt.length;At<Nt;At++){y=mt[At-1],M=mt[At];var $t=g(s,y,M,!0);$t<l&&(l=$t,h=g(s,y,M))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Cc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ct(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new rt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return Ei(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=Ei(s),g=0,y=s.length;g<y;g++)h?(l[g]=ct(s[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(s[g]);return l},_project:function(){var s=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new R(s,s);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var g=s[0]instanceof lt,y=s.length,M,tt;if(g){for(tt=[],M=0;M<y;M++)tt[M]=this._map.latLngToLayerPoint(s[M]),h.extend(tt[M]);l.push(tt)}else for(M=0;M<y;M++)this._projectLatlngs(s[M],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,g,y,M,tt,ht,mt;for(h=0,y=0,M=this._rings.length;h<M;h++)for(mt=this._rings[h],g=0,tt=mt.length;g<tt-1;g++)ht=Sc(mt[g],mt[g+1],s,g,!0),ht&&(l[y]=l[y]||[],l[y].push(ht[0]),(ht[1]!==mt[g+1]||g===tt-2)&&(l[y].push(ht[1]),y++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,g=s.length;h<g;h++)s[h]=xc(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,g,y,M,tt,ht,mt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,M=this._parts.length;h<M;h++)for(ht=this._parts[h],g=0,tt=ht.length,y=tt-1;g<tt;y=g++)if(!(!l&&g===0)&&wc(s,ht[y],ht[g])<=mt)return!0;return!1}});function sm(s,l){return new on(s,l)}on._flat=Ac;var Ps=on.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=on.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof lt&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){on.prototype._setLatLngs.call(this,s),Ei(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ei(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new R(l,l);if(s=new H(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,y=this._rings.length,M;g<y;g++)M=yc(this._rings[g],s,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,g,y,M,tt,ht,mt,At;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(M=0,mt=this._parts.length;M<mt;M++)for(h=this._parts[M],tt=0,At=h.length,ht=At-1;tt<At;ht=tt++)g=h[tt],y=h[ht],g.y>s.y!=y.y>s.y&&s.x<(y.x-g.x)*(s.y-g.y)/(y.y-g.y)+g.x&&(l=!l);return l||on.prototype._containsPoint.call(this,s,!0)}});function rm(s,l){return new Ps(s,l)}var an=rn.extend({initialize:function(s,l){A(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=F(s)?s:s.features,h,g,y;if(l){for(h=0,g=l.length;h<g;h++)y=l[h],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var M=this.options;if(M.filter&&!M.filter(s))return this;var tt=Ao(s,M);return tt?(tt.feature=To(s),tt.defaultOptions=tt.options,this.resetStyle(tt),M.onEachFeature&&M.onEachFeature(s,tt),this.addLayer(tt)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=r({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Ao(s,l){var h=s.type==="Feature"?s.geometry:s,g=h?h.coordinates:null,y=[],M=l&&l.pointToLayer,tt=l&&l.coordsToLatLng||Al,ht,mt,At,Nt;if(!g&&!h)return null;switch(h.type){case"Point":return ht=tt(g),Pc(M,s,ht,l);case"MultiPoint":for(At=0,Nt=g.length;At<Nt;At++)ht=tt(g[At]),y.push(Pc(M,s,ht,l));return new rn(y);case"LineString":case"MultiLineString":return mt=Co(g,h.type==="LineString"?0:1,tt),new on(mt,l);case"Polygon":case"MultiPolygon":return mt=Co(g,h.type==="Polygon"?1:2,tt),new Ps(mt,l);case"GeometryCollection":for(At=0,Nt=h.geometries.length;At<Nt;At++){var $t=Ao({geometry:h.geometries[At],type:"Feature",properties:s.properties},l);$t&&y.push($t)}return new rn(y);case"FeatureCollection":for(At=0,Nt=h.features.length;At<Nt;At++){var te=Ao(h.features[At],l);te&&y.push(te)}return new rn(y);default:throw new Error("Invalid GeoJSON object.")}}function Pc(s,l,h,g){return s?s(l,h):new Eo(h,g&&g.markersInheritOptions&&g)}function Al(s){return new lt(s[1],s[0],s[2])}function Co(s,l,h){for(var g=[],y=0,M=s.length,tt;y<M;y++)tt=l?Co(s[y],l-1,h):(h||Al)(s[y]),g.push(tt);return g}function Cl(s,l){return s=ct(s),s.alt!==void 0?[b(s.lng,l),b(s.lat,l),b(s.alt,l)]:[b(s.lng,l),b(s.lat,l)]}function Do(s,l,h,g){for(var y=[],M=0,tt=s.length;M<tt;M++)y.push(l?Do(s[M],Ei(s[M])?0:l-1,h,g):Cl(s[M],g));return!l&&h&&y.length>0&&y.push(y[0].slice()),y}function Ls(s,l){return s.feature?r({},s.feature,{geometry:l}):To(l)}function To(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Dl={toGeoJSON:function(s){return Ls(this,{type:"Point",coordinates:Cl(this.getLatLng(),s)})}};Eo.include(Dl),Sl.include(Dl),So.include(Dl),on.include({toGeoJSON:function(s){var l=!Ei(this._latlngs),h=Do(this._latlngs,l?1:0,!1,s);return Ls(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),Ps.include({toGeoJSON:function(s){var l=!Ei(this._latlngs),h=l&&!Ei(this._latlngs[0]),g=Do(this._latlngs,h?2:l?1:0,!0,s);return l||(g=[g]),Ls(this,{type:(h?"Multi":"")+"Polygon",coordinates:g})}}),Ds.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),Ls(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",g=[];return this.eachLayer(function(y){if(y.toGeoJSON){var M=y.toGeoJSON(s);if(h)g.push(M.geometry);else{var tt=To(M);tt.type==="FeatureCollection"?g.push.apply(g,tt.features):g.push(tt)}}}),h?Ls(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Lc(s,l){return new an(s,l)}var om=Lc,Po=Ii.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=ft(l),A(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){I(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&$(this._image),this},bringToBack:function(){return this._map&&at(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ft(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:se("img");if(J(l,"leaflet-image-layer"),this._zoomAnimated&&J(l,"leaflet-zoom-animated"),this.options.className&&J(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onload=a(this.fire,this,"load"),l.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Xt(this._image,h,l)},_reset:function(){var s=this._image,l=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();Zt(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),am=function(s,l,h){return new Po(s,l,h)},Mc=Po.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:se("video");if(J(l,"leaflet-image-layer"),this._zoomAnimated&&J(l,"leaflet-zoom-animated"),this.options.className&&J(l,this.options.className),l.onselectstart=_,l.onmousemove=_,l.onloadeddata=a(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),g=[],y=0;y<h.length;y++)g.push(h[y].src);this._url=h.length>0?g:[l.src];return}F(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var tt=se("source");tt.src=this._url[M],l.appendChild(tt)}}});function lm(s,l,h){return new Mc(s,l,h)}var kc=Po.extend({_initImage:function(){var s=this._image=this._url;J(s,"leaflet-image-layer"),this._zoomAnimated&&J(s,"leaflet-zoom-animated"),this.options.className&&J(s,this.options.className),s.onselectstart=_,s.onmousemove=_}});function um(s,l,h){return new kc(s,l,h)}var $i=Ii.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof lt||F(s))?(this._latlng=ct(s),A(this,l)):(A(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Dt(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Dt(this._container,0),this._removeTimeout=setTimeout(a(I,void 0,this._container),200)):I(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ct(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$(this._container),this},bringToBack:function(){return this._map&&at(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof rn){l=null;var h=this._source._layers;for(var g in h)if(h[g]._map){l=h[g];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=Q(this.options.offset),h=this._getAnchor();this._zoomAnimated?Zt(this._container,s.add(h)):l=l.add(s).add(h);var g=this._containerBottom=-l.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});re.include({_initOverlay:function(s,l,h,g){var y=l;return y instanceof s||(y=new s(g).setContent(l)),h&&y.setLatLng(h),y}}),Ii.include({_initOverlay:function(s,l,h,g){var y=h;return y instanceof s?(A(y,g),y._source=this):(y=l&&!g?l:new s(g,this),y.setContent(h)),y}});var Lo=$i.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,$i.prototype.openOn.call(this,s)},onAdd:function(s){$i.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ln||this._source.on("preclick",ns))},onRemove:function(s){$i.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ln||this._source.off("preclick",ns))},getEvents:function(){var s=$i.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=se("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=se("div",s+"-content-wrapper",l);if(this._contentNode=se("div",s+"-content",h),hr(l),ml(this._contentNode),Jt(l,"contextmenu",ns),this._tipContainer=se("div",s+"-tip-container",l),this._tip=se("div",s+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=se("a",s+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Jt(g,"click",function(y){Ze(y),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var g=s.offsetHeight,y=this.options.maxHeight,M="leaflet-popup-scrolled";y&&g>y?(l.height=y+"px",J(s,M)):vt(s,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();Zt(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(es(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,g=this._containerWidth,y=new R(this._containerLeft,-h-this._containerBottom);y._add(ee(this._container));var M=s.layerPointToContainerPoint(y),tt=Q(this.options.autoPanPadding),ht=Q(this.options.autoPanPaddingTopLeft||tt),mt=Q(this.options.autoPanPaddingBottomRight||tt),At=s.getSize(),Nt=0,$t=0;M.x+g+mt.x>At.x&&(Nt=M.x+g-At.x+mt.x),M.x-Nt-ht.x<0&&(Nt=M.x-ht.x),M.y+h+mt.y>At.y&&($t=M.y+h-At.y+mt.y),M.y-$t-ht.y<0&&($t=M.y-ht.y),(Nt||$t)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Nt,$t]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),cm=function(s,l){return new Lo(s,l)};re.mergeOptions({closePopupOnClick:!0}),re.include({openPopup:function(s,l,h){return this._initOverlay(Lo,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Ii.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Lo,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof rn||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){ss(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Ln)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Mo=$i.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){$i.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){$i.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=$i.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,g=this._map,y=this._container,M=g.latLngToContainerPoint(g.getCenter()),tt=g.layerPointToContainerPoint(s),ht=this.options.direction,mt=y.offsetWidth,At=y.offsetHeight,Nt=Q(this.options.offset),$t=this._getAnchor();ht==="top"?(l=mt/2,h=At):ht==="bottom"?(l=mt/2,h=0):ht==="center"?(l=mt/2,h=At/2):ht==="right"?(l=0,h=At/2):ht==="left"?(l=mt,h=At/2):tt.x<M.x?(ht="right",l=0,h=At/2):(ht="left",l=mt+(Nt.x+$t.x)*2,h=At/2),s=s.subtract(Q(l,h,!0)).add(Nt).add($t),vt(y,"leaflet-tooltip-right"),vt(y,"leaflet-tooltip-left"),vt(y,"leaflet-tooltip-top"),vt(y,"leaflet-tooltip-bottom"),J(y,"leaflet-tooltip-"+ht),Zt(y,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Dt(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hm=function(s,l){return new Mo(s,l)};re.include({openTooltip:function(s,l,h){return this._initOverlay(Mo,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Ii.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mo,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof rn||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(Jt(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Jt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,g;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),g=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var Oc=Ts.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(et(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var g=Q(h.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function fm(s){return new Oc(s)}Ts.Default=pr;var gr=Ii.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ft.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){A(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),I(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(at(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof R?s:new R(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),g=0,y=l.length,M;g<y;g++)M=l[g].style.zIndex,l[g]!==this._container&&M&&(h=s(h,+M));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ft.ielt9){Dt(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var g in this._tiles){var y=this._tiles[g];if(!(!y.current||!y.loaded)){var M=Math.min(1,(s-y.loaded)/200);Dt(y.el,M),M<1?l=!0:(y.active?h=!0:this._onOpaqueTile(y),y.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(E(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(I(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var g=this._levels[s],y=this._map;return g||(g=this._levels[s]={},g.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=y.project(y.unproject(y.getPixelOrigin()),s).round(),g.zoom=s,this._setZoomTransform(g,y.getCenter(),y.getZoom()),_(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)I(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,g){var y=Math.floor(s/2),M=Math.floor(l/2),tt=h-1,ht=new R(+y,+M);ht.z=+tt;var mt=this._tileCoordsToKey(ht),At=this._tiles[mt];return At&&At.active?(At.retain=!0,!0):(At&&At.loaded&&(At.retain=!0),tt>g?this._retainParent(y,M,tt,g):!1)},_retainChildren:function(s,l,h,g){for(var y=2*s;y<2*s+2;y++)for(var M=2*l;M<2*l+2;M++){var tt=new R(y,M);tt.z=h+1;var ht=this._tileCoordsToKey(tt),mt=this._tiles[ht];if(mt&&mt.active){mt.retain=!0;continue}else mt&&mt.loaded&&(mt.retain=!0);h+1<g&&this._retainChildren(y,M,h+1,g)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,g){var y=Math.round(l);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var M=this.options.updateWhenZooming&&y!==this._tileZoom;(!g||M)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var g=this._map.getZoomScale(h,s.zoom),y=s.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,h)).round();Ft.any3d?Xt(s.el,y,g):Zt(s.el,y)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),g=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],g).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],g).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],g).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],g).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(h,this._tileZoom),y=l.project(s,this._tileZoom).floor(),M=l.getSize().divideBy(g*2);return new H(y.subtract(M),y.add(M))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(s),y=this._pxBoundsToTileRange(g),M=y.getCenter(),tt=[],ht=this.options.keepBuffer,mt=new H(y.getBottomLeft().subtract([ht,-ht]),y.getTopRight().add([ht,-ht]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var At in this._tiles){var Nt=this._tiles[At].coords;(Nt.z!==this._tileZoom||!mt.contains(new R(Nt.x,Nt.y)))&&(this._tiles[At].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var $t=y.min.y;$t<=y.max.y;$t++)for(var te=y.min.x;te<=y.max.x;te++){var ai=new R(te,$t);if(ai.z=this._tileZoom,!!this._isValidTile(ai)){var Ve=this._tiles[this._tileCoordsToKey(ai)];Ve?Ve.current=!0:tt.push(ai)}}if(tt.sort(function(hi,ks){return hi.distanceTo(M)-ks.distanceTo(M)}),tt.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Si=document.createDocumentFragment();for(te=0;te<tt.length;te++)this._addTile(tt[te],Si);this._level.el.appendChild(Si)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(s);return ft(this.options.bounds).overlaps(g)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),g=s.scaleBy(h),y=g.add(h),M=l.unproject(g,s.z),tt=l.unproject(y,s.z);return[M,tt]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new rt(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new R(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(I(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){J(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=_,s.onmousemove=_,Ft.ielt9&&this.options.opacity<1&&Dt(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),g=this._tileCoordsToKey(s),y=this.createTile(this._wrapCoords(s),a(this._tileReady,this,s));this._initTile(y),this.createTile.length<2&&S(a(this._tileReady,this,s,null,y)),Zt(y,h),this._tiles[g]={el:y,coords:s,current:!0},l.appendChild(y),this.fire("tileloadstart",{tile:y,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var g=this._tileCoordsToKey(s);h=this._tiles[g],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Dt(h.el,0),E(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(J(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ft.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new R(this._wrapX?d(s.x,this._wrapX):s.x,this._wrapY?d(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new H(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function dm(s){return new gr(s)}var Ms=gr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=A(this,l),l.detectRetina&&Ft.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return Jt(h,"load",a(this._tileOnLoad,this,l,h)),Jt(h,"error",a(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:Ft.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return w(this._url,r(l,this.options))},_tileOnLoad:function(s,l){Ft.ielt9?setTimeout(a(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,g=this.options.zoomOffset;return h&&(s=l-s),s+g},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=_,l.onerror=_,!l.complete)){l.src=P;var h=this._tiles[s].coords;I(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",P),gr.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===P))return gr.prototype._tileReady.call(this,s,l,h)}});function Ic(s,l){return new Ms(s,l)}var Rc=Ms.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=r({},this.defaultWmsParams);for(var g in l)g in this.options||(h[g]=l[g]);l=A(this,l);var y=l.detectRetina&&Ft.retina?2:1,M=this.getTileSize();h.width=M.x*y,h.height=M.y*y,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ms.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,g=nt(h.project(l[0]),h.project(l[1])),y=g.min,M=g.max,tt=(this._wmsVersion>=1.3&&this._crs===Dc?[y.y,y.x,M.y,M.x]:[y.x,y.y,M.x,M.y]).join(","),ht=Ms.prototype.getTileUrl.call(this,s);return ht+T(this.wmsParams,ht,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+tt},setParams:function(s,l){return r(this.wmsParams,s),l||this.redraw(),this}});function pm(s,l){return new Rc(s,l)}Ms.WMS=Rc,Ic.wms=pm;var ln=Ii.extend({options:{padding:.1},initialize:function(s){A(this,s),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,l),M=g.multiplyBy(-h).add(y).subtract(this._map._getNewPixelOrigin(s,l));Ft.any3d?Xt(this._container,M,h):Zt(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new H(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bc=ln.extend({options:{tolerance:0},getEvents:function(){var s=ln.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Jt(s,"mousemove",this._onMouseMove,this),Jt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Jt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){E(this._redrawRequest),delete this._ctx,I(this._container),ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),g=Ft.retina?2:1;Zt(l,s.min),l.width=g*h.x,l.height=g*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Ft.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[c(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,g=l.prev;h?h.prev=g:this._drawLast=g,g?g.next=h:this._drawFirst=h,delete s._order,delete this._layers[c(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],g,y;for(y=0;y<l.length;y++){if(g=Number(l[y]),isNaN(g))return;h.push(g)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)s=g.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,g,y,M,tt=s._parts,ht=tt.length,mt=this._ctx;if(ht){for(mt.beginPath(),h=0;h<ht;h++){for(g=0,y=tt[h].length;g<y;g++)M=tt[h][g],mt[g?"lineTo":"moveTo"](M.x,M.y);l&&mt.closePath()}this._fillStroke(mt,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,g=Math.max(Math.round(s._radius),1),y=(Math.max(Math.round(s._radiusY),1)||g)/g;y!==1&&(h.save(),h.scale(1,y)),h.beginPath(),h.arc(l.x,l.y/y,g,0,Math.PI*2,!1),y!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,g,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(g=h);this._fireEvent(g?[g]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(vt(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,g,y=this._drawFirst;y;y=y.next)h=y.layer,h.options.interactive&&h._containsPoint(l)&&(g=h);g!==this._hoveredLayer&&(this._handleMouseOut(s),g&&(J(this._container,"leaflet-interactive"),this._fireEvent([g],s,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,g=l.prev;if(h)h.prev=g;else return;g?g.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,g=l.prev;if(g)g.next=h;else return;h?h.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function Nc(s){return Ft.canvas?new Bc(s):null}var mr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),gm={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ln.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=mr("shape");J(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=mr("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;I(l),s.removeInteractiveTarget(l),delete this._layers[c(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,g=s.options,y=s._container;y.stroked=!!g.stroke,y.filled=!!g.fill,g.stroke?(l||(l=s._stroke=mr("stroke")),y.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=F(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(y.removeChild(l),s._stroke=null),g.fill?(h||(h=s._fill=mr("fill")),y.appendChild(h),h.color=g.fillColor||g.color,h.opacity=g.fillOpacity):h&&(y.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),g=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+g+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){$(s._container)},_bringToBack:function(s){at(s._container)}},ko=Ft.vml?mr:ot,_r=ln.extend({_initContainer:function(){this._container=ko("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ko("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){I(this._container),ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ln.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),Zt(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=ko("path");s.options.className&&J(l,s.options.className),s.options.interactive&&J(l,"leaflet-interactive"),this._updateStyle(s),this._layers[c(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){I(s._path),s.removeInteractiveTarget(s._path),delete this._layers[c(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,st(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),g=Math.max(Math.round(s._radiusY),1)||h,y="a"+h+","+g+" 0 1,0 ",M=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+y+h*2+",0 "+y+-h*2+",0 ";this._setPath(s,M)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){$(s._path)},_bringToBack:function(s){at(s._path)}});Ft.vml&&_r.include(gm);function Fc(s){return Ft.svg||Ft.vml?new _r(s):null}re.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&Nc(s)||Fc(s)}});var zc=Ps.extend({initialize:function(s,l){Ps.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ft(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function mm(s,l){return new zc(s,l)}_r.create=ko,_r.pointsToPath=st,an.geometryToLayer=Ao,an.coordsToLatLng=Al,an.coordsToLatLngs=Co,an.latLngToCoords=Cl,an.latLngsToCoords=Do,an.getFeature=Ls,an.asFeature=To,re.mergeOptions({boxZoom:!0});var Hc=Zi.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Jt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){I(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ve(),is(),this._startPoint=this._map.mouseEventToContainerPoint(s),Jt(document,{contextmenu:ss,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new H(this._point,this._startPoint),h=l.getSize();Zt(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(I(this._box),vt(this._container,"leaflet-crosshair")),ge(),lr(),ye(document,{contextmenu:ss,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var l=new rt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});re.addInitHook("addHandler","boxZoom",Hc),re.mergeOptions({doubleClickZoom:!0});var Uc=Zi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),g=l.options.zoomDelta,y=s.originalEvent.shiftKey?h-g:h+g;l.options.doubleClickZoom==="center"?l.setZoom(y):l.setZoomAround(s.containerPoint,y)}});re.addInitHook("addHandler","doubleClickZoom",Uc),re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qc=Zi.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Pn(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ft(this._map.options.maxBounds);this._offsetLimit=nt(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,g=this._draggable._newPos.x,y=(g-l+h)%s+l-h,M=(g+l+h)%s-l-h,tt=Math.abs(y+h)<Math.abs(M+h)?y:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=tt},_onDragEnd:function(s){var l=this._map,h=l.options,g=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),g)l.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,tt=h.easeLinearity,ht=y.multiplyBy(tt/M),mt=ht.distanceTo([0,0]),At=Math.min(h.inertiaMaxSpeed,mt),Nt=ht.multiplyBy(At/mt),$t=At/(h.inertiaDeceleration*tt),te=Nt.multiplyBy(-$t/2).round();!te.x&&!te.y?l.fire("moveend"):(te=l._limitOffset(te,l.options.maxBounds),S(function(){l.panBy(te,{duration:$t,easeLinearity:tt,noMoveStart:!0,animate:!0})}))}}});re.addInitHook("addHandler","dragging",qc),re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vc=Zi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Jt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,g=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,g,y;for(g=0,y=h.left.length;g<y;g++)l[h.left[g]]=[-1*s,0];for(g=0,y=h.right.length;g<y;g++)l[h.right[g]]=[s,0];for(g=0,y=h.down.length;g<y;g++)l[h.down[g]]=[0,s];for(g=0,y=h.up.length;g<y;g++)l[h.up[g]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,g,y;for(g=0,y=h.zoomIn.length;g<y;g++)l[h.zoomIn[g]]=s;for(g=0,y=h.zoomOut.length;g<y;g++)l[h.zoomOut[g]]=-s},_addHooks:function(){Jt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,g;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(g=this._panKeys[l],s.shiftKey&&(g=Q(g).multiplyBy(3)),h.options.maxBounds&&(g=h._limitOffset(Q(g),h.options.maxBounds)),h.options.worldCopyJump){var y=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(g)));h.panTo(y)}else h.panBy(g)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;ss(s)}}});re.addInitHook("addHandler","keyboard",Vc),re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var jc=Zi.extend({addHooks:function(){Jt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=pc(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var g=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),g),ss(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,M=h?Math.ceil(y/h)*h:y,tt=s._limitZoom(l+(this._delta>0?M:-M))-l;this._delta=0,this._startTime=null,tt&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+tt):s.setZoomAround(this._lastMousePos,l+tt))}});re.addInitHook("addHandler","scrollWheelZoom",jc);var _m=600;re.mergeOptions({tapHold:Ft.touchNative&&Ft.safari&&Ft.mobile,tapTolerance:15});var Wc=Zi.extend({addHooks:function(){Jt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new R(l.clientX,l.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Jt(document,"touchend",Ze),Jt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),_m),Jt(document,"touchend touchcancel contextmenu",this._cancel,this),Jt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ye(document,"touchend",Ze),ye(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new R(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});re.addInitHook("addHandler","tapHold",Wc),re.mergeOptions({touchZoom:Ft.touch,bounceAtZoomLimits:!0});var Zc=Zi.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),Jt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(g)._divideBy(2))),this._startDist=h.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Jt(document,"touchmove",this._onTouchMove,this),Jt(document,"touchend touchcancel",this._onTouchEnd,this),Ze(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),g=l.mouseEventToContainerPoint(s.touches[1]),y=h.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(y,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&y<1||this._zoom>l.getMaxZoom()&&y>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var M=h._add(g)._divideBy(2)._subtract(this._centerPoint);if(y===1&&M.x===0&&M.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),E(this._animRequest);var tt=a(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=S(tt,this,!0),Ze(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,E(this._animRequest),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});re.addInitHook("addHandler","touchZoom",Zc),re.BoxZoom=Hc,re.DoubleClickZoom=Uc,re.Drag=qc,re.Keyboard=Vc,re.ScrollWheelZoom=jc,re.TapHold=Wc,re.TouchZoom=Zc,i.Bounds=H,i.Browser=Ft,i.CRS=Et,i.Canvas=Bc,i.Circle=Sl,i.CircleMarker=So,i.Class=G,i.Control=Oi,i.DivIcon=Oc,i.DivOverlay=$i,i.DomEvent=Rg,i.DomUtil=Og,i.Draggable=Pn,i.Evented=B,i.FeatureGroup=rn,i.GeoJSON=an,i.GridLayer=gr,i.Handler=Zi,i.Icon=Ts,i.ImageOverlay=Po,i.LatLng=lt,i.LatLngBounds=rt,i.Layer=Ii,i.LayerGroup=Ds,i.LineUtil=Gg,i.Map=re,i.Marker=Eo,i.Mixin=qg,i.Path=Ln,i.Point=R,i.PolyUtil=Vg,i.Polygon=Ps,i.Polyline=on,i.Popup=Lo,i.PosAnimation=gc,i.Projection=Yg,i.Rectangle=zc,i.Renderer=ln,i.SVG=_r,i.SVGOverlay=kc,i.TileLayer=Ms,i.Tooltip=Mo,i.Transformation=wt,i.Util=O,i.VideoOverlay=Mc,i.bind=a,i.bounds=nt,i.canvas=Nc,i.circle=nm,i.circleMarker=im,i.control=fr,i.divIcon=fm,i.extend=r,i.featureGroup=Qg,i.geoJSON=Lc,i.geoJson=om,i.gridLayer=dm,i.icon=tm,i.imageOverlay=am,i.latLng=ct,i.latLngBounds=ft,i.layerGroup=Jg,i.map=Bg,i.marker=em,i.point=Q,i.polygon=rm,i.polyline=sm,i.popup=cm,i.rectangle=mm,i.setOptions=A,i.stamp=c,i.svg=Fc,i.svgOverlay=um,i.tileLayer=Ic,i.tooltip=hm,i.transformation=U,i.version=n,i.videoOverlay=lm;var vm=window.L;i.noConflict=function(){return window.L=vm,this},window.L=i}))})(Br,Br.exports)),Br.exports}var Tv=Dv();const Bs=Ja(Tv);function Yu(e,t,i={}){const n={type:"Feature"};return(i.id===0||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=t||{},n.geometry=e,n}function Pv(e,t,i={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Nh(e[0])||!Nh(e[1]))throw new Error("coordinates must contain numbers");return Yu({type:"Point",coordinates:e},t,i)}function tl(e,t,i={}){for(const r of e){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let o=0;o<r[r.length-1].length;o++)if(r[r.length-1][o]!==r[0][o])throw new Error("First and last Position are not equivalent.")}return Yu({type:"Polygon",coordinates:e},t,i)}function gs(e,t={}){const i={type:"FeatureCollection"};return t.id&&(i.id=t.id),t.bbox&&(i.bbox=t.bbox),i.features=e,i}function Lp(e,t,i={}){return Yu({type:"MultiPolygon",coordinates:e},t,i)}function Nh(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Lv(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Mv(e,t,i){if(!e)throw new Error("No featureCollection passed");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+i+", FeatureCollection required");for(const n of e.features){if(!n||n.type!=="Feature"||!n.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!n.geometry||n.geometry.type!==t)throw new Error("Invalid input to "+i+": must be a "+t+", given "+n.geometry.type)}}function Mp(e,t,i){if(e!==null)for(var n,r,o,a,u,c,f,d=0,_=0,b,x=e.type,C=x==="FeatureCollection",A=x==="Feature",T=C?e.features.length:1,Z=0;Z<T;Z++){f=C?e.features[Z].geometry:A?e.geometry:e,b=f?f.type==="GeometryCollection":!1,u=b?f.geometries.length:1;for(var w=0;w<u;w++){var F=0,k=0;if(a=b?f.geometries[w]:f,a!==null){c=a.coordinates;var P=a.type;switch(d=0,P){case null:break;case"Point":if(t(c,_,Z,F,k)===!1)return!1;_++,F++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++){if(t(c[n],_,Z,F,k)===!1)return!1;_++,P==="MultiPoint"&&F++}P==="LineString"&&F++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++){for(r=0;r<c[n].length-d;r++){if(t(c[n][r],_,Z,F,k)===!1)return!1;_++}P==="MultiLineString"&&F++,P==="Polygon"&&k++}P==="Polygon"&&F++;break;case"MultiPolygon":for(n=0;n<c.length;n++){for(k=0,r=0;r<c[n].length;r++){for(o=0;o<c[n][r].length-d;o++){if(t(c[n][r][o],_,Z,F,k)===!1)return!1;_++}k++}F++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(Mp(a.geometries[n],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function kp(e,t){var i,n,r,o,a,u,c,f,d,_,b=0,x=e.type==="FeatureCollection",C=e.type==="Feature",A=x?e.features.length:1;for(i=0;i<A;i++){for(u=x?e.features[i].geometry:C?e.geometry:e,f=x?e.features[i].properties:C?e.properties:{},d=x?e.features[i].bbox:C?e.bbox:void 0,_=x?e.features[i].id:C?e.id:void 0,c=u?u.type==="GeometryCollection":!1,a=c?u.geometries.length:1,r=0;r<a;r++){if(o=c?u.geometries[r]:u,o===null){if(t(null,b,f,d,_)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,b,f,d,_)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<o.geometries.length;n++)if(t(o.geometries[n],b,f,d,_)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}b++}}var Ho={exports:{}},oa={exports:{}},kv=oa.exports,Fh;function Ov(){return Fh||(Fh=1,(function(e,t){(function(i,n){e.exports=n()})(kv,function(){function i(w,F,k,P,j){(function q(m,p,v,S,E){for(;S>v;){if(S-v>600){var O=S-v+1,G=p-v+1,V=Math.log(O),z=.5*Math.exp(2*V/3),B=.5*Math.sqrt(V*z*(O-z)/O)*(G-O/2<0?-1:1),R=Math.max(v,Math.floor(p-G*z/O+B)),X=Math.min(S,Math.floor(p+(O-G)*z/O+B));q(m,p,R,X,E)}var Q=m[p],H=v,nt=S;for(n(m,v,p),E(m[S],Q)>0&&n(m,v,S);H<nt;){for(n(m,H,nt),H++,nt--;E(m[H],Q)<0;)H++;for(;E(m[nt],Q)>0;)nt--}E(m[v],Q)===0?n(m,v,nt):n(m,++nt,S),nt<=p&&(v=nt+1),p<=nt&&(S=nt-1)}})(w,F,k||0,P||w.length-1,j||r)}function n(w,F,k){var P=w[F];w[F]=w[k],w[k]=P}function r(w,F){return w<F?-1:w>F?1:0}var o=function(w){w===void 0&&(w=9),this._maxEntries=Math.max(4,w),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function a(w,F,k){if(!k)return F.indexOf(w);for(var P=0;P<F.length;P++)if(k(w,F[P]))return P;return-1}function u(w,F){c(w,0,w.children.length,F,w)}function c(w,F,k,P,j){j||(j=T(null)),j.minX=1/0,j.minY=1/0,j.maxX=-1/0,j.maxY=-1/0;for(var q=F;q<k;q++){var m=w.children[q];f(j,w.leaf?P(m):m)}return j}function f(w,F){return w.minX=Math.min(w.minX,F.minX),w.minY=Math.min(w.minY,F.minY),w.maxX=Math.max(w.maxX,F.maxX),w.maxY=Math.max(w.maxY,F.maxY),w}function d(w,F){return w.minX-F.minX}function _(w,F){return w.minY-F.minY}function b(w){return(w.maxX-w.minX)*(w.maxY-w.minY)}function x(w){return w.maxX-w.minX+(w.maxY-w.minY)}function C(w,F){return w.minX<=F.minX&&w.minY<=F.minY&&F.maxX<=w.maxX&&F.maxY<=w.maxY}function A(w,F){return F.minX<=w.maxX&&F.minY<=w.maxY&&F.maxX>=w.minX&&F.maxY>=w.minY}function T(w){return{children:w,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Z(w,F,k,P,j){for(var q=[F,k];q.length;)if(!((k=q.pop())-(F=q.pop())<=P)){var m=F+Math.ceil((k-F)/P/2)*P;i(w,m,F,k,j),q.push(F,m,m,k)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(w){var F=this.data,k=[];if(!A(w,F))return k;for(var P=this.toBBox,j=[];F;){for(var q=0;q<F.children.length;q++){var m=F.children[q],p=F.leaf?P(m):m;A(w,p)&&(F.leaf?k.push(m):C(w,p)?this._all(m,k):j.push(m))}F=j.pop()}return k},o.prototype.collides=function(w){var F=this.data;if(!A(w,F))return!1;for(var k=[];F;){for(var P=0;P<F.children.length;P++){var j=F.children[P],q=F.leaf?this.toBBox(j):j;if(A(w,q)){if(F.leaf||C(w,q))return!0;k.push(j)}}F=k.pop()}return!1},o.prototype.load=function(w){if(!w||!w.length)return this;if(w.length<this._minEntries){for(var F=0;F<w.length;F++)this.insert(w[F]);return this}var k=this._build(w.slice(),0,w.length-1,0);if(this.data.children.length)if(this.data.height===k.height)this._splitRoot(this.data,k);else{if(this.data.height<k.height){var P=this.data;this.data=k,k=P}this._insert(k,this.data.height-k.height-1,!0)}else this.data=k;return this},o.prototype.insert=function(w){return w&&this._insert(w,this.data.height-1),this},o.prototype.clear=function(){return this.data=T([]),this},o.prototype.remove=function(w,F){if(!w)return this;for(var k,P,j,q=this.data,m=this.toBBox(w),p=[],v=[];q||p.length;){if(q||(q=p.pop(),P=p[p.length-1],k=v.pop(),j=!0),q.leaf){var S=a(w,q.children,F);if(S!==-1)return q.children.splice(S,1),p.push(q),this._condense(p),this}j||q.leaf||!C(q,m)?P?(k++,q=P.children[k],j=!1):q=null:(p.push(q),v.push(k),k=0,P=q,q=q.children[0])}return this},o.prototype.toBBox=function(w){return w},o.prototype.compareMinX=function(w,F){return w.minX-F.minX},o.prototype.compareMinY=function(w,F){return w.minY-F.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(w){return this.data=w,this},o.prototype._all=function(w,F){for(var k=[];w;)w.leaf?F.push.apply(F,w.children):k.push.apply(k,w.children),w=k.pop();return F},o.prototype._build=function(w,F,k,P){var j,q=k-F+1,m=this._maxEntries;if(q<=m)return u(j=T(w.slice(F,k+1)),this.toBBox),j;P||(P=Math.ceil(Math.log(q)/Math.log(m)),m=Math.ceil(q/Math.pow(m,P-1))),(j=T([])).leaf=!1,j.height=P;var p=Math.ceil(q/m),v=p*Math.ceil(Math.sqrt(m));Z(w,F,k,v,this.compareMinX);for(var S=F;S<=k;S+=v){var E=Math.min(S+v-1,k);Z(w,S,E,p,this.compareMinY);for(var O=S;O<=E;O+=p){var G=Math.min(O+p-1,E);j.children.push(this._build(w,O,G,P-1))}}return u(j,this.toBBox),j},o.prototype._chooseSubtree=function(w,F,k,P){for(;P.push(F),!F.leaf&&P.length-1!==k;){for(var j=1/0,q=1/0,m=void 0,p=0;p<F.children.length;p++){var v=F.children[p],S=b(v),E=(O=w,G=v,(Math.max(G.maxX,O.maxX)-Math.min(G.minX,O.minX))*(Math.max(G.maxY,O.maxY)-Math.min(G.minY,O.minY))-S);E<q?(q=E,j=S<j?S:j,m=v):E===q&&S<j&&(j=S,m=v)}F=m||F.children[0]}var O,G;return F},o.prototype._insert=function(w,F,k){var P=k?w:this.toBBox(w),j=[],q=this._chooseSubtree(P,this.data,F,j);for(q.children.push(w),f(q,P);F>=0&&j[F].children.length>this._maxEntries;)this._split(j,F),F--;this._adjustParentBBoxes(P,j,F)},o.prototype._split=function(w,F){var k=w[F],P=k.children.length,j=this._minEntries;this._chooseSplitAxis(k,j,P);var q=this._chooseSplitIndex(k,j,P),m=T(k.children.splice(q,k.children.length-q));m.height=k.height,m.leaf=k.leaf,u(k,this.toBBox),u(m,this.toBBox),F?w[F-1].children.push(m):this._splitRoot(k,m)},o.prototype._splitRoot=function(w,F){this.data=T([w,F]),this.data.height=w.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(w,F,k){for(var P,j,q,m,p,v,S,E=1/0,O=1/0,G=F;G<=k-F;G++){var V=c(w,0,G,this.toBBox),z=c(w,G,k,this.toBBox),B=(j=V,q=z,m=void 0,p=void 0,v=void 0,S=void 0,m=Math.max(j.minX,q.minX),p=Math.max(j.minY,q.minY),v=Math.min(j.maxX,q.maxX),S=Math.min(j.maxY,q.maxY),Math.max(0,v-m)*Math.max(0,S-p)),R=b(V)+b(z);B<E?(E=B,P=G,O=R<O?R:O):B===E&&R<O&&(O=R,P=G)}return P||k-F},o.prototype._chooseSplitAxis=function(w,F,k){var P=w.leaf?this.compareMinX:d,j=w.leaf?this.compareMinY:_;this._allDistMargin(w,F,k,P)<this._allDistMargin(w,F,k,j)&&w.children.sort(P)},o.prototype._allDistMargin=function(w,F,k,P){w.children.sort(P);for(var j=this.toBBox,q=c(w,0,F,j),m=c(w,k-F,k,j),p=x(q)+x(m),v=F;v<k-F;v++){var S=w.children[v];f(q,w.leaf?j(S):S),p+=x(q)}for(var E=k-F-1;E>=F;E--){var O=w.children[E];f(m,w.leaf?j(O):O),p+=x(m)}return p},o.prototype._adjustParentBBoxes=function(w,F,k){for(var P=k;P>=0;P--)f(F[P],w)},o.prototype._condense=function(w){for(var F=w.length-1,k=void 0;F>=0;F--)w[F].children.length===0?F>0?(k=w[F-1].children).splice(k.indexOf(w[F]),1):this.clear():u(w[F],this.toBBox)},o})})(oa)),oa.exports}class Iv{constructor(t=[],i=Rv){if(this.data=t,this.length=this.data.length,this.compare=i,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:i,compare:n}=this,r=i[t];for(;t>0;){const o=t-1>>1,a=i[o];if(n(r,a)>=0)break;i[t]=a,t=o}i[t]=r}_down(t){const{data:i,compare:n}=this,r=this.length>>1,o=i[t];for(;t<r;){let a=(t<<1)+1,u=i[a];const c=a+1;if(c<this.length&&n(i[c],u)<0&&(a=c,u=i[c]),n(u,o)>=0)break;i[t]=u,t=a}i[t]=o}}function Rv(e,t){return e<t?-1:e>t?1:0}const Bv=Object.freeze(Object.defineProperty({__proto__:null,default:Iv},Symbol.toStringTag,{value:"Module"})),Nv=ev(Bv);var Sr={exports:{}},Wl,zh;function Fv(){return zh||(zh=1,Wl=function(t,i,n,r){var o=t[0],a=t[1],u=!1;n===void 0&&(n=0),r===void 0&&(r=i.length);for(var c=(r-n)/2,f=0,d=c-1;f<c;d=f++){var _=i[n+f*2+0],b=i[n+f*2+1],x=i[n+d*2+0],C=i[n+d*2+1],A=b>a!=C>a&&o<(x-_)*(a-b)/(C-b)+_;A&&(u=!u)}return u}),Wl}var Zl,Hh;function zv(){return Hh||(Hh=1,Zl=function(t,i,n,r){var o=t[0],a=t[1],u=!1;n===void 0&&(n=0),r===void 0&&(r=i.length);for(var c=r-n,f=0,d=c-1;f<c;d=f++){var _=i[f+n][0],b=i[f+n][1],x=i[d+n][0],C=i[d+n][1],A=b>a!=C>a&&o<(x-_)*(a-b)/(C-b)+_;A&&(u=!u)}return u}),Zl}var Uh;function Hv(){if(Uh)return Sr.exports;Uh=1;var e=Fv(),t=zv();return Sr.exports=function(n,r,o,a){return r.length>0&&Array.isArray(r[0])?t(n,r,o,a):e(n,r,o,a)},Sr.exports.nested=t,Sr.exports.flat=e,Sr.exports}var Nr={exports:{}},Uv=Nr.exports,qh;function qv(){return qh||(qh=1,(function(e,t){(function(i,n){n(t)})(Uv,function(i){const r=33306690738754706e-32;function o(A,T,Z,w,F){let k,P,j,q,m=T[0],p=w[0],v=0,S=0;p>m==p>-m?(k=m,m=T[++v]):(k=p,p=w[++S]);let E=0;if(v<A&&S<Z)for(p>m==p>-m?(j=k-((P=m+k)-m),m=T[++v]):(j=k-((P=p+k)-p),p=w[++S]),k=P,j!==0&&(F[E++]=j);v<A&&S<Z;)p>m==p>-m?(j=k-((P=k+m)-(q=P-k))+(m-q),m=T[++v]):(j=k-((P=k+p)-(q=P-k))+(p-q),p=w[++S]),k=P,j!==0&&(F[E++]=j);for(;v<A;)j=k-((P=k+m)-(q=P-k))+(m-q),m=T[++v],k=P,j!==0&&(F[E++]=j);for(;S<Z;)j=k-((P=k+p)-(q=P-k))+(p-q),p=w[++S],k=P,j!==0&&(F[E++]=j);return k===0&&E!==0||(F[E++]=k),E}function a(A){return new Float64Array(A)}const u=33306690738754716e-32,c=22204460492503146e-32,f=11093356479670487e-47,d=a(4),_=a(8),b=a(12),x=a(16),C=a(4);i.orient2d=function(A,T,Z,w,F,k){const P=(T-k)*(Z-F),j=(A-F)*(w-k),q=P-j;if(P===0||j===0||P>0!=j>0)return q;const m=Math.abs(P+j);return Math.abs(q)>=u*m?q:-(function(p,v,S,E,O,G,V){let z,B,R,X,Q,H,nt,rt,ft,lt,ct,Et,bt,Pt,St,wt,U,W;const it=p-O,ot=S-O,st=v-G,dt=E-G;Q=(St=(rt=it-(nt=(H=134217729*it)-(H-it)))*(lt=dt-(ft=(H=134217729*dt)-(H-dt)))-((Pt=it*dt)-nt*ft-rt*ft-nt*lt))-(ct=St-(U=(rt=st-(nt=(H=134217729*st)-(H-st)))*(lt=ot-(ft=(H=134217729*ot)-(H-ot)))-((wt=st*ot)-nt*ft-rt*ft-nt*lt))),d[0]=St-(ct+Q)+(Q-U),Q=(bt=Pt-((Et=Pt+ct)-(Q=Et-Pt))+(ct-Q))-(ct=bt-wt),d[1]=bt-(ct+Q)+(Q-wt),Q=(W=Et+ct)-Et,d[2]=Et-(W-Q)+(ct-Q),d[3]=W;let _t=(function(kt,Ot){let Rt=Ot[0];for(let Bt=1;Bt<kt;Bt++)Rt+=Ot[Bt];return Rt})(4,d),yt=c*V;if(_t>=yt||-_t>=yt||(z=p-(it+(Q=p-it))+(Q-O),R=S-(ot+(Q=S-ot))+(Q-O),B=v-(st+(Q=v-st))+(Q-G),X=E-(dt+(Q=E-dt))+(Q-G),z===0&&B===0&&R===0&&X===0)||(yt=f*V+r*Math.abs(_t),(_t+=it*X+dt*z-(st*R+ot*B))>=yt||-_t>=yt))return _t;Q=(St=(rt=z-(nt=(H=134217729*z)-(H-z)))*(lt=dt-(ft=(H=134217729*dt)-(H-dt)))-((Pt=z*dt)-nt*ft-rt*ft-nt*lt))-(ct=St-(U=(rt=B-(nt=(H=134217729*B)-(H-B)))*(lt=ot-(ft=(H=134217729*ot)-(H-ot)))-((wt=B*ot)-nt*ft-rt*ft-nt*lt))),C[0]=St-(ct+Q)+(Q-U),Q=(bt=Pt-((Et=Pt+ct)-(Q=Et-Pt))+(ct-Q))-(ct=bt-wt),C[1]=bt-(ct+Q)+(Q-wt),Q=(W=Et+ct)-Et,C[2]=Et-(W-Q)+(ct-Q),C[3]=W;const xt=o(4,d,4,C,_);Q=(St=(rt=it-(nt=(H=134217729*it)-(H-it)))*(lt=X-(ft=(H=134217729*X)-(H-X)))-((Pt=it*X)-nt*ft-rt*ft-nt*lt))-(ct=St-(U=(rt=st-(nt=(H=134217729*st)-(H-st)))*(lt=R-(ft=(H=134217729*R)-(H-R)))-((wt=st*R)-nt*ft-rt*ft-nt*lt))),C[0]=St-(ct+Q)+(Q-U),Q=(bt=Pt-((Et=Pt+ct)-(Q=Et-Pt))+(ct-Q))-(ct=bt-wt),C[1]=bt-(ct+Q)+(Q-wt),Q=(W=Et+ct)-Et,C[2]=Et-(W-Q)+(ct-Q),C[3]=W;const gt=o(xt,_,4,C,b);Q=(St=(rt=z-(nt=(H=134217729*z)-(H-z)))*(lt=X-(ft=(H=134217729*X)-(H-X)))-((Pt=z*X)-nt*ft-rt*ft-nt*lt))-(ct=St-(U=(rt=B-(nt=(H=134217729*B)-(H-B)))*(lt=R-(ft=(H=134217729*R)-(H-R)))-((wt=B*R)-nt*ft-rt*ft-nt*lt))),C[0]=St-(ct+Q)+(Q-U),Q=(bt=Pt-((Et=Pt+ct)-(Q=Et-Pt))+(ct-Q))-(ct=bt-wt),C[1]=bt-(ct+Q)+(Q-wt),Q=(W=Et+ct)-Et,C[2]=Et-(W-Q)+(ct-Q),C[3]=W;const Tt=o(gt,b,4,C,x);return x[Tt-1]})(A,T,Z,w,F,k,m)},i.orient2dfast=function(A,T,Z,w,F,k){return(T-k)*(Z-F)-(A-F)*(w-k)},Object.defineProperty(i,"__esModule",{value:!0})})})(Nr,Nr.exports)),Nr.exports}var Vh;function Vv(){if(Vh)return Ho.exports;Vh=1;var e=Ov(),t=Nv,i=Hv(),n=qv().orient2d;t.default&&(t=t.default),Ho.exports=r,Ho.exports.default=r;function r(k,P,j){P=Math.max(0,P===void 0?2:P),j=j||0;var q=x(k),m=new e(16);m.toBBox=function(nt){return{minX:nt[0],minY:nt[1],maxX:nt[0],maxY:nt[1]}},m.compareMinX=function(nt,rt){return nt[0]-rt[0]},m.compareMinY=function(nt,rt){return nt[1]-rt[1]},m.load(k);for(var p=[],v=0,S;v<q.length;v++){var E=q[v];m.remove(E),S=C(E,S),p.push(S)}var O=new e(16);for(v=0;v<p.length;v++)O.insert(b(p[v]));for(var G=P*P,V=j*j;p.length;){var z=p.shift(),B=z.p,R=z.next.p,X=A(B,R);if(!(X<V)){var Q=X/G;E=o(m,z.prev.p,B,R,z.next.next.p,Q,O),E&&Math.min(A(E,B),A(E,R))<=Q&&(p.push(z),p.push(C(E,z)),m.remove(E),O.remove(z),O.insert(b(z)),O.insert(b(z.next)))}}z=S;var H=[];do H.push(z.p),z=z.next;while(z!==S);return H.push(z.p),H}function o(k,P,j,q,m,p,v){for(var S=new t([],a),E=k.data;E;){for(var O=0;O<E.children.length;O++){var G=E.children[O],V=E.leaf?T(G,j,q):u(j,q,G);V>p||S.push({node:G,dist:V})}for(;S.length&&!S.peek().node.children;){var z=S.pop(),B=z.node,R=T(B,P,j),X=T(B,q,m);if(z.dist<R&&z.dist<X&&f(j,B,v)&&f(q,B,v))return B}E=S.pop(),E&&(E=E.node)}return null}function a(k,P){return k.dist-P.dist}function u(k,P,j){if(c(k,j)||c(P,j))return 0;var q=Z(k[0],k[1],P[0],P[1],j.minX,j.minY,j.maxX,j.minY);if(q===0)return 0;var m=Z(k[0],k[1],P[0],P[1],j.minX,j.minY,j.minX,j.maxY);if(m===0)return 0;var p=Z(k[0],k[1],P[0],P[1],j.maxX,j.minY,j.maxX,j.maxY);if(p===0)return 0;var v=Z(k[0],k[1],P[0],P[1],j.minX,j.maxY,j.maxX,j.maxY);return v===0?0:Math.min(q,m,p,v)}function c(k,P){return k[0]>=P.minX&&k[0]<=P.maxX&&k[1]>=P.minY&&k[1]<=P.maxY}function f(k,P,j){for(var q=Math.min(k[0],P[0]),m=Math.min(k[1],P[1]),p=Math.max(k[0],P[0]),v=Math.max(k[1],P[1]),S=j.search({minX:q,minY:m,maxX:p,maxY:v}),E=0;E<S.length;E++)if(_(S[E].p,S[E].next.p,k,P))return!1;return!0}function d(k,P,j){return n(k[0],k[1],P[0],P[1],j[0],j[1])}function _(k,P,j,q){return k!==q&&P!==j&&d(k,P,j)>0!=d(k,P,q)>0&&d(j,q,k)>0!=d(j,q,P)>0}function b(k){var P=k.p,j=k.next.p;return k.minX=Math.min(P[0],j[0]),k.minY=Math.min(P[1],j[1]),k.maxX=Math.max(P[0],j[0]),k.maxY=Math.max(P[1],j[1]),k}function x(k){for(var P=k[0],j=k[0],q=k[0],m=k[0],p=0;p<k.length;p++){var v=k[p];v[0]<P[0]&&(P=v),v[0]>q[0]&&(q=v),v[1]<j[1]&&(j=v),v[1]>m[1]&&(m=v)}var S=[P,j,q,m],E=S.slice();for(p=0;p<k.length;p++)i(k[p],S)||E.push(k[p]);return F(E)}function C(k,P){var j={p:k,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return P?(j.next=P.next,j.prev=P,P.next.prev=j,P.next=j):(j.prev=j,j.next=j),j}function A(k,P){var j=k[0]-P[0],q=k[1]-P[1];return j*j+q*q}function T(k,P,j){var q=P[0],m=P[1],p=j[0]-q,v=j[1]-m;if(p!==0||v!==0){var S=((k[0]-q)*p+(k[1]-m)*v)/(p*p+v*v);S>1?(q=j[0],m=j[1]):S>0&&(q+=p*S,m+=v*S)}return p=k[0]-q,v=k[1]-m,p*p+v*v}function Z(k,P,j,q,m,p,v,S){var E=j-k,O=q-P,G=v-m,V=S-p,z=k-m,B=P-p,R=E*E+O*O,X=E*G+O*V,Q=G*G+V*V,H=E*z+O*B,nt=G*z+V*B,rt=R*Q-X*X,ft,lt,ct,Et,bt=rt,Pt=rt;rt===0?(lt=0,bt=1,Et=nt,Pt=Q):(lt=X*nt-Q*H,Et=R*nt-X*H,lt<0?(lt=0,Et=nt,Pt=Q):lt>bt&&(lt=bt,Et=nt+X,Pt=Q)),Et<0?(Et=0,-H<0?lt=0:-H>R?lt=bt:(lt=-H,bt=R)):Et>Pt&&(Et=Pt,-H+X<0?lt=0:-H+X>R?lt=bt:(lt=-H+X,bt=R)),ft=lt===0?0:lt/bt,ct=Et===0?0:Et/Pt;var St=(1-ft)*k+ft*j,wt=(1-ft)*P+ft*q,U=(1-ct)*m+ct*v,W=(1-ct)*p+ct*S,it=U-St,ot=W-wt;return it*it+ot*ot}function w(k,P){return k[0]===P[0]?k[1]-P[1]:k[0]-P[0]}function F(k){k.sort(w);for(var P=[],j=0;j<k.length;j++){for(;P.length>=2&&d(P[P.length-2],P[P.length-1],k[j])<=0;)P.pop();P.push(k[j])}for(var q=[],m=k.length-1;m>=0;m--){for(;q.length>=2&&d(q[q.length-2],q[q.length-1],k[m])<=0;)q.pop();q.push(k[m])}return q.pop(),P.pop(),P.concat(q)}return Ho.exports}var jv=Vv();const Wv=Ja(jv);function Zv(e,t={}){t.concavity=t.concavity||1/0;const i=[];if(Mp(e,r=>{i.push([r[0],r[1]])}),!i.length)return null;const n=Wv(i,t.concavity);return n.length>3?tl([n]):null}function Op(e){const t={};return e&&Object.keys(e).forEach(i=>{const n=e[i];typeof n=="object"?n===null?t[i]=null:Array.isArray(n)?t[i]=n.map(r=>r):t[i]=Op(n):t[i]=n}),t}var $v=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,$l=Math.ceil,Di=Math.floor,di="[BigNumber Error] ",jh=di+"Number primitive has more than 15 significant digits: ",Ri=1e14,Kt=14,Gl=9007199254740991,Yl=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Mn=1e7,je=1e9;function Ip(e){var t,i,n,r=w.prototype={constructor:w,toString:null,valueOf:null},o=new w(1),a=20,u=4,c=-7,f=21,d=-1e7,_=1e7,b=!1,x=1,C=0,A={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},T="0123456789abcdefghijklmnopqrstuvwxyz",Z=!0;function w(m,p){var v,S,E,O,G,V,z,B,R=this;if(!(R instanceof w))return new w(m,p);if(p==null){if(m&&m._isBigNumber===!0){R.s=m.s,!m.c||m.e>_?R.c=R.e=null:m.e<d?R.c=[R.e=0]:(R.e=m.e,R.c=m.c.slice());return}if((V=typeof m=="number")&&m*0==0){if(R.s=1/m<0?(m=-m,-1):1,m===~~m){for(O=0,G=m;G>=10;G/=10,O++);O>_?R.c=R.e=null:(R.e=O,R.c=[m]);return}B=String(m)}else{if(!$v.test(B=String(m)))return n(R,B,V);R.s=B.charCodeAt(0)==45?(B=B.slice(1),-1):1}(O=B.indexOf("."))>-1&&(B=B.replace(".","")),(G=B.search(/e/i))>0?(O<0&&(O=G),O+=+B.slice(G+1),B=B.substring(0,G)):O<0&&(O=B.length)}else{if(Ae(p,2,T.length,"Base"),p==10&&Z)return R=new w(m),j(R,a+R.e+1,u);if(B=String(m),V=typeof m=="number"){if(m*0!=0)return n(R,B,V,p);if(R.s=1/m<0?(B=B.slice(1),-1):1,w.DEBUG&&B.replace(/^0\.0*|\./,"").length>15)throw Error(jh+m)}else R.s=B.charCodeAt(0)===45?(B=B.slice(1),-1):1;for(v=T.slice(0,p),O=G=0,z=B.length;G<z;G++)if(v.indexOf(S=B.charAt(G))<0){if(S=="."){if(G>O){O=z;continue}}else if(!E&&(B==B.toUpperCase()&&(B=B.toLowerCase())||B==B.toLowerCase()&&(B=B.toUpperCase()))){E=!0,G=-1,O=0;continue}return n(R,String(m),V,p)}V=!1,B=i(B,p,10,R.s),(O=B.indexOf("."))>-1?B=B.replace(".",""):O=B.length}for(G=0;B.charCodeAt(G)===48;G++);for(z=B.length;B.charCodeAt(--z)===48;);if(B=B.slice(G,++z)){if(z-=G,V&&w.DEBUG&&z>15&&(m>Gl||m!==Di(m)))throw Error(jh+R.s*m);if((O=O-G-1)>_)R.c=R.e=null;else if(O<d)R.c=[R.e=0];else{if(R.e=O,R.c=[],G=(O+1)%Kt,O<0&&(G+=Kt),G<z){for(G&&R.c.push(+B.slice(0,G)),z-=Kt;G<z;)R.c.push(+B.slice(G,G+=Kt));G=Kt-(B=B.slice(G)).length}else G-=z;for(;G--;B+="0");R.c.push(+B)}}else R.c=[R.e=0]}w.clone=Ip,w.ROUND_UP=0,w.ROUND_DOWN=1,w.ROUND_CEIL=2,w.ROUND_FLOOR=3,w.ROUND_HALF_UP=4,w.ROUND_HALF_DOWN=5,w.ROUND_HALF_EVEN=6,w.ROUND_HALF_CEIL=7,w.ROUND_HALF_FLOOR=8,w.EUCLID=9,w.config=w.set=function(m){var p,v;if(m!=null)if(typeof m=="object"){if(m.hasOwnProperty(p="DECIMAL_PLACES")&&(v=m[p],Ae(v,0,je,p),a=v),m.hasOwnProperty(p="ROUNDING_MODE")&&(v=m[p],Ae(v,0,8,p),u=v),m.hasOwnProperty(p="EXPONENTIAL_AT")&&(v=m[p],v&&v.pop?(Ae(v[0],-je,0,p),Ae(v[1],0,je,p),c=v[0],f=v[1]):(Ae(v,-je,je,p),c=-(f=v<0?-v:v))),m.hasOwnProperty(p="RANGE"))if(v=m[p],v&&v.pop)Ae(v[0],-je,-1,p),Ae(v[1],1,je,p),d=v[0],_=v[1];else if(Ae(v,-je,je,p),v)d=-(_=v<0?-v:v);else throw Error(di+p+" cannot be zero: "+v);if(m.hasOwnProperty(p="CRYPTO"))if(v=m[p],v===!!v)if(v)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))b=v;else throw b=!v,Error(di+"crypto unavailable");else b=v;else throw Error(di+p+" not true or false: "+v);if(m.hasOwnProperty(p="MODULO_MODE")&&(v=m[p],Ae(v,0,9,p),x=v),m.hasOwnProperty(p="POW_PRECISION")&&(v=m[p],Ae(v,0,je,p),C=v),m.hasOwnProperty(p="FORMAT"))if(v=m[p],typeof v=="object")A=v;else throw Error(di+p+" not an object: "+v);if(m.hasOwnProperty(p="ALPHABET"))if(v=m[p],typeof v=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(v))Z=v.slice(0,10)=="0123456789",T=v;else throw Error(di+p+" invalid: "+v)}else throw Error(di+"Object expected: "+m);return{DECIMAL_PLACES:a,ROUNDING_MODE:u,EXPONENTIAL_AT:[c,f],RANGE:[d,_],CRYPTO:b,MODULO_MODE:x,POW_PRECISION:C,FORMAT:A,ALPHABET:T}},w.isBigNumber=function(m){if(!m||m._isBigNumber!==!0)return!1;if(!w.DEBUG)return!0;var p,v,S=m.c,E=m.e,O=m.s;t:if({}.toString.call(S)=="[object Array]"){if((O===1||O===-1)&&E>=-je&&E<=je&&E===Di(E)){if(S[0]===0){if(E===0&&S.length===1)return!0;break t}if(p=(E+1)%Kt,p<1&&(p+=Kt),String(S[0]).length==p){for(p=0;p<S.length;p++)if(v=S[p],v<0||v>=Ri||v!==Di(v))break t;if(v!==0)return!0}}}else if(S===null&&E===null&&(O===null||O===1||O===-1))return!0;throw Error(di+"Invalid BigNumber: "+m)},w.maximum=w.max=function(){return k(arguments,-1)},w.minimum=w.min=function(){return k(arguments,1)},w.random=(function(){var m=9007199254740992,p=Math.random()*m&2097151?function(){return Di(Math.random()*m)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(v){var S,E,O,G,V,z=0,B=[],R=new w(o);if(v==null?v=a:Ae(v,0,je),G=$l(v/Kt),b)if(crypto.getRandomValues){for(S=crypto.getRandomValues(new Uint32Array(G*=2));z<G;)V=S[z]*131072+(S[z+1]>>>11),V>=9e15?(E=crypto.getRandomValues(new Uint32Array(2)),S[z]=E[0],S[z+1]=E[1]):(B.push(V%1e14),z+=2);z=G/2}else if(crypto.randomBytes){for(S=crypto.randomBytes(G*=7);z<G;)V=(S[z]&31)*281474976710656+S[z+1]*1099511627776+S[z+2]*4294967296+S[z+3]*16777216+(S[z+4]<<16)+(S[z+5]<<8)+S[z+6],V>=9e15?crypto.randomBytes(7).copy(S,z):(B.push(V%1e14),z+=7);z=G/7}else throw b=!1,Error(di+"crypto unavailable");if(!b)for(;z<G;)V=p(),V<9e15&&(B[z++]=V%1e14);for(G=B[--z],v%=Kt,G&&v&&(V=Yl[Kt-v],B[z]=Di(G/V)*V);B[z]===0;B.pop(),z--);if(z<0)B=[O=0];else{for(O=-1;B[0]===0;B.splice(0,1),O-=Kt);for(z=1,V=B[0];V>=10;V/=10,z++);z<Kt&&(O-=Kt-z)}return R.e=O,R.c=B,R}})(),w.sum=function(){for(var m=1,p=arguments,v=new w(p[0]);m<p.length;)v=v.plus(p[m++]);return v},i=(function(){var m="0123456789";function p(v,S,E,O){for(var G,V=[0],z,B=0,R=v.length;B<R;){for(z=V.length;z--;V[z]*=S);for(V[0]+=O.indexOf(v.charAt(B++)),G=0;G<V.length;G++)V[G]>E-1&&(V[G+1]==null&&(V[G+1]=0),V[G+1]+=V[G]/E|0,V[G]%=E)}return V.reverse()}return function(v,S,E,O,G){var V,z,B,R,X,Q,H,nt,rt=v.indexOf("."),ft=a,lt=u;for(rt>=0&&(R=C,C=0,v=v.replace(".",""),nt=new w(S),Q=nt.pow(v.length-rt),C=R,nt.c=p(hn(Ai(Q.c),Q.e,"0"),10,E,m),nt.e=nt.c.length),H=p(v,S,E,G?(V=T,m):(V=m,T)),B=R=H.length;H[--R]==0;H.pop());if(!H[0])return V.charAt(0);if(rt<0?--B:(Q.c=H,Q.e=B,Q.s=O,Q=t(Q,nt,ft,lt,E),H=Q.c,X=Q.r,B=Q.e),z=B+ft+1,rt=H[z],R=E/2,X=X||z<0||H[z+1]!=null,X=lt<4?(rt!=null||X)&&(lt==0||lt==(Q.s<0?3:2)):rt>R||rt==R&&(lt==4||X||lt==6&&H[z-1]&1||lt==(Q.s<0?8:7)),z<1||!H[0])v=X?hn(V.charAt(1),-ft,V.charAt(0)):V.charAt(0);else{if(H.length=z,X)for(--E;++H[--z]>E;)H[z]=0,z||(++B,H=[1].concat(H));for(R=H.length;!H[--R];);for(rt=0,v="";rt<=R;v+=V.charAt(H[rt++]));v=hn(v,B,V.charAt(0))}return v}})(),t=(function(){function m(S,E,O){var G,V,z,B,R=0,X=S.length,Q=E%Mn,H=E/Mn|0;for(S=S.slice();X--;)z=S[X]%Mn,B=S[X]/Mn|0,G=H*z+B*Q,V=Q*z+G%Mn*Mn+R,R=(V/O|0)+(G/Mn|0)+H*B,S[X]=V%O;return R&&(S=[R].concat(S)),S}function p(S,E,O,G){var V,z;if(O!=G)z=O>G?1:-1;else for(V=z=0;V<O;V++)if(S[V]!=E[V]){z=S[V]>E[V]?1:-1;break}return z}function v(S,E,O,G){for(var V=0;O--;)S[O]-=V,V=S[O]<E[O]?1:0,S[O]=V*G+S[O]-E[O];for(;!S[0]&&S.length>1;S.splice(0,1));}return function(S,E,O,G,V){var z,B,R,X,Q,H,nt,rt,ft,lt,ct,Et,bt,Pt,St,wt,U,W=S.s==E.s?1:-1,it=S.c,ot=E.c;if(!it||!it[0]||!ot||!ot[0])return new w(!S.s||!E.s||(it?ot&&it[0]==ot[0]:!ot)?NaN:it&&it[0]==0||!ot?W*0:W/0);for(rt=new w(W),ft=rt.c=[],B=S.e-E.e,W=O+B+1,V||(V=Ri,B=Ti(S.e/Kt)-Ti(E.e/Kt),W=W/Kt|0),R=0;ot[R]==(it[R]||0);R++);if(ot[R]>(it[R]||0)&&B--,W<0)ft.push(1),X=!0;else{for(Pt=it.length,wt=ot.length,R=0,W+=2,Q=Di(V/(ot[0]+1)),Q>1&&(ot=m(ot,Q,V),it=m(it,Q,V),wt=ot.length,Pt=it.length),bt=wt,lt=it.slice(0,wt),ct=lt.length;ct<wt;lt[ct++]=0);U=ot.slice(),U=[0].concat(U),St=ot[0],ot[1]>=V/2&&St++;do{if(Q=0,z=p(ot,lt,wt,ct),z<0){if(Et=lt[0],wt!=ct&&(Et=Et*V+(lt[1]||0)),Q=Di(Et/St),Q>1)for(Q>=V&&(Q=V-1),H=m(ot,Q,V),nt=H.length,ct=lt.length;p(H,lt,nt,ct)==1;)Q--,v(H,wt<nt?U:ot,nt,V),nt=H.length,z=1;else Q==0&&(z=Q=1),H=ot.slice(),nt=H.length;if(nt<ct&&(H=[0].concat(H)),v(lt,H,ct,V),ct=lt.length,z==-1)for(;p(ot,lt,wt,ct)<1;)Q++,v(lt,wt<ct?U:ot,ct,V),ct=lt.length}else z===0&&(Q++,lt=[0]);ft[R++]=Q,lt[0]?lt[ct++]=it[bt]||0:(lt=[it[bt]],ct=1)}while((bt++<Pt||lt[0]!=null)&&W--);X=lt[0]!=null,ft[0]||ft.splice(0,1)}if(V==Ri){for(R=1,W=ft[0];W>=10;W/=10,R++);j(rt,O+(rt.e=R+B*Kt-1)+1,G,X)}else rt.e=B,rt.r=+X;return rt}})();function F(m,p,v,S){var E,O,G,V,z;if(v==null?v=u:Ae(v,0,8),!m.c)return m.toString();if(E=m.c[0],G=m.e,p==null)z=Ai(m.c),z=S==1||S==2&&(G<=c||G>=f)?qo(z,G):hn(z,G,"0");else if(m=j(new w(m),p,v),O=m.e,z=Ai(m.c),V=z.length,S==1||S==2&&(p<=O||O<=c)){for(;V<p;z+="0",V++);z=qo(z,O)}else if(p-=G+(S===2&&O>G),z=hn(z,O,"0"),O+1>V){if(--p>0)for(z+=".";p--;z+="0");}else if(p+=O-V,p>0)for(O+1==V&&(z+=".");p--;z+="0");return m.s<0&&E?"-"+z:z}function k(m,p){for(var v,S,E=1,O=new w(m[0]);E<m.length;E++)S=new w(m[E]),(!S.s||(v=us(O,S))===p||v===0&&O.s===p)&&(O=S);return O}function P(m,p,v){for(var S=1,E=p.length;!p[--E];p.pop());for(E=p[0];E>=10;E/=10,S++);return(v=S+v*Kt-1)>_?m.c=m.e=null:v<d?m.c=[m.e=0]:(m.e=v,m.c=p),m}n=(function(){var m=/^(-?)0([xbo])(?=\w[\w.]*$)/i,p=/^([^.]+)\.$/,v=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,E=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(O,G,V,z){var B,R=V?G:G.replace(E,"");if(S.test(R))O.s=isNaN(R)?null:R<0?-1:1;else{if(!V&&(R=R.replace(m,function(X,Q,H){return B=(H=H.toLowerCase())=="x"?16:H=="b"?2:8,!z||z==B?Q:X}),z&&(B=z,R=R.replace(p,"$1").replace(v,"0.$1")),G!=R))return new w(R,B);if(w.DEBUG)throw Error(di+"Not a"+(z?" base "+z:"")+" number: "+G);O.s=null}O.c=O.e=null}})();function j(m,p,v,S){var E,O,G,V,z,B,R,X=m.c,Q=Yl;if(X){t:{for(E=1,V=X[0];V>=10;V/=10,E++);if(O=p-E,O<0)O+=Kt,G=p,z=X[B=0],R=Di(z/Q[E-G-1]%10);else if(B=$l((O+1)/Kt),B>=X.length)if(S){for(;X.length<=B;X.push(0));z=R=0,E=1,O%=Kt,G=O-Kt+1}else break t;else{for(z=V=X[B],E=1;V>=10;V/=10,E++);O%=Kt,G=O-Kt+E,R=G<0?0:Di(z/Q[E-G-1]%10)}if(S=S||p<0||X[B+1]!=null||(G<0?z:z%Q[E-G-1]),S=v<4?(R||S)&&(v==0||v==(m.s<0?3:2)):R>5||R==5&&(v==4||S||v==6&&(O>0?G>0?z/Q[E-G]:0:X[B-1])%10&1||v==(m.s<0?8:7)),p<1||!X[0])return X.length=0,S?(p-=m.e+1,X[0]=Q[(Kt-p%Kt)%Kt],m.e=-p||0):X[0]=m.e=0,m;if(O==0?(X.length=B,V=1,B--):(X.length=B+1,V=Q[Kt-O],X[B]=G>0?Di(z/Q[E-G]%Q[G])*V:0),S)for(;;)if(B==0){for(O=1,G=X[0];G>=10;G/=10,O++);for(G=X[0]+=V,V=1;G>=10;G/=10,V++);O!=V&&(m.e++,X[0]==Ri&&(X[0]=1));break}else{if(X[B]+=V,X[B]!=Ri)break;X[B--]=0,V=1}for(O=X.length;X[--O]===0;X.pop());}m.e>_?m.c=m.e=null:m.e<d&&(m.c=[m.e=0])}return m}function q(m){var p,v=m.e;return v===null?m.toString():(p=Ai(m.c),p=v<=c||v>=f?qo(p,v):hn(p,v,"0"),m.s<0?"-"+p:p)}return r.absoluteValue=r.abs=function(){var m=new w(this);return m.s<0&&(m.s=1),m},r.comparedTo=function(m,p){return us(this,new w(m,p))},r.decimalPlaces=r.dp=function(m,p){var v,S,E,O=this;if(m!=null)return Ae(m,0,je),p==null?p=u:Ae(p,0,8),j(new w(O),m+O.e+1,p);if(!(v=O.c))return null;if(S=((E=v.length-1)-Ti(this.e/Kt))*Kt,E=v[E])for(;E%10==0;E/=10,S--);return S<0&&(S=0),S},r.dividedBy=r.div=function(m,p){return t(this,new w(m,p),a,u)},r.dividedToIntegerBy=r.idiv=function(m,p){return t(this,new w(m,p),0,1)},r.exponentiatedBy=r.pow=function(m,p){var v,S,E,O,G,V,z,B,R,X=this;if(m=new w(m),m.c&&!m.isInteger())throw Error(di+"Exponent not an integer: "+q(m));if(p!=null&&(p=new w(p)),V=m.e>14,!X.c||!X.c[0]||X.c[0]==1&&!X.e&&X.c.length==1||!m.c||!m.c[0])return R=new w(Math.pow(+q(X),V?m.s*(2-Uo(m)):+q(m))),p?R.mod(p):R;if(z=m.s<0,p){if(p.c?!p.c[0]:!p.s)return new w(NaN);S=!z&&X.isInteger()&&p.isInteger(),S&&(X=X.mod(p))}else{if(m.e>9&&(X.e>0||X.e<-1||(X.e==0?X.c[0]>1||V&&X.c[1]>=24e7:X.c[0]<8e13||V&&X.c[0]<=9999975e7)))return O=X.s<0&&Uo(m)?-0:0,X.e>-1&&(O=1/O),new w(z?1/O:O);C&&(O=$l(C/Kt+2))}for(V?(v=new w(.5),z&&(m.s=1),B=Uo(m)):(E=Math.abs(+q(m)),B=E%2),R=new w(o);;){if(B){if(R=R.times(X),!R.c)break;O?R.c.length>O&&(R.c.length=O):S&&(R=R.mod(p))}if(E){if(E=Di(E/2),E===0)break;B=E%2}else if(m=m.times(v),j(m,m.e+1,1),m.e>14)B=Uo(m);else{if(E=+q(m),E===0)break;B=E%2}X=X.times(X),O?X.c&&X.c.length>O&&(X.c.length=O):S&&(X=X.mod(p))}return S?R:(z&&(R=o.div(R)),p?R.mod(p):O?j(R,C,u,G):R)},r.integerValue=function(m){var p=new w(this);return m==null?m=u:Ae(m,0,8),j(p,p.e+1,m)},r.isEqualTo=r.eq=function(m,p){return us(this,new w(m,p))===0},r.isFinite=function(){return!!this.c},r.isGreaterThan=r.gt=function(m,p){return us(this,new w(m,p))>0},r.isGreaterThanOrEqualTo=r.gte=function(m,p){return(p=us(this,new w(m,p)))===1||p===0},r.isInteger=function(){return!!this.c&&Ti(this.e/Kt)>this.c.length-2},r.isLessThan=r.lt=function(m,p){return us(this,new w(m,p))<0},r.isLessThanOrEqualTo=r.lte=function(m,p){return(p=us(this,new w(m,p)))===-1||p===0},r.isNaN=function(){return!this.s},r.isNegative=function(){return this.s<0},r.isPositive=function(){return this.s>0},r.isZero=function(){return!!this.c&&this.c[0]==0},r.minus=function(m,p){var v,S,E,O,G=this,V=G.s;if(m=new w(m,p),p=m.s,!V||!p)return new w(NaN);if(V!=p)return m.s=-p,G.plus(m);var z=G.e/Kt,B=m.e/Kt,R=G.c,X=m.c;if(!z||!B){if(!R||!X)return R?(m.s=-p,m):new w(X?G:NaN);if(!R[0]||!X[0])return X[0]?(m.s=-p,m):new w(R[0]?G:u==3?-0:0)}if(z=Ti(z),B=Ti(B),R=R.slice(),V=z-B){for((O=V<0)?(V=-V,E=R):(B=z,E=X),E.reverse(),p=V;p--;E.push(0));E.reverse()}else for(S=(O=(V=R.length)<(p=X.length))?V:p,V=p=0;p<S;p++)if(R[p]!=X[p]){O=R[p]<X[p];break}if(O&&(E=R,R=X,X=E,m.s=-m.s),p=(S=X.length)-(v=R.length),p>0)for(;p--;R[v++]=0);for(p=Ri-1;S>V;){if(R[--S]<X[S]){for(v=S;v&&!R[--v];R[v]=p);--R[v],R[S]+=Ri}R[S]-=X[S]}for(;R[0]==0;R.splice(0,1),--B);return R[0]?P(m,R,B):(m.s=u==3?-1:1,m.c=[m.e=0],m)},r.modulo=r.mod=function(m,p){var v,S,E=this;return m=new w(m,p),!E.c||!m.s||m.c&&!m.c[0]?new w(NaN):!m.c||E.c&&!E.c[0]?new w(E):(x==9?(S=m.s,m.s=1,v=t(E,m,0,3),m.s=S,v.s*=S):v=t(E,m,0,x),m=E.minus(v.times(m)),!m.c[0]&&x==1&&(m.s=E.s),m)},r.multipliedBy=r.times=function(m,p){var v,S,E,O,G,V,z,B,R,X,Q,H,nt,rt,ft,lt=this,ct=lt.c,Et=(m=new w(m,p)).c;if(!ct||!Et||!ct[0]||!Et[0])return!lt.s||!m.s||ct&&!ct[0]&&!Et||Et&&!Et[0]&&!ct?m.c=m.e=m.s=null:(m.s*=lt.s,!ct||!Et?m.c=m.e=null:(m.c=[0],m.e=0)),m;for(S=Ti(lt.e/Kt)+Ti(m.e/Kt),m.s*=lt.s,z=ct.length,X=Et.length,z<X&&(nt=ct,ct=Et,Et=nt,E=z,z=X,X=E),E=z+X,nt=[];E--;nt.push(0));for(rt=Ri,ft=Mn,E=X;--E>=0;){for(v=0,Q=Et[E]%ft,H=Et[E]/ft|0,G=z,O=E+G;O>E;)B=ct[--G]%ft,R=ct[G]/ft|0,V=H*B+R*Q,B=Q*B+V%ft*ft+nt[O]+v,v=(B/rt|0)+(V/ft|0)+H*R,nt[O--]=B%rt;nt[O]=v}return v?++S:nt.splice(0,1),P(m,nt,S)},r.negated=function(){var m=new w(this);return m.s=-m.s||null,m},r.plus=function(m,p){var v,S=this,E=S.s;if(m=new w(m,p),p=m.s,!E||!p)return new w(NaN);if(E!=p)return m.s=-p,S.minus(m);var O=S.e/Kt,G=m.e/Kt,V=S.c,z=m.c;if(!O||!G){if(!V||!z)return new w(E/0);if(!V[0]||!z[0])return z[0]?m:new w(V[0]?S:E*0)}if(O=Ti(O),G=Ti(G),V=V.slice(),E=O-G){for(E>0?(G=O,v=z):(E=-E,v=V),v.reverse();E--;v.push(0));v.reverse()}for(E=V.length,p=z.length,E-p<0&&(v=z,z=V,V=v,p=E),E=0;p;)E=(V[--p]=V[p]+z[p]+E)/Ri|0,V[p]=Ri===V[p]?0:V[p]%Ri;return E&&(V=[E].concat(V),++G),P(m,V,G)},r.precision=r.sd=function(m,p){var v,S,E,O=this;if(m!=null&&m!==!!m)return Ae(m,1,je),p==null?p=u:Ae(p,0,8),j(new w(O),m,p);if(!(v=O.c))return null;if(E=v.length-1,S=E*Kt+1,E=v[E]){for(;E%10==0;E/=10,S--);for(E=v[0];E>=10;E/=10,S++);}return m&&O.e+1>S&&(S=O.e+1),S},r.shiftedBy=function(m){return Ae(m,-Gl,Gl),this.times("1e"+m)},r.squareRoot=r.sqrt=function(){var m,p,v,S,E,O=this,G=O.c,V=O.s,z=O.e,B=a+4,R=new w("0.5");if(V!==1||!G||!G[0])return new w(!V||V<0&&(!G||G[0])?NaN:G?O:1/0);if(V=Math.sqrt(+q(O)),V==0||V==1/0?(p=Ai(G),(p.length+z)%2==0&&(p+="0"),V=Math.sqrt(+p),z=Ti((z+1)/2)-(z<0||z%2),V==1/0?p="5e"+z:(p=V.toExponential(),p=p.slice(0,p.indexOf("e")+1)+z),v=new w(p)):v=new w(V+""),v.c[0]){for(z=v.e,V=z+B,V<3&&(V=0);;)if(E=v,v=R.times(E.plus(t(O,E,B,1))),Ai(E.c).slice(0,V)===(p=Ai(v.c)).slice(0,V))if(v.e<z&&--V,p=p.slice(V-3,V+1),p=="9999"||!S&&p=="4999"){if(!S&&(j(E,E.e+a+2,0),E.times(E).eq(O))){v=E;break}B+=4,V+=4,S=1}else{(!+p||!+p.slice(1)&&p.charAt(0)=="5")&&(j(v,v.e+a+2,1),m=!v.times(v).eq(O));break}}return j(v,v.e+a+1,u,m)},r.toExponential=function(m,p){return m!=null&&(Ae(m,0,je),m++),F(this,m,p,1)},r.toFixed=function(m,p){return m!=null&&(Ae(m,0,je),m=m+this.e+1),F(this,m,p)},r.toFormat=function(m,p,v){var S,E=this;if(v==null)m!=null&&p&&typeof p=="object"?(v=p,p=null):m&&typeof m=="object"?(v=m,m=p=null):v=A;else if(typeof v!="object")throw Error(di+"Argument not an object: "+v);if(S=E.toFixed(m,p),E.c){var O,G=S.split("."),V=+v.groupSize,z=+v.secondaryGroupSize,B=v.groupSeparator||"",R=G[0],X=G[1],Q=E.s<0,H=Q?R.slice(1):R,nt=H.length;if(z&&(O=V,V=z,z=O,nt-=O),V>0&&nt>0){for(O=nt%V||V,R=H.substr(0,O);O<nt;O+=V)R+=B+H.substr(O,V);z>0&&(R+=B+H.slice(O)),Q&&(R="-"+R)}S=X?R+(v.decimalSeparator||"")+((z=+v.fractionGroupSize)?X.replace(new RegExp("\\d{"+z+"}\\B","g"),"$&"+(v.fractionGroupSeparator||"")):X):R}return(v.prefix||"")+S+(v.suffix||"")},r.toFraction=function(m){var p,v,S,E,O,G,V,z,B,R,X,Q,H=this,nt=H.c;if(m!=null&&(V=new w(m),!V.isInteger()&&(V.c||V.s!==1)||V.lt(o)))throw Error(di+"Argument "+(V.isInteger()?"out of range: ":"not an integer: ")+q(V));if(!nt)return new w(H);for(p=new w(o),B=v=new w(o),S=z=new w(o),Q=Ai(nt),O=p.e=Q.length-H.e-1,p.c[0]=Yl[(G=O%Kt)<0?Kt+G:G],m=!m||V.comparedTo(p)>0?O>0?p:B:V,G=_,_=1/0,V=new w(Q),z.c[0]=0;R=t(V,p,0,1),E=v.plus(R.times(S)),E.comparedTo(m)!=1;)v=S,S=E,B=z.plus(R.times(E=B)),z=E,p=V.minus(R.times(E=p)),V=E;return E=t(m.minus(v),S,0,1),z=z.plus(E.times(B)),v=v.plus(E.times(S)),z.s=B.s=H.s,O=O*2,X=t(B,S,O,u).minus(H).abs().comparedTo(t(z,v,O,u).minus(H).abs())<1?[B,S]:[z,v],_=G,X},r.toNumber=function(){return+q(this)},r.toPrecision=function(m,p){return m!=null&&Ae(m,1,je),F(this,m,p,2)},r.toString=function(m){var p,v=this,S=v.s,E=v.e;return E===null?S?(p="Infinity",S<0&&(p="-"+p)):p="NaN":(m==null?p=E<=c||E>=f?qo(Ai(v.c),E):hn(Ai(v.c),E,"0"):m===10&&Z?(v=j(new w(v),a+E+1,u),p=hn(Ai(v.c),v.e,"0")):(Ae(m,2,T.length,"Base"),p=i(hn(Ai(v.c),E,"0"),10,m,S,!0)),S<0&&v.c[0]&&(p="-"+p)),p},r.valueOf=r.toJSON=function(){return q(this)},r._isBigNumber=!0,r[Symbol.toStringTag]="BigNumber",r[Symbol.for("nodejs.util.inspect.custom")]=r.valueOf,e!=null&&w.set(e),w}function Ti(e){var t=e|0;return e>0||e===t?t:t-1}function Ai(e){for(var t,i,n=1,r=e.length,o=e[0]+"";n<r;){for(t=e[n++]+"",i=Kt-t.length;i--;t="0"+t);o+=t}for(r=o.length;o.charCodeAt(--r)===48;);return o.slice(0,r+1||1)}function us(e,t){var i,n,r=e.c,o=t.c,a=e.s,u=t.s,c=e.e,f=t.e;if(!a||!u)return null;if(i=r&&!r[0],n=o&&!o[0],i||n)return i?n?0:-u:a;if(a!=u)return a;if(i=a<0,n=c==f,!r||!o)return n?0:!r^i?1:-1;if(!n)return c>f^i?1:-1;for(u=(c=r.length)<(f=o.length)?c:f,a=0;a<u;a++)if(r[a]!=o[a])return r[a]>o[a]^i?1:-1;return c==f?0:c>f^i?1:-1}function Ae(e,t,i,n){if(e<t||e>i||e!==Di(e))throw Error(di+(n||"Argument")+(typeof e=="number"?e<t||e>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Uo(e){var t=e.c.length-1;return Ti(e.e/Kt)==t&&e.c[t]%2!=0}function qo(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function hn(e,t,i){var n,r;if(t<0){for(r=i+".";++t;r+=i);e=r+e}else if(n=e.length,++t>n){for(r=i,t-=n;--t;r+=i);e+=r}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var en=Ip(),Gv=class{key;left=null;right=null;constructor(e){this.key=e}},Ar=class extends Gv{constructor(e){super(e)}},Yv=class{size=0;modificationCount=0;splayCount=0;splay(e){const t=this.root;if(t==null)return this.compare(e,e),-1;let i=null,n=null,r=null,o=null,a=t;const u=this.compare;let c;for(;;)if(c=u(a.key,e),c>0){let f=a.left;if(f==null||(c=u(f.key,e),c>0&&(a.left=f.right,f.right=a,a=f,f=a.left,f==null)))break;i==null?n=a:i.left=a,i=a,a=f}else if(c<0){let f=a.right;if(f==null||(c=u(f.key,e),c<0&&(a.right=f.left,f.left=a,a=f,f=a.right,f==null)))break;r==null?o=a:r.right=a,r=a,a=f}else break;return r!=null&&(r.right=a.left,a.left=o),i!=null&&(i.left=a.right,a.right=n),this.root!==a&&(this.root=a,this.splayCount++),c}splayMin(e){let t=e,i=t.left;for(;i!=null;){const n=i;t.left=n.right,n.right=t,t=n,i=t.left}return t}splayMax(e){let t=e,i=t.right;for(;i!=null;){const n=i;t.right=n.left,n.left=t,t=n,i=t.right}return t}_delete(e){if(this.root==null||this.splay(e)!=0)return null;let i=this.root;const n=i,r=i.left;if(this.size--,r==null)this.root=i.right;else{const o=i.right;i=this.splayMax(r),i.right=o,this.root=i}return this.modificationCount++,n}addNewRoot(e,t){this.size++,this.modificationCount++;const i=this.root;if(i==null){this.root=e;return}t<0?(e.left=i,e.right=i.right,i.right=null):(e.right=i,e.left=i.left,i.left=null),this.root=e}_first(){const e=this.root;return e==null?null:(this.root=this.splayMin(e),this.root)}_last(){const e=this.root;return e==null?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&this.splay(e)==0}defaultCompare(){return(e,t)=>e<t?-1:e>t?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},Sa=class Fr extends Yv{root=null;compare;validKey;constructor(t,i){super(),this.compare=t??this.defaultCompare(),this.validKey=i??(n=>n!=null&&n!=null)}delete(t){return this.validKey(t)?this._delete(t)!=null:!1}deleteAll(t){for(const i of t)this.delete(i)}forEach(t){const i=this[Symbol.iterator]();let n;for(;n=i.next(),!n.done;)t(n.value,n.value,this)}add(t){const i=this.splay(t);return i!=0&&this.addNewRoot(new Ar(t),i),this}addAndReturn(t){const i=this.splay(t);return i!=0&&this.addNewRoot(new Ar(t),i),this.root.key}addAll(t){for(const i of t)this.add(i)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)<0)return this.root.key;let n=this.root.left;if(n==null)return null;let r=n.right;for(;r!=null;)n=r,r=n.right;return n.key}firstAfter(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)>0)return this.root.key;let n=this.root.right;if(n==null)return null;let r=n.left;for(;r!=null;)n=r,r=n.left;return n.key}retainAll(t){const i=new Fr(this.compare,this.validKey),n=this.modificationCount;for(const r of t){if(n!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(r)&&this.splay(r)==0&&i.add(this.root.key)}i.size!=this.size&&(this.root=i.root,this.size=i.size,this.modificationCount++)}lookup(t){return!this.validKey(t)||this.splay(t)!=0?null:this.root.key}intersection(t){const i=new Fr(this.compare,this.validKey);for(const n of this)t.has(n)&&i.add(n);return i}difference(t){const i=new Fr(this.compare,this.validKey);for(const n of this)t.has(n)||i.add(n);return i}union(t){const i=this.clone();return i.addAll(t),i}clone(){const t=new Fr(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(t){if(t==null)return null;function i(r,o){let a,u;do{if(a=r.left,u=r.right,a!=null){const c=new Ar(a.key);o.left=c,i(a,c)}if(u!=null){const c=new Ar(u.key);o.right=c,r=u,o=c}}while(u!=null)}const n=new Ar(t.key);return i(t,n),n}toSet(){return this.clone()}entries(){return new Kv(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Xv(this.wrap())}[Symbol.toStringTag]="[object Set]"},Rp=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;e!=null;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let i=this.tree.getRoot();for(;i!=null;)this.path.push(i),i=i.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],t=e.right;if(t!=null){for(;t!=null;)this.path.push(t),t=t.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},Xv=class extends Rp{getValue(e){return e.key}},Kv=class extends Rp{getValue(e){return[e.key,e.key]}},Bp=e=>()=>e,wu=e=>{const t=e?(i,n)=>n.minus(i).abs().isLessThanOrEqualTo(e):Bp(!1);return(i,n)=>t(i,n)?0:i.comparedTo(n)};function Jv(e){const t=e?(i,n,r,o,a)=>i.exponentiatedBy(2).isLessThanOrEqualTo(o.minus(n).exponentiatedBy(2).plus(a.minus(r).exponentiatedBy(2)).times(e)):Bp(!1);return(i,n,r)=>{const o=i.x,a=i.y,u=r.x,c=r.y,f=a.minus(c).times(n.x.minus(u)).minus(o.minus(u).times(n.y.minus(c)));return t(f,o,a,u,c)?0:f.comparedTo(0)}}var Qv=e=>e,ty=e=>{if(e){const t=new Sa(wu(e)),i=new Sa(wu(e)),n=(o,a)=>a.addAndReturn(o),r=o=>({x:n(o.x,t),y:n(o.y,i)});return r({x:new en(0),y:new en(0)}),r}return Qv},Eu=e=>({set:t=>{Sn=Eu(t)},reset:()=>Eu(e),compare:wu(e),snap:ty(e),orient:Jv(e)}),Sn=Eu(),Cr=(e,t)=>e.ll.x.isLessThanOrEqualTo(t.x)&&t.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(t.y)&&t.y.isLessThanOrEqualTo(e.ur.y),Su=(e,t)=>{if(t.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(t.ll.x)||t.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(t.ll.y))return null;const i=e.ll.x.isLessThan(t.ll.x)?t.ll.x:e.ll.x,n=e.ur.x.isLessThan(t.ur.x)?e.ur.x:t.ur.x,r=e.ll.y.isLessThan(t.ll.y)?t.ll.y:e.ll.y,o=e.ur.y.isLessThan(t.ur.y)?e.ur.y:t.ur.y;return{ll:{x:i,y:r},ur:{x:n,y:o}}},aa=(e,t)=>e.x.times(t.y).minus(e.y.times(t.x)),Np=(e,t)=>e.x.times(t.x).plus(e.y.times(t.y)),Aa=e=>Np(e,e).sqrt(),ey=(e,t,i)=>{const n={x:t.x.minus(e.x),y:t.y.minus(e.y)},r={x:i.x.minus(e.x),y:i.y.minus(e.y)};return aa(r,n).div(Aa(r)).div(Aa(n))},iy=(e,t,i)=>{const n={x:t.x.minus(e.x),y:t.y.minus(e.y)},r={x:i.x.minus(e.x),y:i.y.minus(e.y)};return Np(r,n).div(Aa(r)).div(Aa(n))},Wh=(e,t,i)=>t.y.isZero()?null:{x:e.x.plus(t.x.div(t.y).times(i.minus(e.y))),y:i},Zh=(e,t,i)=>t.x.isZero()?null:{x:i,y:e.y.plus(t.y.div(t.x).times(i.minus(e.x)))},ny=(e,t,i,n)=>{if(t.x.isZero())return Zh(i,n,e.x);if(n.x.isZero())return Zh(e,t,i.x);if(t.y.isZero())return Wh(i,n,e.y);if(n.y.isZero())return Wh(e,t,i.y);const r=aa(t,n);if(r.isZero())return null;const o={x:i.x.minus(e.x),y:i.y.minus(e.y)},a=aa(o,t).div(r),u=aa(o,n).div(r),c=e.x.plus(u.times(t.x)),f=i.x.plus(a.times(n.x)),d=e.y.plus(u.times(t.y)),_=i.y.plus(a.times(n.y)),b=c.plus(f).div(2),x=d.plus(_).div(2);return{x:b,y:x}},Qi=class Fp{point;isLeft;segment;otherSE;consumedBy;static compare(t,i){const n=Fp.comparePoints(t.point,i.point);return n!==0?n:(t.point!==i.point&&t.link(i),t.isLeft!==i.isLeft?t.isLeft?1:-1:Da.compare(t.segment,i.segment))}static comparePoints(t,i){return t.x.isLessThan(i.x)?-1:t.x.isGreaterThan(i.x)?1:t.y.isLessThan(i.y)?-1:t.y.isGreaterThan(i.y)?1:0}constructor(t,i){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=i}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const i=t.point.events;for(let n=0,r=i.length;n<r;n++){const o=i[n];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let i=0;i<t;i++){const n=this.point.events[i];if(n.segment.consumedBy===void 0)for(let r=i+1;r<t;r++){const o=this.point.events[r];o.consumedBy===void 0&&n.otherSE.point.events===o.otherSE.point.events&&n.segment.consume(o.segment)}}}getAvailableLinkedEvents(){const t=[];for(let i=0,n=this.point.events.length;i<n;i++){const r=this.point.events[i];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}getLeftmostComparator(t){const i=new Map,n=r=>{const o=r.otherSE;i.set(r,{sine:ey(this.point,t.point,o.point),cosine:iy(this.point,t.point,o.point)})};return(r,o)=>{i.has(r)||n(r),i.has(o)||n(o);const{sine:a,cosine:u}=i.get(r),{sine:c,cosine:f}=i.get(o);return a.isGreaterThanOrEqualTo(0)&&c.isGreaterThanOrEqualTo(0)?u.isLessThan(f)?1:u.isGreaterThan(f)?-1:0:a.isLessThan(0)&&c.isLessThan(0)?u.isLessThan(f)?-1:u.isGreaterThan(f)?1:0:c.isLessThan(a)?-1:c.isGreaterThan(a)?1:0}}},sy=class Au{events;poly;_isExteriorRing;_enclosingRing;static factory(t){const i=[];for(let n=0,r=t.length;n<r;n++){const o=t[n];if(!o.isInResult()||o.ringOut)continue;let a=null,u=o.leftSE,c=o.rightSE;const f=[u],d=u.point,_=[];for(;a=u,u=c,f.push(u),u.point!==d;)for(;;){const b=u.getAvailableLinkedEvents();if(b.length===0){const A=f[0].point,T=f[f.length-1].point;throw new Error(`Unable to complete output ring starting at [${A.x}, ${A.y}]. Last matching segment found ends at [${T.x}, ${T.y}].`)}if(b.length===1){c=b[0].otherSE;break}let x=null;for(let A=0,T=_.length;A<T;A++)if(_[A].point===u.point){x=A;break}if(x!==null){const A=_.splice(x)[0],T=f.splice(A.index);T.unshift(T[0].otherSE),i.push(new Au(T.reverse()));continue}_.push({index:f.length,point:u.point});const C=u.getLeftmostComparator(a);c=b.sort(C)[0].otherSE;break}i.push(new Au(f))}return i}constructor(t){this.events=t;for(let i=0,n=t.length;i<n;i++)t[i].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const i=[t];for(let f=1,d=this.events.length-1;f<d;f++){const _=this.events[f].point,b=this.events[f+1].point;Sn.orient(_,t,b)!==0&&(i.push(_),t=_)}if(i.length===1)return null;const n=i[0],r=i[1];Sn.orient(n,t,r)===0&&i.shift(),i.push(i[0]);const o=this.isExteriorRing()?1:-1,a=this.isExteriorRing()?0:i.length-1,u=this.isExteriorRing()?i.length:-1,c=[];for(let f=a;f!=u;f+=o)c.push([i[f].x.toNumber(),i[f].y.toNumber()]);return c}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let r=1,o=this.events.length;r<o;r++){const a=this.events[r];Qi.compare(t,a)>0&&(t=a)}let i=t.segment.prevInResult(),n=i?i.prevInResult():null;for(;;){if(!i)return null;if(!n)return i.ringOut;if(n.ringOut!==i.ringOut)return n.ringOut?.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut?.enclosingRing();i=n.prevInResult(),n=i?i.prevInResult():null}}},$h=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=this.exteriorRing.getGeom();if(e===null)return null;const t=[e];for(let i=0,n=this.interiorRings.length;i<n;i++){const r=this.interiorRings[i].getGeom();r!==null&&t.push(r)}return t}},ry=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,i=this.polys.length;t<i;t++){const n=this.polys[t].getGeom();n!==null&&e.push(n)}return e}_composePolys(e){const t=[];for(let i=0,n=e.length;i<n;i++){const r=e[i];if(!r.poly)if(r.isExteriorRing())t.push(new $h(r));else{const o=r.enclosingRing();o?.poly||t.push(new $h(o)),o?.poly?.addInterior(r)}}return t}},oy=class{queue;tree;segments;constructor(e,t=Da.compare){this.queue=e,this.tree=new Sa(t),this.segments=[]}process(e){const t=e.segment,i=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(t),i;e.isLeft&&this.tree.add(t);let n=t,r=t;do n=this.tree.lastBefore(n);while(n!=null&&n.consumedBy!=null);do r=this.tree.firstAfter(r);while(r!=null&&r.consumedBy!=null);if(e.isLeft){let o=null;if(n){const u=n.getIntersection(t);if(u!==null&&(t.isAnEndpoint(u)||(o=u),!n.isAnEndpoint(u))){const c=this._splitSafely(n,u);for(let f=0,d=c.length;f<d;f++)i.push(c[f])}}let a=null;if(r){const u=r.getIntersection(t);if(u!==null&&(t.isAnEndpoint(u)||(a=u),!r.isAnEndpoint(u))){const c=this._splitSafely(r,u);for(let f=0,d=c.length;f<d;f++)i.push(c[f])}}if(o!==null||a!==null){let u=null;o===null?u=a:a===null?u=o:u=Qi.comparePoints(o,a)<=0?o:a,this.queue.delete(t.rightSE),i.push(t.rightSE);const c=t.split(u);for(let f=0,d=c.length;f<d;f++)i.push(c[f])}i.length>0?(this.tree.delete(t),i.push(e)):(this.segments.push(t),t.prev=n)}else{if(n&&r){const o=n.getIntersection(r);if(o!==null){if(!n.isAnEndpoint(o)){const a=this._splitSafely(n,o);for(let u=0,c=a.length;u<c;u++)i.push(a[u])}if(!r.isAnEndpoint(o)){const a=this._splitSafely(r,o);for(let u=0,c=a.length;u<c;u++)i.push(a[u])}}}this.tree.delete(t)}return i}_splitSafely(e,t){this.tree.delete(e);const i=e.rightSE;this.queue.delete(i);const n=e.split(t);return n.push(i),e.consumedBy===void 0&&this.tree.add(e),n}},ay=class{type;numMultiPolys;run(e,t,i){zr.type=e;const n=[new Yh(t,!0)];for(let f=0,d=i.length;f<d;f++)n.push(new Yh(i[f],!1));if(zr.numMultiPolys=n.length,zr.type==="difference"){const f=n[0];let d=1;for(;d<n.length;)Su(n[d].bbox,f.bbox)!==null?d++:n.splice(d,1)}if(zr.type==="intersection")for(let f=0,d=n.length;f<d;f++){const _=n[f];for(let b=f+1,x=n.length;b<x;b++)if(Su(_.bbox,n[b].bbox)===null)return[]}const r=new Sa(Qi.compare);for(let f=0,d=n.length;f<d;f++){const _=n[f].getSweepEvents();for(let b=0,x=_.length;b<x;b++)r.add(_[b])}const o=new oy(r);let a=null;for(r.size!=0&&(a=r.first(),r.delete(a));a;){const f=o.process(a);for(let d=0,_=f.length;d<_;d++){const b=f[d];b.consumedBy===void 0&&r.add(b)}r.size!=0?(a=r.first(),r.delete(a)):a=null}Sn.reset();const u=sy.factory(o.segments);return new ry(u).getGeom()}},zr=new ay,Ca=zr,ly=0,Da=class la{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(t,i){const n=t.leftSE.point.x,r=i.leftSE.point.x,o=t.rightSE.point.x,a=i.rightSE.point.x;if(a.isLessThan(n))return 1;if(o.isLessThan(r))return-1;const u=t.leftSE.point.y,c=i.leftSE.point.y,f=t.rightSE.point.y,d=i.rightSE.point.y;if(n.isLessThan(r)){if(c.isLessThan(u)&&c.isLessThan(f))return 1;if(c.isGreaterThan(u)&&c.isGreaterThan(f))return-1;const _=t.comparePoint(i.leftSE.point);if(_<0)return 1;if(_>0)return-1;const b=i.comparePoint(t.rightSE.point);return b!==0?b:-1}if(n.isGreaterThan(r)){if(u.isLessThan(c)&&u.isLessThan(d))return-1;if(u.isGreaterThan(c)&&u.isGreaterThan(d))return 1;const _=i.comparePoint(t.leftSE.point);if(_!==0)return _;const b=t.comparePoint(i.rightSE.point);return b<0?1:b>0?-1:1}if(u.isLessThan(c))return-1;if(u.isGreaterThan(c))return 1;if(o.isLessThan(a)){const _=i.comparePoint(t.rightSE.point);if(_!==0)return _}if(o.isGreaterThan(a)){const _=t.comparePoint(i.rightSE.point);if(_<0)return 1;if(_>0)return-1}if(!o.eq(a)){const _=f.minus(u),b=o.minus(n),x=d.minus(c),C=a.minus(r);if(_.isGreaterThan(b)&&x.isLessThan(C))return 1;if(_.isLessThan(b)&&x.isGreaterThan(C))return-1}return o.isGreaterThan(a)?1:o.isLessThan(a)||f.isLessThan(d)?-1:f.isGreaterThan(d)?1:t.id<i.id?-1:t.id>i.id?1:0}constructor(t,i,n,r){this.id=++ly,this.leftSE=t,t.segment=this,t.otherSE=i,this.rightSE=i,i.segment=this,i.otherSE=t,this.rings=n,this.windings=r}static fromRing(t,i,n){let r,o,a;const u=Qi.comparePoints(t,i);if(u<0)r=t,o=i,a=1;else if(u>0)r=i,o=t,a=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const c=new Qi(r,!0),f=new Qi(o,!1);return new la(c,f,[n],[a])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,i=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t.isLessThan(i)?t:i},ur:{x:this.rightSE.point.x,y:t.isGreaterThan(i)?t:i}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(t){return t.x.eq(this.leftSE.point.x)&&t.y.eq(this.leftSE.point.y)||t.x.eq(this.rightSE.point.x)&&t.y.eq(this.rightSE.point.y)}comparePoint(t){return Sn.orient(this.leftSE.point,t,this.rightSE.point)}getIntersection(t){const i=this.bbox(),n=t.bbox(),r=Su(i,n);if(r===null)return null;const o=this.leftSE.point,a=this.rightSE.point,u=t.leftSE.point,c=t.rightSE.point,f=Cr(i,u)&&this.comparePoint(u)===0,d=Cr(n,o)&&t.comparePoint(o)===0,_=Cr(i,c)&&this.comparePoint(c)===0,b=Cr(n,a)&&t.comparePoint(a)===0;if(d&&f)return b&&!_?a:!b&&_?c:null;if(d)return _&&o.x.eq(c.x)&&o.y.eq(c.y)?null:o;if(f)return b&&a.x.eq(u.x)&&a.y.eq(u.y)?null:u;if(b&&_)return null;if(b)return a;if(_)return c;const x=ny(o,this.vector(),u,t.vector());return x===null||!Cr(r,x)?null:Sn.snap(x)}split(t){const i=[],n=t.events!==void 0,r=new Qi(t,!0),o=new Qi(t,!1),a=this.rightSE;this.replaceRightSE(o),i.push(o),i.push(r);const u=new la(r,a,this.rings.slice(),this.windings.slice());return Qi.comparePoints(u.leftSE.point,u.rightSE.point)>0&&u.swapEvents(),Qi.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(r.checkForConsuming(),o.checkForConsuming()),i}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let i=0,n=this.windings.length;i<n;i++)this.windings[i]*=-1}consume(t){let i=this,n=t;for(;i.consumedBy;)i=i.consumedBy;for(;n.consumedBy;)n=n.consumedBy;const r=la.compare(i,n);if(r!==0){if(r>0){const o=i;i=n,n=o}if(i.prev===n){const o=i;i=n,n=o}for(let o=0,a=n.rings.length;o<a;o++){const u=n.rings[o],c=n.windings[o],f=i.rings.indexOf(u);f===-1?(i.rings.push(u),i.windings.push(c)):i.windings[f]+=c}n.rings=null,n.windings=null,n.consumedBy=i,n.leftSE.consumedBy=i.leftSE,n.rightSE.consumedBy=i.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const i=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys;for(let u=0,c=this.rings.length;u<c;u++){const f=this.rings[u],d=this.windings[u],_=i.indexOf(f);_===-1?(i.push(f),n.push(d)):n[_]+=d}const o=[],a=[];for(let u=0,c=i.length;u<c;u++){if(n[u]===0)continue;const f=i[u],d=f.poly;if(a.indexOf(d)===-1)if(f.isExterior)o.push(d);else{a.indexOf(d)===-1&&a.push(d);const _=o.indexOf(f.poly);_!==-1&&o.splice(_,1)}}for(let u=0,c=o.length;u<c;u++){const f=o[u].multiPoly;r.indexOf(f)===-1&&r.push(f)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,i=this.afterState().multiPolys;switch(Ca.type){case"union":{const n=t.length===0,r=i.length===0;this._isInResult=n!==r;break}case"intersection":{let n,r;t.length<i.length?(n=t.length,r=i.length):(n=i.length,r=t.length),this._isInResult=r===Ca.numMultiPolys&&n<r;break}case"xor":{const n=Math.abs(t.length-i.length);this._isInResult=n%2===1;break}case"difference":{const n=r=>r.length===1&&r[0].isSubject;this._isInResult=n(t)!==n(i);break}}return this._isInResult}},Gh=class{poly;isExterior;segments;bbox;constructor(e,t,i){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=i,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const n=Sn.snap({x:new en(e[0][0]),y:new en(e[0][1])});this.bbox={ll:{x:n.x,y:n.y},ur:{x:n.x,y:n.y}};let r=n;for(let o=1,a=e.length;o<a;o++){if(typeof e[o][0]!="number"||typeof e[o][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const u=Sn.snap({x:new en(e[o][0]),y:new en(e[o][1])});u.x.eq(r.x)&&u.y.eq(r.y)||(this.segments.push(Da.fromRing(r,u,this)),u.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=u.x),u.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=u.y),u.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=u.x),u.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=u.y),r=u)}(!n.x.eq(r.x)||!n.y.eq(r.y))&&this.segments.push(Da.fromRing(r,n,this))}getSweepEvents(){const e=[];for(let t=0,i=this.segments.length;t<i;t++){const n=this.segments[t];e.push(n.leftSE),e.push(n.rightSE)}return e}},uy=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Gh(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,n=e.length;i<n;i++){const r=new Gh(e[i],this,!1);r.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=r.bbox.ur.y),this.interiorRings.push(r)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,i=this.interiorRings.length;t<i;t++){const n=this.interiorRings[t].getSweepEvents();for(let r=0,o=n.length;r<o;r++)e.push(n[r])}return e}},Yh=class{isSubject;polys;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:new en(Number.POSITIVE_INFINITY),y:new en(Number.POSITIVE_INFINITY)},ur:{x:new en(Number.NEGATIVE_INFINITY),y:new en(Number.NEGATIVE_INFINITY)}};for(let i=0,n=e.length;i<n;i++){const r=new uy(e[i],this);r.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=r.bbox.ll.x),r.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=r.bbox.ll.y),r.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=r.bbox.ur.x),r.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=r.bbox.ur.y),this.polys.push(r)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,i=this.polys.length;t<i;t++){const n=this.polys[t].getSweepEvents();for(let r=0,o=n.length;r<o;r++)e.push(n[r])}return e}},cy=(e,...t)=>Ca.run("union",e,t),hy=(e,...t)=>Ca.run("intersection",e,t);Sn.set;function fy(e,t={}){const i=[];if(kp(e,r=>{i.push(r.coordinates)}),i.length<2)throw new Error("Must specify at least 2 geometries");const n=hy(i[0],...i.slice(1));return n.length===0?null:n.length===1?tl(n[0],t.properties):Lp(n,t.properties)}function Xh(e,t={}){const i=[];if(kp(e,r=>{i.push(r.coordinates)}),i.length<2)throw new Error("Must have at least 2 geometries");const n=cy(i[0],...i.slice(1));return n.length===0?null:n.length===1?tl(n[0],t.properties):Lp(n,t.properties)}function Kh(e){return function(){return e}}function dy(e){return e[0]}function py(e){return e[1]}function Ta(){this._=null}function el(e){e.U=e.C=e.L=e.R=e.P=e.N=null}Ta.prototype={constructor:Ta,insert:function(e,t){var i,n,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;i=e}else this._?(e=Jh(this._),t.P=null,t.N=e,e.P=e.L=t,i=e):(t.P=t.N=null,this._=t,i=null);for(t.L=t.R=null,t.U=i,t.C=!0,e=t;i&&i.C;)n=i.U,i===n.L?(r=n.R,r&&r.C?(i.C=r.C=!1,n.C=!0,e=n):(e===i.R&&(Dr(this,i),e=i,i=e.U),i.C=!1,n.C=!0,Tr(this,n))):(r=n.L,r&&r.C?(i.C=r.C=!1,n.C=!0,e=n):(e===i.L&&(Tr(this,i),e=i,i=e.U),i.C=!1,n.C=!0,Dr(this,n))),i=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,i,n=e.L,r=e.R,o,a;if(n?r?o=Jh(r):o=n:o=r,t?t.L===e?t.L=o:t.R=o:this._=o,n&&r?(a=o.C,o.C=e.C,o.L=n,n.U=o,o!==r?(t=o.U,o.U=e.U,e=o.R,t.L=e,o.R=r,r.U=o):(o.U=t,t=o,e=o.R)):(a=e.C,e=o),e&&(e.U=t),!a){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(i=t.R,i.C&&(i.C=!1,t.C=!0,Dr(this,t),i=t.R),i.L&&i.L.C||i.R&&i.R.C){(!i.R||!i.R.C)&&(i.L.C=!1,i.C=!0,Tr(this,i),i=t.R),i.C=t.C,t.C=i.R.C=!1,Dr(this,t),e=this._;break}}else if(i=t.L,i.C&&(i.C=!1,t.C=!0,Tr(this,t),i=t.L),i.L&&i.L.C||i.R&&i.R.C){(!i.L||!i.L.C)&&(i.R.C=!1,i.C=!0,Dr(this,i),i=t.L),i.C=t.C,t.C=i.L.C=!1,Tr(this,t),e=this._;break}i.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function Dr(e,t){var i=t,n=t.R,r=i.U;r?r.L===i?r.L=n:r.R=n:e._=n,n.U=r,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function Tr(e,t){var i=t,n=t.L,r=i.U;r?r.L===i?r.L=n:r.R=n:e._=n,n.U=r,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function Jh(e){for(;e.L;)e=e.L;return e}function Hr(e,t,i,n){var r=[null,null],o=Je.push(r)-1;return r.left=e,r.right=t,i&&Pa(r,e,t,i),n&&Pa(r,t,e,n),vi[e.index].halfedges.push(o),vi[t.index].halfedges.push(o),r}function Pr(e,t,i){var n=[t,i];return n.left=e,n}function Pa(e,t,i,n){!e[0]&&!e[1]?(e[0]=n,e.left=t,e.right=i):e.left===i?e[1]=n:e[0]=n}function gy(e,t,i,n,r){var o=e[0],a=e[1],u=o[0],c=o[1],f=a[0],d=a[1],_=0,b=1,x=f-u,C=d-c,A;if(A=t-u,!(!x&&A>0)){if(A/=x,x<0){if(A<_)return;A<b&&(b=A)}else if(x>0){if(A>b)return;A>_&&(_=A)}if(A=n-u,!(!x&&A<0)){if(A/=x,x<0){if(A>b)return;A>_&&(_=A)}else if(x>0){if(A<_)return;A<b&&(b=A)}if(A=i-c,!(!C&&A>0)){if(A/=C,C<0){if(A<_)return;A<b&&(b=A)}else if(C>0){if(A>b)return;A>_&&(_=A)}if(A=r-c,!(!C&&A<0)){if(A/=C,C<0){if(A>b)return;A>_&&(_=A)}else if(C>0){if(A<_)return;A<b&&(b=A)}return!(_>0)&&!(b<1)||(_>0&&(e[0]=[u+_*x,c+_*C]),b<1&&(e[1]=[u+b*x,c+b*C])),!0}}}}}function my(e,t,i,n,r){var o=e[1];if(o)return!0;var a=e[0],u=e.left,c=e.right,f=u[0],d=u[1],_=c[0],b=c[1],x=(f+_)/2,C=(d+b)/2,A,T;if(b===d){if(x<t||x>=n)return;if(f>_){if(!a)a=[x,i];else if(a[1]>=r)return;o=[x,r]}else{if(!a)a=[x,r];else if(a[1]<i)return;o=[x,i]}}else if(A=(f-_)/(b-d),T=C-A*x,A<-1||A>1)if(f>_){if(!a)a=[(i-T)/A,i];else if(a[1]>=r)return;o=[(r-T)/A,r]}else{if(!a)a=[(r-T)/A,r];else if(a[1]<i)return;o=[(i-T)/A,i]}else if(d<b){if(!a)a=[t,A*t+T];else if(a[0]>=n)return;o=[n,A*n+T]}else{if(!a)a=[n,A*n+T];else if(a[0]<t)return;o=[t,A*t+T]}return e[0]=a,e[1]=o,!0}function _y(e,t,i,n){for(var r=Je.length,o;r--;)(!my(o=Je[r],e,t,i,n)||!gy(o,e,t,i,n)||!(Math.abs(o[0][0]-o[1][0])>pe||Math.abs(o[0][1]-o[1][1])>pe))&&delete Je[r]}function vy(e){return vi[e.index]={site:e,halfedges:[]}}function yy(e,t){var i=e.site,n=t.left,r=t.right;return i===r&&(r=n,n=i),r?Math.atan2(r[1]-n[1],r[0]-n[0]):(i===n?(n=t[1],r=t[0]):(n=t[0],r=t[1]),Math.atan2(n[0]-r[0],r[1]-n[1]))}function zp(e,t){return t[+(t.left!==e.site)]}function by(e,t){return t[+(t.left===e.site)]}function xy(){for(var e=0,t=vi.length,i,n,r,o;e<t;++e)if((i=vi[e])&&(o=(n=i.halfedges).length)){var a=new Array(o),u=new Array(o);for(r=0;r<o;++r)a[r]=r,u[r]=yy(i,Je[n[r]]);for(a.sort(function(c,f){return u[f]-u[c]}),r=0;r<o;++r)u[r]=n[a[r]];for(r=0;r<o;++r)n[r]=u[r]}}function wy(e,t,i,n){var r=vi.length,o,a,u,c,f,d,_,b,x,C,A,T,Z=!0;for(o=0;o<r;++o)if(a=vi[o]){for(u=a.site,f=a.halfedges,c=f.length;c--;)Je[f[c]]||f.splice(c,1);for(c=0,d=f.length;c<d;)C=by(a,Je[f[c]]),A=C[0],T=C[1],_=zp(a,Je[f[++c%d]]),b=_[0],x=_[1],(Math.abs(A-b)>pe||Math.abs(T-x)>pe)&&(f.splice(c,0,Je.push(Pr(u,C,Math.abs(A-e)<pe&&n-T>pe?[e,Math.abs(b-e)<pe?x:n]:Math.abs(T-n)<pe&&i-A>pe?[Math.abs(x-n)<pe?b:i,n]:Math.abs(A-i)<pe&&T-t>pe?[i,Math.abs(b-i)<pe?x:t]:Math.abs(T-t)<pe&&A-e>pe?[Math.abs(x-t)<pe?b:e,t]:null))-1),++d);d&&(Z=!1)}if(Z){var w,F,k,P=1/0;for(o=0,Z=null;o<r;++o)(a=vi[o])&&(u=a.site,w=u[0]-e,F=u[1]-t,k=w*w+F*F,k<P&&(P=k,Z=a));if(Z){var j=[e,t],q=[e,n],m=[i,n],p=[i,t];Z.halfedges.push(Je.push(Pr(u=Z.site,j,q))-1,Je.push(Pr(u,q,m))-1,Je.push(Pr(u,m,p))-1,Je.push(Pr(u,p,j))-1)}}for(o=0;o<r;++o)(a=vi[o])&&(a.halfedges.length||delete vi[o])}var Hp=[],Xu;function Ey(){el(this),this.x=this.y=this.arc=this.site=this.cy=null}function qs(e){var t=e.P,i=e.N;if(!(!t||!i)){var n=t.site,r=e.site,o=i.site;if(n!==o){var a=r[0],u=r[1],c=n[0]-a,f=n[1]-u,d=o[0]-a,_=o[1]-u,b=2*(c*_-f*d);if(!(b>=-1e-12)){var x=c*c+f*f,C=d*d+_*_,A=(_*x-f*C)/b,T=(c*C-d*x)/b,Z=Hp.pop()||new Ey;Z.arc=e,Z.site=r,Z.x=A+a,Z.y=(Z.cy=T+u)+Math.sqrt(A*A+T*T),e.circle=Z;for(var w=null,F=lo._;F;)if(Z.y<F.y||Z.y===F.y&&Z.x<=F.x)if(F.L)F=F.L;else{w=F.P;break}else if(F.R)F=F.R;else{w=F;break}lo.insert(w,Z),w||(Xu=Z)}}}}function Gs(e){var t=e.circle;t&&(t.P||(Xu=t.N),lo.remove(t),Hp.push(t),el(t),e.circle=null)}var Up=[];function Sy(){el(this),this.edge=this.site=this.circle=null}function Qh(e){var t=Up.pop()||new Sy;return t.site=e,t}function Xl(e){Gs(e),Ys.remove(e),Up.push(e),el(e)}function Ay(e){var t=e.circle,i=t.x,n=t.cy,r=[i,n],o=e.P,a=e.N,u=[e];Xl(e);for(var c=o;c.circle&&Math.abs(i-c.circle.x)<pe&&Math.abs(n-c.circle.cy)<pe;)o=c.P,u.unshift(c),Xl(c),c=o;u.unshift(c),Gs(c);for(var f=a;f.circle&&Math.abs(i-f.circle.x)<pe&&Math.abs(n-f.circle.cy)<pe;)a=f.N,u.push(f),Xl(f),f=a;u.push(f),Gs(f);var d=u.length,_;for(_=1;_<d;++_)f=u[_],c=u[_-1],Pa(f.edge,c.site,f.site,r);c=u[0],f=u[d-1],f.edge=Hr(c.site,f.site,null,r),qs(c),qs(f)}function Cy(e){for(var t=e[0],i=e[1],n,r,o,a,u=Ys._;u;)if(o=qp(u,i)-t,o>pe)u=u.L;else if(a=t-Dy(u,i),a>pe){if(!u.R){n=u;break}u=u.R}else{o>-pe?(n=u.P,r=u):a>-pe?(n=u,r=u.N):n=r=u;break}vy(e);var c=Qh(e);if(Ys.insert(n,c),!(!n&&!r)){if(n===r){Gs(n),r=Qh(n.site),Ys.insert(c,r),c.edge=r.edge=Hr(n.site,c.site),qs(n),qs(r);return}if(!r){c.edge=Hr(n.site,c.site);return}Gs(n),Gs(r);var f=n.site,d=f[0],_=f[1],b=e[0]-d,x=e[1]-_,C=r.site,A=C[0]-d,T=C[1]-_,Z=2*(b*T-x*A),w=b*b+x*x,F=A*A+T*T,k=[(T*w-x*F)/Z+d,(b*F-A*w)/Z+_];Pa(r.edge,f,C,k),c.edge=Hr(f,e,null,k),r.edge=Hr(e,C,null,k),qs(n),qs(r)}}function qp(e,t){var i=e.site,n=i[0],r=i[1],o=r-t;if(!o)return n;var a=e.P;if(!a)return-1/0;i=a.site;var u=i[0],c=i[1],f=c-t;if(!f)return u;var d=u-n,_=1/o-1/f,b=d/f;return _?(-b+Math.sqrt(b*b-2*_*(d*d/(-2*f)-c+f/2+r-o/2)))/_+n:(n+u)/2}function Dy(e,t){var i=e.N;if(i)return qp(i,t);var n=e.site;return n[1]===t?n[0]:1/0}var pe=1e-6,Ys,vi,lo,Je;function Ty(e,t,i){return(e[0]-i[0])*(t[1]-e[1])-(e[0]-t[0])*(i[1]-e[1])}function Py(e,t){return t[1]-e[1]||t[0]-e[0]}function Cu(e,t){var i=e.sort(Py).pop(),n,r,o;for(Je=[],vi=new Array(e.length),Ys=new Ta,lo=new Ta;;)if(o=Xu,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))(i[0]!==n||i[1]!==r)&&(Cy(i),n=i[0],r=i[1]),i=e.pop();else if(o)Ay(o.arc);else break;if(xy(),t){var a=+t[0][0],u=+t[0][1],c=+t[1][0],f=+t[1][1];_y(a,u,c,f),wy(a,u,c,f)}this.edges=Je,this.cells=vi,Ys=lo=Je=vi=null}Cu.prototype={constructor:Cu,polygons:function(){var e=this.edges;return this.cells.map(function(t){var i=t.halfedges.map(function(n){return zp(t,e[n])});return i.data=t.site.data,i})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(i,n){if(u=(o=i.halfedges).length)for(var r=i.site,o,a=-1,u,c,f=t[o[u-1]],d=f.left===r?f.right:f.left;++a<u;)c=d,f=t[o[a]],d=f.left===r?f.right:f.left,c&&d&&n<c.index&&n<d.index&&Ty(r,c,d)<0&&e.push([r.data,c.data,d.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,i){for(var n=this,r,o=n._found||0,a=n.cells.length,u;!(u=n.cells[o]);)if(++o>=a)return null;var c=e-u.site[0],f=t-u.site[1],d=c*c+f*f;do u=n.cells[r=o],o=null,u.halfedges.forEach(function(_){var b=n.edges[_],x=b.left;if(!((x===u.site||!x)&&!(x=b.right))){var C=e-x[0],A=t-x[1],T=C*C+A*A;T<d&&(d=T,o=x.index)}});while(o!==null);return n._found=r,i==null||d<=i*i?u.site:null}};function Ly(){var e=dy,t=py,i=null;function n(r){return new Cu(r.map(function(o,a){var u=[Math.round(e(o,a,r)/pe)*pe,Math.round(t(o,a,r)/pe)*pe];return u.index=a,u.data=o,u}),i)}return n.polygons=function(r){return n(r).polygons()},n.links=function(r){return n(r).links()},n.triangles=function(r){return n(r).triangles()},n.x=function(r){return arguments.length?(e=typeof r=="function"?r:Kh(+r),n):e},n.y=function(r){return arguments.length?(t=typeof r=="function"?r:Kh(+r),n):t},n.extent=function(r){return arguments.length?(i=r==null?null:[[+r[0][0],+r[0][1]],[+r[1][0],+r[1][1]]],n):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},n.size=function(r){return arguments.length?(i=r==null?null:[[0,0],[+r[0],+r[1]]],n):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},n}function My(e){return e=e.slice(),e.push(e[0]),tl([e])}function ky(e,t){if(t=t||{},!Lv(t))throw new Error("options is invalid");const i=t.bbox||[-180,-85,180,85];if(!e)throw new Error("points is required");if(!Array.isArray(i))throw new Error("bbox is invalid");return Mv(e,"Point","points"),gs(Ly().x(n=>n.geometry.coordinates[0]).y(n=>n.geometry.coordinates[1]).extent([[i[0],i[1]],[i[2],i[3]]]).polygons(e.features).map(function(n,r){return Object.assign(My(n),{properties:Op(e.features[r].properties)})}))}const Oy=[6.5,47.5,9,50],tf=e=>{let t=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t);return`hsl(${Math.abs(t)%360}, 65%, 60%)`},Iy=(e,t,i)=>{const n=[];if(!t?.features?.length)return gs([]);const r=new Map;for(const c of t.features){const f=c.properties?.circo_nom;f&&r.set(f,c)}const o=new Map;for(const c of e){if(!c.Latitude||!c.Longitude||!c["Nom du PAS"]||!i.includes(c["Nom du PAS"]))continue;const f=c.Circonscription||"";o.has(f)||o.set(f,[]),o.get(f).push(c)}o.forEach((c,f)=>{if(c.length<2)return;let d=r.get(f);if(!d){for(const[A,T]of r.entries())if(A.includes(f)||f.includes(A)){d=T;break}}const _=c.map(A=>Pv([A.Longitude,A.Latitude],{pas:A["Nom du PAS"],uai:A.UAI})),b=gs(_);if(d||(d=Zv(b)),!d)return;const x=ky(b,{bbox:Oy}),C=new Map;x.features.forEach((A,T)=>{if(!A||!_[T])return;const Z=_[T].properties?.pas;if(Z)try{const w=gs([A,d]),F=fy(w);F&&(F.properties={pas:Z},C.has(Z)||C.set(Z,[]),C.get(Z).push(F))}catch{}}),C.forEach((A,T)=>{if(A.length===0)return;let Z=A[0]||null;for(let w=1;w<A.length&&Z;w++){const F=A[w];if(F)try{const k=gs([Z,F]),P=Xh(k);P&&(Z=P)}catch{}}Z&&(Z.properties={pas:T,circo:f,color:tf(T)},n.push(Z))})});const a=new Map;for(const c of n){const f=c.properties?.pas;f&&(a.has(f)||a.set(f,[]),a.get(f).push(c))}const u=[];return a.forEach((c,f)=>{if(c.length===1)u.push(c[0]);else{let d=c[0]||null;for(let _=1;_<c.length&&d;_++){const b=c[_];if(b)try{const x=gs([d,b]),C=Xh(x);C&&(d=C)}catch{}}d&&(d.properties={pas:f,color:tf(f)},u.push(d))}}),gs(u)},Ry=Ui({__name:"LeafletMap",setup(e){const t=Gn(),i=Ce(null);let n=null,r=null,o=null,a=null;const u={},c=x=>{let C=0;for(let A=0;A<x.length;A++)C=x.charCodeAt(A)+((C<<5)-C);return`hsl(${Math.abs(C)%360}, 65%, 60%)`},f=()=>{n||i.value&&(n=Bs.map(i.value,{zoomControl:!1,center:[48.6,7.5],zoom:9}),Bs.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:"&copy; OpenStreetMap & CartoDB"}).addTo(n),o=Bs.geoJSON(null,{style:x=>{const C=x?.properties?.pas;return{fillColor:C?c(C):"#ccc",weight:2,opacity:1,color:"white",fillOpacity:.5}},onEachFeature:(x,C)=>{x.properties?.pas&&C.bindTooltip(`PAS: ${x.properties.pas}`,{sticky:!0}),C.on("click",()=>{x.properties?.pas&&t.selectPas(x.properties.pas)})}}).addTo(n),a=Bs.geoJSON(null,{style:()=>({fillOpacity:0,weight:3,opacity:.8,color:"#1e293b",dashArray:"8, 4"}),onEachFeature:(x,C)=>{x.properties?.circo_nom&&C.bindTooltip(`Circonscription: ${x.properties.circo_nom}`,{sticky:!0})}}).addTo(n),r=Bs.layerGroup().addTo(n))},d=()=>{try{if(!n||!o||t.schools.length===0)return;const x=Ea.getAllCircoSectors(),C=Iy(ie(t.schools),x,ie(t.filteredPasNames));o.clearLayers(),C.features.length>0&&o.addData(C)}catch(x){console.error("Error updating PAS polygons:",x)}},_=()=>{try{if(!n||!a)return;const x=Ea.getAllCircoSectors();a.clearLayers(),x?.features?.length>0&&(a.addData(x),a.bringToFront())}catch(x){console.error("Error updating circonscriptions:",x)}},b=()=>{if(!(!n||!r)){r.clearLayers();for(const x in u)delete u[x];t.filteredSchools.forEach(x=>{if(x.Latitude&&x.Longitude){const C=x.Degr==="2nd degr",A=C?"#1e293b":"#ffffff",T=C?"#3b82f6":"#10b981",Z=t.selectedSchool?.UAI===x.UAI,w=Bs.circleMarker([x.Latitude,x.Longitude],{radius:Z?8:C?6:4,fillColor:A,color:Z?"#ef4444":T,weight:Z?3:2,fillOpacity:1});w.bindPopup(`
        <div class="font-bold text-sm text-slate-800">${x["Nom complet"]}</div>
        <div class="text-xs text-slate-500">${x["Nom du PAS"]}</div>
      `),w.on("click",()=>{t.selectSchool(x.UAI)}),w.on("mouseover",()=>{t.setHoveredSchool(x.UAI)}),w.on("mouseout",()=>{t.setHoveredSchool(null)}),r?.addLayer(w),u[x.UAI]=w}})}};return Bi(()=>t.filteredSchools,()=>{b()},{deep:!0}),Bi(()=>t.schools,()=>{d()},{deep:!0}),Bi(()=>t.filteredPasNames,()=>{d()},{deep:!0}),Bi(()=>t.selectedSchool,x=>{if(b(),x&&n){const C=u[x.UAI];C&&(n.flyTo(C.getLatLng(),11,{duration:1.5}),C.openPopup())}}),Bi(()=>t.hoveredSchoolUai,(x,C)=>{if(C&&u[C]){const A=t.schools.find(w=>w.UAI===C),T=A&&A.Degr==="2nd degr",Z=t.selectedSchool?.UAI===C;u[C].setRadius(Z?8:T?6:4)}x&&u[x]&&(u[x].bringToFront(),u[x].setRadius(10))}),Za(()=>{f(),setTimeout(()=>{b(),d(),_(),n?.invalidateSize()},200)}),$a(()=>{n?.remove()}),(x,C)=>(Ht(),Vt("div",{ref_key:"mapContainer",ref:i,class:"w-full h-full bg-slate-100 z-0"},null,512))}}),By=["id"],Ny={class:"flex justify-between items-start mb-1"},Fy={key:0,class:"w-full"},zy=["id"],Hy={key:2,class:"flex gap-1 flex-wrap justify-end w-1/4"},Uy={key:0,class:"px-1 py-0.5 bg-red-100 text-red-700 text-[9px] font-bold rounded"},qy={key:1,class:"px-1 py-0.5 bg-purple-100 text-purple-700 text-[9px] font-bold rounded"},Vy={key:2,class:"px-1 py-0.5 bg-orange-100 text-orange-700 text-[9px] font-bold rounded"},jy={class:"flex justify-between items-center text-xs text-slate-500 mt-2"},Wy={class:"flex gap-2"},Zy={class:"font-mono bg-slate-100 px-1 rounded"},$y=["title"],Gy={class:"w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden"},Yy={class:"font-bold text-[10px]"},Xy={class:"mt-1 text-[10px] text-slate-400 truncate"},Vp=Ui({__name:"SchoolCard",props:{school:{}},setup(e){const t=Gn(),i=e,n=Ce(!1),r=Ce(""),o=()=>{n.value=!0,r.value=i.school["Nom complet"],Qs(()=>{const c=document.getElementById("edit-school-"+i.school.UAI);c&&c.focus()})},a=()=>{r.value.trim()&&r.value!==i.school["Nom complet"]&&t.renameSchool(i.school.UAI,r.value),n.value=!1},u=()=>{n.value=!1};return(c,f)=>(Ht(),Vt("div",{id:"card-"+e.school.UAI,class:Me(["bg-white p-3 rounded shadow-sm border-l-4 cursor-grab active:cursor-grabbing hover:shadow-md transition-all duration-200",[e.school.Degr==="2nd degr"?"border-l-blue-500":"border-l-teal-400",Gt(t).selectedSchool?.UAI===e.school.UAI||Gt(t).hoveredSchoolUai===e.school.UAI?"ring-2 ring-blue-500 bg-blue-50/50 scale-[1.02]":""]]),draggable:"true",onMouseenter:f[2]||(f[2]=d=>Gt(t).setHoveredSchool(e.school.UAI)),onMouseleave:f[3]||(f[3]=d=>Gt(t).setHoveredSchool(null))},[Y("div",Ny,[n.value?(Ht(),Vt("div",Fy,[ys(Y("input",{id:"edit-school-"+e.school.UAI,"onUpdate:modelValue":f[0]||(f[0]=d=>r.value=d),class:"w-full px-1 py-0.5 text-xs font-bold border-2 border-blue-400 rounded outline-none",onBlur:a,onKeyup:[wa(a,["enter"]),wa(u,["esc"])],onClick:f[1]||(f[1]=Bn(()=>{},["stop"]))},null,40,zy),[[xa,r.value]])])):(Ht(),Vt("h4",{key:1,class:"font-bold text-xs text-slate-800 leading-tight w-3/4 cursor-text",onDblclick:Bn(o,["stop"])},Ut(e.school["Nom complet"]),33)),n.value?He("",!0):(Ht(),Vt("div",Hy,[e.school["Education prioritaire (Archipel)"]?.includes("REP")?(Ht(),Vt("span",Uy,"REP")):He("",!0),e.school["Education prioritaire (Archipel)"]?.includes("CLA")?(Ht(),Vt("span",qy,"CLA")):He("",!0),e.school.Territoire==="OUI"?(Ht(),Vt("span",Vy,"TER")):He("",!0)]))]),Y("div",jy,[Y("div",Wy,[Y("span",Zy,Ut(e.school["Effectifs (Archipel)"])+" lves",1)]),Y("div",{class:"flex items-center gap-1",title:"IPS: "+e.school.IPS},[Y("div",Gy,[Y("div",{class:"h-full bg-blue-500",style:Es({width:Math.min(e.school.IPS/150*100,100)+"%"})},null,4)]),Y("span",Yy,Ut(e.school.IPS),1)],8,$y)]),Y("div",Xy,Ut(e.school.Commune),1)],42,By))}}),Ky={class:"flex h-full overflow-x-auto gap-4 p-4 items-start bg-slate-100"},Jy=["onDrop","onClick"],Qy={class:"p-3 bg-white rounded-t shadow-sm sticky top-0 z-10 space-y-2"},t2={key:0},e2=["id","onBlur","onKeyup"],i2={key:1,class:"flex justify-between items-center group"},n2=["onDblclick"],s2=["onClick"],r2={class:"flex justify-between items-center text-[10px] bg-slate-50 p-1.5 rounded border border-slate-100 font-mono"},o2={class:"flex flex-col"},a2={class:"font-bold text-slate-700"},l2={class:"flex flex-col text-right"},u2={class:"font-bold text-slate-700"},c2={class:"flex flex-col text-right"},h2={class:"font-bold text-slate-700"},f2={class:"p-2 overflow-y-auto flex-1 min-h-[100px] space-y-4 pb-12"},d2=["onDrop"],p2=["onDragstart"],g2={class:"flex items-center gap-1"},m2={class:"truncate max-w-[180px]"},_2={class:"bg-slate-800/50 px-1.5 rounded text-[9px]"},v2={class:"p-1 space-y-1.5"},y2=Ui({__name:"PasBoard",setup(e){const t=Gn(),i=$e(()=>{const x={};return t.filteredPasNames.forEach(C=>{const A=t.schools.filter(Z=>Z["Nom du PAS"]===C),T={};A.forEach(Z=>{const w=Z["PAS.1.Collge de rattachement"]||"Hors Secteur";T[w]||(T[w]=[]),T[w].push(Z)}),Object.keys(T).forEach(Z=>{T[Z].sort((w,F)=>w.Degr==="2nd degr"?-1:1)}),x[C]=T}),x}),n=Ce(null),r=Ce(""),o=x=>{n.value=x,r.value=x,Qs(()=>{const C=document.getElementById("edit-input-"+x);C&&C.focus()})},a=x=>{r.value.trim()&&r.value!==x&&t.renamePas(x,r.value),n.value=null},u=()=>{n.value=null},c=(x,C)=>{x.dataTransfer&&(x.dataTransfer.setData("type","SCHOOL"),x.dataTransfer.setData("uai",C.UAI),x.dataTransfer.effectAllowed="move")},f=(x,C,A)=>{x.dataTransfer&&(x.dataTransfer.setData("type","SECTOR"),x.dataTransfer.setData("sector",C),x.dataTransfer.setData("sourcePas",A),x.dataTransfer.effectAllowed="move")},d=(x,C)=>{const A=x.dataTransfer?.getData("type");if(A==="SCHOOL"){const T=x.dataTransfer?.getData("uai");T&&t.updateSchoolPas(T,C)}else if(A==="SECTOR"){const T=x.dataTransfer?.getData("sector");T&&t.updateSectorPas(T,C)}},_=(x,C,A)=>{if(x.dataTransfer?.getData("type")==="SCHOOL"){const Z=x.dataTransfer?.getData("uai");Z&&t.updateSchoolSector(Z,C,A)}},b=x=>{let C=0;for(let A=0;A<x.length;A++)C=x.charCodeAt(A)+((C<<5)-C);return`hsl(${Math.abs(C)%360}, 65%, 60%)`};return Bi(()=>t.selectedSchool,async x=>{if(x){await Qs();const C=document.getElementById("card-"+x.UAI);C&&C.scrollIntoView({behavior:"smooth",block:"center"})}}),(x,C)=>(Ht(),Vt("div",Ky,[(Ht(!0),Vt(ke,null,Un(Gt(t).filteredPasNames,A=>(Ht(),Vt("div",{key:A,class:Me(["flex-shrink-0 w-72 bg-slate-200 rounded-lg flex flex-col max-h-full border-t-4 shadow-md transition-all",{"ring-2 ring-blue-500 ring-offset-2":Gt(t).selectedPas===A}]),style:Es({borderTopColor:b(A)}),onDragover:C[2]||(C[2]=Bn(()=>{},["prevent"])),onDrop:T=>d(T,A),onClick:T=>Gt(t).selectPas(A)},[Y("div",Qy,[n.value===A?(Ht(),Vt("div",t2,[ys(Y("input",{id:"edit-input-"+A,"onUpdate:modelValue":C[0]||(C[0]=T=>r.value=T),class:"w-full px-2 py-1 text-sm font-bold border-2 border-blue-500 rounded outline-none",onBlur:T=>a(A),onKeyup:[wa(T=>a(A),["enter"]),wa(u,["esc"])]},null,40,e2),[[xa,r.value]])])):(Ht(),Vt("div",i2,[Y("h3",{class:"font-extrabold text-sm text-slate-800 truncate cursor-text",onDblclick:Bn(T=>o(A),["stop"])},Ut(A),41,n2),Y("button",{onClick:Bn(T=>o(A),["stop"]),class:"opacity-0 group-hover:opacity-100 p-1 text-slate-400 hover:text-blue-500 transition-opacity"},[...C[3]||(C[3]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Y("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),Y("path",{d:"m15 5 4 4"})],-1)])],8,s2)])),Y("div",r2,[Y("div",o2,[C[4]||(C[4]=Y("span",{class:"text-slate-400 uppercase text-[8px]"},"IPS",-1)),Y("span",a2,Ut(Gt(t).pasMetrics[A]?.ips),1)]),Y("div",l2,[C[5]||(C[5]=Y("span",{class:"text-slate-400 uppercase text-[8px]"},"Distance",-1)),Y("span",u2,Ut(Gt(t).pasMetrics[A]?.dist),1)]),Y("div",c2,[C[6]||(C[6]=Y("span",{class:"text-slate-400 uppercase text-[8px]"},"Effectif",-1)),Y("span",h2,Ut(Gt(t).pasMetrics[A]?.effectif),1)])])]),Y("div",f2,[(Ht(!0),Vt(ke,null,Un(i.value[A],(T,Z)=>(Ht(),Vt("div",{key:Z,class:"bg-slate-300/50 rounded-md overflow-hidden border border-slate-300/50",onDragover:C[1]||(C[1]=Bn(()=>{},["prevent"])),onDrop:Bn(w=>_(w,Z,A),["stop"])},[Y("div",{class:"bg-slate-600 text-white px-2 py-1 text-[10px] font-bold flex justify-between items-center cursor-move hover:bg-slate-700 active:cursor-grabbing",draggable:"true",onDragstart:w=>f(w,Z,A)},[Y("div",g2,[C[7]||(C[7]=Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"text-slate-300"},[Y("path",{d:"M5 9h14"}),Y("path",{d:"M5 15h14"})],-1)),Y("span",m2,Ut(Z),1)]),Y("span",_2,Ut(T.length),1)],40,p2),Y("div",v2,[(Ht(!0),Vt(ke,null,Un(T,w=>(Ht(),ro(Vp,{key:w.UAI,school:w,draggable:"true",onDragstart:F=>c(F,w),onClick:Bn(F=>Gt(t).selectSchool(w.UAI),["stop"]),class:Me(["transform transition-transform active:scale-95",{"ring-2 ring-blue-500":Gt(t).selectedSchool?.UAI===w.UAI}])},null,8,["school","onDragstart","onClick","class"]))),128))])],40,d2))),128))])],46,Jy))),128))]))}});function _o(e){return e+.5|0}const Nn=(e,t,i)=>Math.max(Math.min(e,i),t);function Ur(e){return Nn(_o(e*2.55),0,255)}function qn(e){return Nn(_o(e*255),0,255)}function mn(e){return Nn(_o(e/2.55)/100,0,1)}function ef(e){return Nn(_o(e*100),0,100)}const Ci={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Du=[..."0123456789ABCDEF"],b2=e=>Du[e&15],x2=e=>Du[(e&240)>>4]+Du[e&15],Vo=e=>(e&240)>>4===(e&15),w2=e=>Vo(e.r)&&Vo(e.g)&&Vo(e.b)&&Vo(e.a);function E2(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&Ci[e[1]]*17,g:255&Ci[e[2]]*17,b:255&Ci[e[3]]*17,a:t===5?Ci[e[4]]*17:255}:(t===7||t===9)&&(i={r:Ci[e[1]]<<4|Ci[e[2]],g:Ci[e[3]]<<4|Ci[e[4]],b:Ci[e[5]]<<4|Ci[e[6]],a:t===9?Ci[e[7]]<<4|Ci[e[8]]:255})),i}const S2=(e,t)=>e<255?t(e):"";function A2(e){var t=w2(e)?b2:x2;return e?"#"+t(e.r)+t(e.g)+t(e.b)+S2(e.a,t):void 0}const C2=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jp(e,t,i){const n=t*Math.min(i,1-i),r=(o,a=(o+e/30)%12)=>i-n*Math.max(Math.min(a-3,9-a,1),-1);return[r(0),r(8),r(4)]}function D2(e,t,i){const n=(r,o=(r+e/60)%6)=>i-i*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function T2(e,t,i){const n=jp(e,1,.5);let r;for(t+i>1&&(r=1/(t+i),t*=r,i*=r),r=0;r<3;r++)n[r]*=1-t-i,n[r]+=t;return n}function P2(e,t,i,n,r){return e===r?(t-i)/n+(t<i?6:0):t===r?(i-e)/n+2:(e-t)/n+4}function Ku(e){const i=e.r/255,n=e.g/255,r=e.b/255,o=Math.max(i,n,r),a=Math.min(i,n,r),u=(o+a)/2;let c,f,d;return o!==a&&(d=o-a,f=u>.5?d/(2-o-a):d/(o+a),c=P2(i,n,r,d,o),c=c*60+.5),[c|0,f||0,u]}function Ju(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(qn)}function Qu(e,t,i){return Ju(jp,e,t,i)}function L2(e,t,i){return Ju(T2,e,t,i)}function M2(e,t,i){return Ju(D2,e,t,i)}function Wp(e){return(e%360+360)%360}function k2(e){const t=C2.exec(e);let i=255,n;if(!t)return;t[5]!==n&&(i=t[6]?Ur(+t[5]):qn(+t[5]));const r=Wp(+t[2]),o=+t[3]/100,a=+t[4]/100;return t[1]==="hwb"?n=L2(r,o,a):t[1]==="hsv"?n=M2(r,o,a):n=Qu(r,o,a),{r:n[0],g:n[1],b:n[2],a:i}}function O2(e,t){var i=Ku(e);i[0]=Wp(i[0]+t),i=Qu(i),e.r=i[0],e.g=i[1],e.b=i[2]}function I2(e){if(!e)return;const t=Ku(e),i=t[0],n=ef(t[1]),r=ef(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${r}%, ${mn(e.a)})`:`hsl(${i}, ${n}%, ${r}%)`}const nf={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},sf={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function R2(){const e={},t=Object.keys(sf),i=Object.keys(nf);let n,r,o,a,u;for(n=0;n<t.length;n++){for(a=u=t[n],r=0;r<i.length;r++)o=i[r],u=u.replace(o,nf[o]);o=parseInt(sf[a],16),e[u]=[o>>16&255,o>>8&255,o&255]}return e}let jo;function B2(e){jo||(jo=R2(),jo.transparent=[0,0,0,0]);const t=jo[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const N2=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function F2(e){const t=N2.exec(e);let i=255,n,r,o;if(t){if(t[7]!==n){const a=+t[7];i=t[8]?Ur(a):Nn(a*255,0,255)}return n=+t[1],r=+t[3],o=+t[5],n=255&(t[2]?Ur(n):Nn(n,0,255)),r=255&(t[4]?Ur(r):Nn(r,0,255)),o=255&(t[6]?Ur(o):Nn(o,0,255)),{r:n,g:r,b:o,a:i}}}function z2(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${mn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Kl=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ns=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function H2(e,t,i){const n=Ns(mn(e.r)),r=Ns(mn(e.g)),o=Ns(mn(e.b));return{r:qn(Kl(n+i*(Ns(mn(t.r))-n))),g:qn(Kl(r+i*(Ns(mn(t.g))-r))),b:qn(Kl(o+i*(Ns(mn(t.b))-o))),a:e.a+i*(t.a-e.a)}}function Wo(e,t,i){if(e){let n=Ku(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,t===0?360:1)),n=Qu(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Zp(e,t){return e&&Object.assign(t||{},e)}function rf(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=qn(e[3]))):(t=Zp(e,{r:0,g:0,b:0,a:1}),t.a=qn(t.a)),t}function U2(e){return e.charAt(0)==="r"?F2(e):k2(e)}class uo{constructor(t){if(t instanceof uo)return t;const i=typeof t;let n;i==="object"?n=rf(t):i==="string"&&(n=E2(t)||B2(t)||U2(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Zp(this._rgb);return t&&(t.a=mn(t.a)),t}set rgb(t){this._rgb=rf(t)}rgbString(){return this._valid?z2(this._rgb):void 0}hexString(){return this._valid?A2(this._rgb):void 0}hslString(){return this._valid?I2(this._rgb):void 0}mix(t,i){if(t){const n=this.rgb,r=t.rgb;let o;const a=i===o?.5:i,u=2*a-1,c=n.a-r.a,f=((u*c===-1?u:(u+c)/(1+u*c))+1)/2;o=1-f,n.r=255&f*n.r+o*r.r+.5,n.g=255&f*n.g+o*r.g+.5,n.b=255&f*n.b+o*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(t,i){return t&&(this._rgb=H2(this._rgb,t._rgb,i)),this}clone(){return new uo(this.rgb)}alpha(t){return this._rgb.a=qn(t),this}clearer(t){const i=this._rgb;return i.a*=1-t,this}greyscale(){const t=this._rgb,i=_o(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){const i=this._rgb;return i.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Wo(this._rgb,2,t),this}darken(t){return Wo(this._rgb,2,-t),this}saturate(t){return Wo(this._rgb,1,t),this}desaturate(t){return Wo(this._rgb,1,-t),this}rotate(t){return O2(this._rgb,t),this}}function fn(){}const q2=(()=>{let e=0;return()=>e++})();function _e(e){return e==null}function Ue(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function oe(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Li(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Yi(e,t){return Li(e)?e:t}function le(e,t){return typeof e>"u"?t:e}const V2=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function xe(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function fe(e,t,i,n){let r,o,a;if(Ue(e))for(o=e.length,r=0;r<o;r++)t.call(i,e[r],r);else if(oe(e))for(a=Object.keys(e),o=a.length,r=0;r<o;r++)t.call(i,e[a[r]],a[r])}function La(e,t){let i,n,r,o;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(r=e[i],o=t[i],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Ma(e){if(Ue(e))return e.map(Ma);if(oe(e)){const t=Object.create(null),i=Object.keys(e),n=i.length;let r=0;for(;r<n;++r)t[i[r]]=Ma(e[i[r]]);return t}return e}function $p(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function j2(e,t,i,n){if(!$p(e))return;const r=t[e],o=i[e];oe(r)&&oe(o)?co(r,o,n):t[e]=Ma(o)}function co(e,t,i){const n=Ue(t)?t:[t],r=n.length;if(!oe(e))return e;i=i||{};const o=i.merger||j2;let a;for(let u=0;u<r;++u){if(a=n[u],!oe(a))continue;const c=Object.keys(a);for(let f=0,d=c.length;f<d;++f)o(c[f],e,a,i)}return e}function Jr(e,t){return co(e,t,{merger:W2})}function W2(e,t,i){if(!$p(e))return;const n=t[e],r=i[e];oe(n)&&oe(r)?Jr(n,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ma(r))}const of={"":e=>e,x:e=>e.x,y:e=>e.y};function Z2(e){const t=e.split("."),i=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function $2(e){const t=Z2(e);return i=>{for(const n of t){if(n==="")break;i=i&&i[n]}return i}}function er(e,t){return(of[t]||(of[t]=$2(t)))(e)}function tc(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ho=e=>typeof e<"u",Zn=e=>typeof e=="function",af=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function G2(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const ii=Math.PI,Vn=2*ii,ka=Number.POSITIVE_INFINITY,Y2=ii/180,Ni=ii/2,cs=ii/4,lf=ii*2/3,Gp=Math.log10,jn=Math.sign;function ua(e,t,i){return Math.abs(e-t)<i}function uf(e){const t=Math.round(e);e=ua(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor(Gp(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function X2(e){const t=[],i=Math.sqrt(e);let n;for(n=1;n<i;n++)e%n===0&&(t.push(n),t.push(e/n));return i===(i|0)&&t.push(i),t.sort((r,o)=>r-o).pop(),t}function K2(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Oa(e){return!K2(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function J2(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function Q2(e,t,i){let n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n][i],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function _s(e){return e*(ii/180)}function tb(e){return e*(180/ii)}function cf(e){if(!Li(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function eb(e,t){const i=t.x-e.x,n=t.y-e.y,r=Math.sqrt(i*i+n*n);let o=Math.atan2(n,i);return o<-.5*ii&&(o+=Vn),{angle:o,distance:r}}function ib(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hs(e){return(e%Vn+Vn)%Vn}function nb(e,t,i,n){const r=hs(e),o=hs(t),a=hs(i),u=hs(o-r),c=hs(a-r),f=hs(r-o),d=hs(r-a);return r===o||r===a||n||u>c&&f<d}function Fi(e,t,i){return Math.max(t,Math.min(i,e))}function sb(e){return Fi(e,-32768,32767)}function Vs(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function ec(e,t,i){i=i||(a=>e[a]<t);let n=e.length-1,r=0,o;for(;n-r>1;)o=r+n>>1,i(o)?r=o:n=o;return{lo:r,hi:n}}const Tu=(e,t,i,n)=>ec(e,i,n?r=>{const o=e[r][t];return o<i||o===i&&e[r+1][t]===i}:r=>e[r][t]<i),rb=(e,t,i)=>ec(e,i,n=>e[n][t]>=i);function ob(e,t,i){let n=0,r=e.length;for(;n<r&&e[n]<t;)n++;for(;r>n&&e[r-1]>i;)r--;return n>0||r<e.length?e.slice(n,r):e}const Yp=["push","pop","shift","splice","unshift"];function ab(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Yp.forEach(i=>{const n="_onData"+tc(i),r=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...o){const a=r.apply(this,o);return e._chartjs.listeners.forEach(u=>{typeof u[n]=="function"&&u[n](...o)}),a}})})}function hf(e,t){const i=e._chartjs;if(!i)return;const n=i.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(Yp.forEach(o=>{delete e[o]}),delete e._chartjs)}function Xp(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Kp=(function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame})();function Jp(e,t){let i=[],n=!1;return function(...r){i=r,n||(n=!0,Kp.call(window,()=>{n=!1,e.apply(t,i)}))}}function lb(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}const ic=e=>e==="start"?"left":e==="end"?"right":"center",Xe=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,ub=(e,t,i,n)=>e===(n?"left":"right")?i:e==="center"?(t+i)/2:t,Zo=e=>e===0||e===1,ff=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Vn/i)),df=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*Vn/i)+1,Qr={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ni)+1,easeOutSine:e=>Math.sin(e*Ni),easeInOutSine:e=>-.5*(Math.cos(ii*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Zo(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Zo(e)?e:ff(e,.075,.3),easeOutElastic:e=>Zo(e)?e:df(e,.075,.3),easeInOutElastic(e){return Zo(e)?e:e<.5?.5*ff(e*2,.1125,.45):.5+.5*df(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Qr.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Qr.easeInBounce(e*2)*.5:Qr.easeOutBounce(e*2-1)*.5+.5};function Qp(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function pf(e){return Qp(e)?e:new uo(e)}function Jl(e){return Qp(e)?e:new uo(e).saturate(.5).darken(.1).hexString()}const cb=["x","y","borderWidth","radius","tension"],hb=["color","borderColor","backgroundColor"];function fb(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:hb},numbers:{type:"number",properties:cb}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function db(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const gf=new Map;function pb(e,t){t=t||{};const i=e+JSON.stringify(t);let n=gf.get(i);return n||(n=new Intl.NumberFormat(e,t),gf.set(i,n)),n}function tg(e,t,i){return pb(t,i).format(e)}const gb={values(e){return Ue(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";const n=this.chart.options.locale;let r,o=e;if(i.length>1){const f=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=mb(e,i)}const a=Gp(Math.abs(o)),u=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),tg(e,n,c)}};function mb(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var eg={formatters:gb};function _b(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:eg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ws=Object.create(null),Pu=Object.create(null);function to(e,t){if(!t)return e;const i=t.split(".");for(let n=0,r=i.length;n<r;++n){const o=i[n];e=e[o]||(e[o]=Object.create(null))}return e}function Ql(e,t,i){return typeof t=="string"?co(to(e,t),i):co(to(e,""),t)}class vb{constructor(t,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>Jl(r.backgroundColor),this.hoverBorderColor=(n,r)=>Jl(r.borderColor),this.hoverColor=(n,r)=>Jl(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(i)}set(t,i){return Ql(this,t,i)}get(t){return to(this,t)}describe(t,i){return Ql(Pu,t,i)}override(t,i){return Ql(ws,t,i)}route(t,i,n,r){const o=to(this,t),a=to(this,n),u="_"+i;Object.defineProperties(o,{[u]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){const c=this[u],f=a[r];return oe(c)?Object.assign({},f,c):le(c,f)},set(c){this[u]=c}}})}apply(t){t.forEach(i=>i(this))}}var Oe=new vb({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fb,db,_b]);function yb(e){return!e||_e(e.size)||_e(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function mf(e,t,i,n,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,i.push(r)),o>n&&(n=o),n}function fs(e,t,i){const n=e.currentDevicePixelRatio,r=i!==0?Math.max(i/2,.5):0;return Math.round((t-r)*n)/n+r}function _f(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function vf(e,t,i,n){ig(e,t,i,n,null)}function ig(e,t,i,n,r){let o,a,u,c,f,d,_,b;const x=t.pointStyle,C=t.rotation,A=t.radius;let T=(C||0)*Y2;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(i,n),e.rotate(T),e.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),e.restore();return}if(!(isNaN(A)||A<=0)){switch(e.beginPath(),x){default:r?e.ellipse(i,n,r/2,A,0,0,Vn):e.arc(i,n,A,0,Vn),e.closePath();break;case"triangle":d=r?r/2:A,e.moveTo(i+Math.sin(T)*d,n-Math.cos(T)*A),T+=lf,e.lineTo(i+Math.sin(T)*d,n-Math.cos(T)*A),T+=lf,e.lineTo(i+Math.sin(T)*d,n-Math.cos(T)*A),e.closePath();break;case"rectRounded":f=A*.516,c=A-f,a=Math.cos(T+cs)*c,_=Math.cos(T+cs)*(r?r/2-f:c),u=Math.sin(T+cs)*c,b=Math.sin(T+cs)*(r?r/2-f:c),e.arc(i-_,n-u,f,T-ii,T-Ni),e.arc(i+b,n-a,f,T-Ni,T),e.arc(i+_,n+u,f,T,T+Ni),e.arc(i-b,n+a,f,T+Ni,T+ii),e.closePath();break;case"rect":if(!C){c=Math.SQRT1_2*A,d=r?r/2:c,e.rect(i-d,n-c,2*d,2*c);break}T+=cs;case"rectRot":_=Math.cos(T)*(r?r/2:A),a=Math.cos(T)*A,u=Math.sin(T)*A,b=Math.sin(T)*(r?r/2:A),e.moveTo(i-_,n-u),e.lineTo(i+b,n-a),e.lineTo(i+_,n+u),e.lineTo(i-b,n+a),e.closePath();break;case"crossRot":T+=cs;case"cross":_=Math.cos(T)*(r?r/2:A),a=Math.cos(T)*A,u=Math.sin(T)*A,b=Math.sin(T)*(r?r/2:A),e.moveTo(i-_,n-u),e.lineTo(i+_,n+u),e.moveTo(i+b,n-a),e.lineTo(i-b,n+a);break;case"star":_=Math.cos(T)*(r?r/2:A),a=Math.cos(T)*A,u=Math.sin(T)*A,b=Math.sin(T)*(r?r/2:A),e.moveTo(i-_,n-u),e.lineTo(i+_,n+u),e.moveTo(i+b,n-a),e.lineTo(i-b,n+a),T+=cs,_=Math.cos(T)*(r?r/2:A),a=Math.cos(T)*A,u=Math.sin(T)*A,b=Math.sin(T)*(r?r/2:A),e.moveTo(i-_,n-u),e.lineTo(i+_,n+u),e.moveTo(i+b,n-a),e.lineTo(i-b,n+a);break;case"line":a=r?r/2:Math.cos(T)*A,u=Math.sin(T)*A,e.moveTo(i-a,n-u),e.lineTo(i+a,n+u);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(T)*(r?r/2:A),n+Math.sin(T)*A);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ng(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function nc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function sc(e){e.restore()}function bb(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),_e(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function xb(e,t,i,n,r){if(r.strikethrough||r.underline){const o=e.measureText(n),a=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,c=i-o.actualBoundingBoxAscent,f=i+o.actualBoundingBoxDescent,d=r.strikethrough?(c+f)/2:f;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(a,d),e.lineTo(u,d),e.stroke()}}function wb(e,t){const i=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=i}function fo(e,t,i,n,r,o={}){const a=Ue(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let c,f;for(e.save(),e.font=r.string,bb(e,o),c=0;c<a.length;++c)f=a[c],o.backdrop&&wb(e,o.backdrop),u&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),_e(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(f,i,n,o.maxWidth)),e.fillText(f,i,n,o.maxWidth),xb(e,i,n,f,o),n+=Number(r.lineHeight);e.restore()}function Ia(e,t){const{x:i,y:n,w:r,h:o,radius:a}=t;e.arc(i+a.topLeft,n+a.topLeft,a.topLeft,1.5*ii,ii,!0),e.lineTo(i,n+o-a.bottomLeft),e.arc(i+a.bottomLeft,n+o-a.bottomLeft,a.bottomLeft,ii,Ni,!0),e.lineTo(i+r-a.bottomRight,n+o),e.arc(i+r-a.bottomRight,n+o-a.bottomRight,a.bottomRight,Ni,0,!0),e.lineTo(i+r,n+a.topRight),e.arc(i+r-a.topRight,n+a.topRight,a.topRight,0,-Ni,!0),e.lineTo(i+a.topLeft,n)}const Eb=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Sb=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ab(e,t){const i=(""+e).match(Eb);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}const Cb=e=>+e||0;function sg(e,t){const i={},n=oe(t),r=n?Object.keys(t):t,o=oe(e)?n?a=>le(e[a],e[t[a]]):a=>e[a]:()=>e;for(const a of r)i[a]=Cb(o(a));return i}function rg(e){return sg(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Xs(e){return sg(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Mi(e){const t=rg(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ei(e,t){e=e||{},t=t||Oe.font;let i=le(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let n=le(e.style,t.style);n&&!(""+n).match(Sb)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:le(e.family,t.family),lineHeight:Ab(le(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:le(e.weight,t.weight),string:""};return r.string=yb(r),r}function $o(e,t,i,n){let r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&a!==void 0)return a}function Db(e,t,i){const{min:n,max:r}=e,o=V2(t,(r-n)/2),a=(u,c)=>i&&u===0?0:u+c;return{min:a(n,-Math.abs(o)),max:a(r,o)}}function sr(e,t){return Object.assign(Object.create(e),t)}function rc(e,t=[""],i,n,r=()=>e[0]){const o=i||e;typeof n>"u"&&(n=ug("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:r,override:u=>rc([u,...e],t,o,n)};return new Proxy(a,{deleteProperty(u,c){return delete u[c],delete u._keys,delete e[0][c],!0},get(u,c){return ag(u,c,()=>Rb(c,t,e,u))},getOwnPropertyDescriptor(u,c){return Reflect.getOwnPropertyDescriptor(u._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(u,c){return bf(u).includes(c)},ownKeys(u){return bf(u)},set(u,c,f){const d=u._storage||(u._storage=r());return u[c]=d[c]=f,delete u._keys,!0}})}function ir(e,t,i,n){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:og(e,n),setContext:o=>ir(e,o,i,n),override:o=>ir(e.override(o),t,i,n)};return new Proxy(r,{deleteProperty(o,a){return delete o[a],delete e[a],!0},get(o,a,u){return ag(o,a,()=>Pb(o,a,u))},getOwnPropertyDescriptor(o,a){return o._descriptors.allKeys?Reflect.has(e,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,a)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,a){return Reflect.has(e,a)},ownKeys(){return Reflect.ownKeys(e)},set(o,a,u){return e[a]=u,delete o[a],!0}})}function og(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:i,indexable:n,isScriptable:Zn(i)?i:()=>i,isIndexable:Zn(n)?n:()=>n}}const Tb=(e,t)=>e?e+tc(t):t,oc=(e,t)=>oe(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function ag(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=i();return e[t]=n,n}function Pb(e,t,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=e;let u=n[t];return Zn(u)&&a.isScriptable(t)&&(u=Lb(t,u,e,i)),Ue(u)&&u.length&&(u=Mb(t,u,e,a.isIndexable)),oc(t,u)&&(u=ir(u,r,o&&o[t],a)),u}function Lb(e,t,i,n){const{_proxy:r,_context:o,_subProxy:a,_stack:u}=i;if(u.has(e))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+e);u.add(e);let c=t(o,a||n);return u.delete(e),oc(e,c)&&(c=ac(r._scopes,r,e,c)),c}function Mb(e,t,i,n){const{_proxy:r,_context:o,_subProxy:a,_descriptors:u}=i;if(typeof o.index<"u"&&n(e))return t[o.index%t.length];if(oe(t[0])){const c=t,f=r._scopes.filter(d=>d!==c);t=[];for(const d of c){const _=ac(f,r,e,d);t.push(ir(_,o,a&&a[e],u))}}return t}function lg(e,t,i){return Zn(e)?e(t,i):e}const kb=(e,t)=>e===!0?t:typeof e=="string"?er(t,e):void 0;function Ob(e,t,i,n,r){for(const o of t){const a=kb(i,o);if(a){e.add(a);const u=lg(a._fallback,i,r);if(typeof u<"u"&&u!==i&&u!==n)return u}else if(a===!1&&typeof n<"u"&&i!==n)return null}return!1}function ac(e,t,i,n){const r=t._rootScopes,o=lg(t._fallback,i,n),a=[...e,...r],u=new Set;u.add(n);let c=yf(u,a,i,o||i,n);return c===null||typeof o<"u"&&o!==i&&(c=yf(u,a,o,c,n),c===null)?!1:rc(Array.from(u),[""],r,o,()=>Ib(t,i,n))}function yf(e,t,i,n,r){for(;i;)i=Ob(e,t,i,n,r);return i}function Ib(e,t,i){const n=e._getTarget();t in n||(n[t]={});const r=n[t];return Ue(r)&&oe(i)?i:r||{}}function Rb(e,t,i,n){let r;for(const o of t)if(r=ug(Tb(o,e),i),typeof r<"u")return oc(e,r)?ac(i,n,e,r):r}function ug(e,t){for(const i of t){if(!i)continue;const n=i[e];if(typeof n<"u")return n}}function bf(e){let t=e._keys;return t||(t=e._keys=Bb(e._scopes)),t}function Bb(e){const t=new Set;for(const i of e)for(const n of Object.keys(i).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function lc(){return typeof window<"u"&&typeof document<"u"}function uc(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ra(e,t,i){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[i])):n=e,n}const il=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Nb(e,t){return il(e).getPropertyValue(t)}const Fb=["top","right","bottom","left"];function xs(e,t,i){const n={};i=i?"-"+i:"";for(let r=0;r<4;r++){const o=Fb[r];n[o]=parseFloat(e[t+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const zb=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function Hb(e,t){const i=e.touches,n=i&&i.length?i[0]:e,{offsetX:r,offsetY:o}=n;let a=!1,u,c;if(zb(r,o,e.target))u=r,c=o;else{const f=t.getBoundingClientRect();u=n.clientX-f.left,c=n.clientY-f.top,a=!0}return{x:u,y:c,box:a}}function ms(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:n}=t,r=il(i),o=r.boxSizing==="border-box",a=xs(r,"padding"),u=xs(r,"border","width"),{x:c,y:f,box:d}=Hb(e,i),_=a.left+(d&&u.left),b=a.top+(d&&u.top);let{width:x,height:C}=t;return o&&(x-=a.width+u.width,C-=a.height+u.height),{x:Math.round((c-_)/x*i.width/n),y:Math.round((f-b)/C*i.height/n)}}function Ub(e,t,i){let n,r;if(t===void 0||i===void 0){const o=e&&uc(e);if(!o)t=e.clientWidth,i=e.clientHeight;else{const a=o.getBoundingClientRect(),u=il(o),c=xs(u,"border","width"),f=xs(u,"padding");t=a.width-f.width-c.width,i=a.height-f.height-c.height,n=Ra(u.maxWidth,o,"clientWidth"),r=Ra(u.maxHeight,o,"clientHeight")}}return{width:t,height:i,maxWidth:n||ka,maxHeight:r||ka}}const Fn=e=>Math.round(e*10)/10;function qb(e,t,i,n){const r=il(e),o=xs(r,"margin"),a=Ra(r.maxWidth,e,"clientWidth")||ka,u=Ra(r.maxHeight,e,"clientHeight")||ka,c=Ub(e,t,i);let{width:f,height:d}=c;if(r.boxSizing==="content-box"){const b=xs(r,"border","width"),x=xs(r,"padding");f-=x.width+b.width,d-=x.height+b.height}return f=Math.max(0,f-o.width),d=Math.max(0,n?f/n:d-o.height),f=Fn(Math.min(f,a,c.maxWidth)),d=Fn(Math.min(d,u,c.maxHeight)),f&&!d&&(d=Fn(f/2)),(t!==void 0||i!==void 0)&&n&&c.height&&d>c.height&&(d=c.height,f=Fn(Math.floor(d*n))),{width:f,height:d}}function xf(e,t,i){const n=t||1,r=Fn(e.height*n),o=Fn(e.width*n);e.height=Fn(e.height),e.width=Fn(e.width);const a=e.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||a.height!==r||a.width!==o?(e.currentDevicePixelRatio=n,a.height=r,a.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Vb=(function(){let e=!1;try{const t={get passive(){return e=!0,!1}};lc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e})();function wf(e,t){const i=Nb(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const jb=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},Wb=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Ks(e,t,i){return e?jb(t,i):Wb()}function cg(e,t){let i,n;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function hg(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Go(e,t,i){return e.options.clip?e[i]:t[i]}function Zb(e,t){const{xScale:i,yScale:n}=e;return i&&n?{left:Go(i,t,"left"),right:Go(i,t,"right"),top:Go(n,t,"top"),bottom:Go(n,t,"bottom")}:t}function $b(e,t){const i=t._clip;if(i.disabled)return!1;const n=Zb(t,e.chartArea);return{left:i.left===!1?0:n.left-(i.left===!0?0:i.left),right:i.right===!1?e.width:n.right+(i.right===!0?0:i.right),top:i.top===!1?0:n.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?e.height:n.bottom+(i.bottom===!0?0:i.bottom)}}class Gb{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,n,r){const o=i.listeners[r],a=i.duration;o.forEach(u=>u({chart:t,initial:i.initial,numSteps:a,currentStep:Math.min(n-i.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Kp.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const o=n.items;let a=o.length-1,u=!1,c;for(;a>=0;--a)c=o[a],c._active?(c._total>n.duration&&(n.duration=c._total),c.tick(t),u=!0):(o[a]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,n,t,"progress")),o.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),i+=o.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){const i=this._charts;let n=i.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,n)),n}listen(t,i,n){this._getAnims(t).listeners[i].push(n)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){const i=this._charts.get(t);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){const i=this._charts.get(t);if(!i||!i.items.length)return;const n=i.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var dn=new Gb;const Ef="transparent",Yb={boolean(e,t,i){return i>.5?t:e},color(e,t,i){const n=pf(e||Ef),r=n.valid&&pf(t||Ef);return r&&r.valid?r.mix(n,i).hexString():t},number(e,t,i){return e+(t-e)*i}};class Xb{constructor(t,i,n,r){const o=i[n];r=$o([t.to,r,o,t.from]);const a=$o([t.from,o,r]);this._active=!0,this._fn=t.fn||Yb[t.type||typeof a],this._easing=Qr[t.easing]||Qr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=n,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(t,i,n){if(this._active){this._notify(!1);const r=this._target[this._prop],o=n-this._start,a=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(a,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=$o([t.to,i,r,t.from]),this._from=$o([t.from,r,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const i=t-this._start,n=this._duration,r=this._prop,o=this._from,a=this._loop,u=this._to;let c;if(this._active=o!==u&&(a||i<n),!this._active){this._target[r]=u,this._notify(!0);return}if(i<0){this._target[r]=o;return}c=i/n%2,c=a&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(o,u,c)}wait(){const t=this._promises||(this._promises=[]);return new Promise((i,n)=>{t.push({res:i,rej:n})})}_notify(t){const i=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][i]()}}class fg{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!oe(t))return;const i=Object.keys(Oe.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!oe(o))return;const a={};for(const u of i)a[u]=o[u];(Ue(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!n.has(u))&&n.set(u,a)})})}_animateOptions(t,i){const n=i.options,r=Jb(t,n);if(!r)return[];const o=this._createAnimations(r,n);return n.$shared&&Kb(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,i){const n=this._properties,r=[],o=t.$animations||(t.$animations={}),a=Object.keys(i),u=Date.now();let c;for(c=a.length-1;c>=0;--c){const f=a[c];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,i));continue}const d=i[f];let _=o[f];const b=n.get(f);if(_)if(b&&_.active()){_.update(b,d,u);continue}else _.cancel();if(!b||!b.duration){t[f]=d;continue}o[f]=_=new Xb(b,t,f,d),r.push(_)}return r}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}const n=this._createAnimations(t,i);if(n.length)return dn.add(this._chart,n),!0}}function Kb(e,t){const i=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const o=e[n[r]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function Jb(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function Sf(e,t){const i=e&&e.options||{},n=i.reverse,r=i.min===void 0?t:0,o=i.max===void 0?t:0;return{start:n?o:r,end:n?r:o}}function Qb(e,t,i){if(i===!1)return!1;const n=Sf(e,i),r=Sf(t,i);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function tx(e){let t,i,n,r;return oe(e)?(t=e.top,i=e.right,n=e.bottom,r=e.left):t=i=n=r=e,{top:t,right:i,bottom:n,left:r,disabled:e===!1}}function dg(e,t){const i=[],n=e._getSortedDatasetMetas(t);let r,o;for(r=0,o=n.length;r<o;++r)i.push(n[r].index);return i}function Af(e,t,i,n={}){const r=e.keys,o=n.mode==="single";let a,u,c,f;if(t===null)return;let d=!1;for(a=0,u=r.length;a<u;++a){if(c=+r[a],c===i){if(d=!0,n.all)continue;break}f=e.values[c],Li(f)&&(o||t===0||jn(t)===jn(f))&&(t+=f)}return!d&&!n.all?0:t}function ex(e,t){const{iScale:i,vScale:n}=t,r=i.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",a=Object.keys(e),u=new Array(a.length);let c,f,d;for(c=0,f=a.length;c<f;++c)d=a[c],u[c]={[r]:d,[o]:e[d]};return u}function tu(e,t){const i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function ix(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function nx(e){const{min:t,max:i,minDefined:n,maxDefined:r}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?i:Number.POSITIVE_INFINITY}}function sx(e,t,i){const n=e[t]||(e[t]={});return n[i]||(n[i]={})}function Cf(e,t,i,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const o=e[r.index];if(i&&o>0||!i&&o<0)return r.index}return null}function Df(e,t){const{chart:i,_cachedMeta:n}=e,r=i._stacks||(i._stacks={}),{iScale:o,vScale:a,index:u}=n,c=o.axis,f=a.axis,d=ix(o,a,n),_=t.length;let b;for(let x=0;x<_;++x){const C=t[x],{[c]:A,[f]:T}=C,Z=C._stacks||(C._stacks={});b=Z[f]=sx(r,d,A),b[u]=T,b._top=Cf(b,a,!0,n.type),b._bottom=Cf(b,a,!1,n.type);const w=b._visualValues||(b._visualValues={});w[u]=T}}function eu(e,t){const i=e.scales;return Object.keys(i).filter(n=>i[n].axis===t).shift()}function rx(e,t){return sr(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ox(e,t,i){return sr(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function Lr(e,t){const i=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const r of t){const o=r._stacks;if(!o||o[n]===void 0||o[n][i]===void 0)return;delete o[n][i],o[n]._visualValues!==void 0&&o[n]._visualValues[i]!==void 0&&delete o[n]._visualValues[i]}}}const iu=e=>e==="reset"||e==="none",Tf=(e,t)=>t?e:Object.assign({},e),ax=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:dg(i,!0),values:null};class pg{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=tu(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Lr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,i=this._cachedMeta,n=this.getDataset(),r=(_,b,x,C)=>_==="x"?b:_==="r"?C:x,o=i.xAxisID=le(n.xAxisID,eu(t,"x")),a=i.yAxisID=le(n.yAxisID,eu(t,"y")),u=i.rAxisID=le(n.rAxisID,eu(t,"r")),c=i.indexAxis,f=i.iAxisID=r(c,o,a,u),d=i.vAxisID=r(c,a,o,u);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(u),i.iScale=this.getScaleForId(f),i.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&hf(this._data,this),t._stacked&&Lr(t)}_dataCheck(){const t=this.getDataset(),i=t.data||(t.data=[]),n=this._data;if(oe(i)){const r=this._cachedMeta;this._data=ex(i,r)}else if(n!==i){if(n){hf(n,this);const r=this._cachedMeta;Lr(r),r._parsed=[]}i&&Object.isExtensible(i)&&ab(i,this),this._syncList=[],this._data=i}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const i=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const o=i._stacked;i._stacked=tu(i.vScale,i),i.stack!==n.stack&&(r=!0,Lr(i),i.stack=n.stack),this._resyncElements(t),(r||o!==i._stacked)&&(Df(this,i._parsed),i._stacked=tu(i.vScale,i))}configure(){const t=this.chart.config,i=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){const{_cachedMeta:n,_data:r}=this,{iScale:o,_stacked:a}=n,u=o.axis;let c=t===0&&i===r.length?!0:n._sorted,f=t>0&&n._parsed[t-1],d,_,b;if(this._parsing===!1)n._parsed=r,n._sorted=!0,b=r;else{Ue(r[t])?b=this.parseArrayData(n,r,t,i):oe(r[t])?b=this.parseObjectData(n,r,t,i):b=this.parsePrimitiveData(n,r,t,i);const x=()=>_[u]===null||f&&_[u]<f[u];for(d=0;d<i;++d)n._parsed[d+t]=_=b[d],c&&(x()&&(c=!1),f=_);n._sorted=c}a&&Df(this,b)}parsePrimitiveData(t,i,n,r){const{iScale:o,vScale:a}=t,u=o.axis,c=a.axis,f=o.getLabels(),d=o===a,_=new Array(r);let b,x,C;for(b=0,x=r;b<x;++b)C=b+n,_[b]={[u]:d||o.parse(f[C],C),[c]:a.parse(i[C],C)};return _}parseArrayData(t,i,n,r){const{xScale:o,yScale:a}=t,u=new Array(r);let c,f,d,_;for(c=0,f=r;c<f;++c)d=c+n,_=i[d],u[c]={x:o.parse(_[0],d),y:a.parse(_[1],d)};return u}parseObjectData(t,i,n,r){const{xScale:o,yScale:a}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=new Array(r);let d,_,b,x;for(d=0,_=r;d<_;++d)b=d+n,x=i[b],f[d]={x:o.parse(er(x,u),b),y:a.parse(er(x,c),b)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,n){const r=this.chart,o=this._cachedMeta,a=i[t.axis],u={keys:dg(r,!0),values:i._stacks[t.axis]._visualValues};return Af(u,a,o.index,{mode:n})}updateRangeFromParsed(t,i,n,r){const o=n[i.axis];let a=o===null?NaN:o;const u=r&&n._stacks[i.axis];r&&u&&(r.values=u,a=Af(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,a),t.max=Math.max(t.max,a)}getMinMax(t,i){const n=this._cachedMeta,r=n._parsed,o=n._sorted&&t===n.iScale,a=r.length,u=this._getOtherScale(t),c=ax(i,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:_}=nx(u);let b,x;function C(){x=r[b];const A=x[u.axis];return!Li(x[t.axis])||d>A||_<A}for(b=0;b<a&&!(!C()&&(this.updateRangeFromParsed(f,t,x,c),o));++b);if(o){for(b=a-1;b>=0;--b)if(!C()){this.updateRangeFromParsed(f,t,x,c);break}}return f}getAllParsedValues(t){const i=this._cachedMeta._parsed,n=[];let r,o,a;for(r=0,o=i.length;r<o;++r)a=i[r][t.axis],Li(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const i=this._cachedMeta,n=i.iScale,r=i.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const i=this._cachedMeta;this.update(t||"default"),i._clip=tx(le(this.options.clip,Qb(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this.chart,n=this._cachedMeta,r=n.data||[],o=i.chartArea,a=[],u=this._drawStart||0,c=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,o,u,c),d=u;d<u+c;++d){const _=r[d];_.hidden||(_.active&&f?a.push(_):_.draw(t,o))}for(d=0;d<a.length;++d)a[d].draw(t,o)}getStyle(t,i){const n=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,i,n){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const a=this._cachedMeta.data[t];o=a.$context||(a.$context=ox(this.getContext(),t,a)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=rx(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",n){const r=i==="active",o=this._cachedDataOpts,a=t+"-"+i,u=o[a],c=this.enableOptionSharing&&ho(n);if(u)return Tf(u,c);const f=this.chart.config,d=f.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],b=f.getOptionScopes(this.getDataset(),d),x=Object.keys(Oe.elements[t]),C=()=>this.getContext(n,r,i),A=f.resolveNamedOptions(b,x,C,_);return A.$shared&&(A.$shared=c,o[a]=Object.freeze(Tf(A,c))),A}_resolveAnimations(t,i,n){const r=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,u=o[a];if(u)return u;let c;if(r.options.animation!==!1){const d=this.chart.config,_=d.datasetAnimationScopeKeys(this._type,i),b=d.getOptionScopes(this.getDataset(),_);c=d.createResolver(b,this.getContext(t,n,i))}const f=new fg(r,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||iu(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){const n=this.resolveDataElementOptions(t,i),r=this._sharedOptions,o=this.getSharedOptions(n),a=this.includeOptions(i,o)||o!==r;return this.updateSharedOptions(o,i,n),{sharedOptions:o,includeOptions:a}}updateElement(t,i,n,r){iu(r)?Object.assign(t,n):this._resolveAnimations(i,r).update(t,n)}updateSharedOptions(t,i,n){t&&!iu(i)&&this._resolveAnimations(void 0,i).update(t,n)}_setStyle(t,i,n,r){t.active=r;const o=this.getStyle(i,r);this._resolveAnimations(i,n,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,i,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const i=this._data,n=this._cachedMeta.data;for(const[u,c,f]of this._syncList)this[u](c,f);this._syncList=[];const r=n.length,o=i.length,a=Math.min(o,r);a&&this.parse(0,a),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,i,n=!0){const r=this._cachedMeta,o=r.data,a=t+i;let u;const c=f=>{for(f.length+=i,u=f.length-1;u>=a;u--)f[u]=f[u-i]};for(c(o),u=t;u<a;++u)o[u]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(t,i),n&&this.updateElements(o,t,i,"reset")}updateElements(t,i,n,r){}_removeElements(t,i){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,i);n._stacked&&Lr(n,r)}n.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[i,n,r]=t;this[i](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function lx(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let n=[];for(let r=0,o=i.length;r<o;r++)n=n.concat(i[r].controller.getAllParsedValues(e));e._cache.$bar=Xp(n.sort((r,o)=>r-o))}return e._cache.$bar}function ux(e){const t=e.iScale,i=lx(t,e.type);let n=t._length,r,o,a,u;const c=()=>{a===32767||a===-32768||(ho(u)&&(n=Math.min(n,Math.abs(a-u)||n)),u=a)};for(r=0,o=i.length;r<o;++r)a=t.getPixelForValue(i[r]),c();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)a=t.getPixelForTick(r),c();return n}function cx(e,t,i,n){const r=i.barThickness;let o,a;return _e(r)?(o=t.min*i.categoryPercentage,a=i.barPercentage):(o=r*n,a=1),{chunk:o/n,ratio:a,start:t.pixels[e]-o/2}}function hx(e,t,i,n){const r=t.pixels,o=r[e];let a=e>0?r[e-1]:null,u=e<r.length-1?r[e+1]:null;const c=i.categoryPercentage;a===null&&(a=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-a);const f=o-(o-Math.min(a,u))/2*c;return{chunk:Math.abs(u-a)/2*c/n,ratio:i.barPercentage,start:f}}function fx(e,t,i,n){const r=i.parse(e[0],n),o=i.parse(e[1],n),a=Math.min(r,o),u=Math.max(r,o);let c=a,f=u;Math.abs(a)>Math.abs(u)&&(c=u,f=a),t[i.axis]=f,t._custom={barStart:c,barEnd:f,start:r,end:o,min:a,max:u}}function gg(e,t,i,n){return Ue(e)?fx(e,t,i,n):t[i.axis]=i.parse(e,n),t}function Pf(e,t,i,n){const r=e.iScale,o=e.vScale,a=r.getLabels(),u=r===o,c=[];let f,d,_,b;for(f=i,d=i+n;f<d;++f)b=t[f],_={},_[r.axis]=u||r.parse(a[f],f),c.push(gg(b,_,o,f));return c}function nu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function dx(e,t,i){return e!==0?jn(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function px(e){let t,i,n,r,o;return e.horizontal?(t=e.base>e.x,i="left",n="right"):(t=e.base<e.y,i="bottom",n="top"),t?(r="end",o="start"):(r="start",o="end"),{start:i,end:n,reverse:t,top:r,bottom:o}}function gx(e,t,i,n){let r=t.borderSkipped;const o={};if(!r){e.borderSkipped=o;return}if(r===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:u,reverse:c,top:f,bottom:d}=px(e);r==="middle"&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?r=f:(i._bottom||0)===n?r=d:(o[Lf(d,a,u,c)]=!0,r=f)),o[Lf(r,a,u,c)]=!0,e.borderSkipped=o}function Lf(e,t,i,n){return n?(e=mx(e,t,i),e=Mf(e,i,t)):e=Mf(e,t,i),e}function mx(e,t,i){return e===t?i:e===i?t:e}function Mf(e,t,i){return e==="start"?t:e==="end"?i:e}function _x(e,{inflateAmount:t},i){e.inflateAmount=t==="auto"?i===1?.33:0:t}class vx extends pg{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,i,n,r){return Pf(t,i,n,r)}parseArrayData(t,i,n,r){return Pf(t,i,n,r)}parseObjectData(t,i,n,r){const{iScale:o,vScale:a}=t,{xAxisKey:u="x",yAxisKey:c="y"}=this._parsing,f=o.axis==="x"?u:c,d=a.axis==="x"?u:c,_=[];let b,x,C,A;for(b=n,x=n+r;b<x;++b)A=i[b],C={},C[o.axis]=o.parse(er(A,f),b),_.push(gg(er(A,d),C,a,b));return _}updateRangeFromParsed(t,i,n,r){super.updateRangeFromParsed(t,i,n,r);const o=n._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const i=this._cachedMeta,{iScale:n,vScale:r}=i,o=this.getParsed(t),a=o._custom,u=nu(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,n,r){const o=r==="reset",{index:a,_cachedMeta:{vScale:u}}=this,c=u.getBasePixel(),f=u.isHorizontal(),d=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(i,r);for(let x=i;x<i+n;x++){const C=this.getParsed(x),A=o||_e(C[u.axis])?{base:c,head:c}:this._calculateBarValuePixels(x),T=this._calculateBarIndexPixels(x,d),Z=(C._stacks||{})[u.axis],w={horizontal:f,base:A.base,enableBorderRadius:!Z||nu(C._custom)||a===Z._top||a===Z._bottom,x:f?A.head:T.center,y:f?T.center:A.head,height:f?T.size:Math.abs(A.size),width:f?Math.abs(A.size):T.size};b&&(w.options=_||this.resolveDataElementOptions(x,t[x].active?"active":r));const F=w.options||t[x].options;gx(w,F,Z,a),_x(w,F,d.ratio),this.updateElement(t[x],x,w,r)}}_getStacks(t,i){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),o=n.options.stacked,a=[],u=this._cachedMeta.controller.getParsed(i),c=u&&u[n.axis],f=d=>{const _=d._parsed.find(x=>x[n.axis]===c),b=_&&_[d.vScale.axis];if(_e(b)||isNaN(b))return!0};for(const d of r)if(!(i!==void 0&&f(d))&&((o===!1||a.indexOf(d.stack)===-1||o===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(t).filter(n=>t[n].axis===i).shift()}_getAxis(){const t={},i=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)t[le(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,i)]=!0;return Object.keys(t)}_getStackIndex(t,i,n){const r=this._getStacks(t,n),o=i!==void 0?r.indexOf(i):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,i=this._cachedMeta,n=i.iScale,r=[];let o,a;for(o=0,a=i.data.length;o<a;++o)r.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const u=t.barThickness;return{min:u||ux(i),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:i,_stacked:n,index:r},options:{base:o,minBarLength:a}}=this,u=o||0,c=this.getParsed(t),f=c._custom,d=nu(f);let _=c[i.axis],b=0,x=n?this.applyStack(i,c,n):_,C,A;x!==_&&(b=x-_,x=_),d&&(_=f.barStart,x=f.barEnd-f.barStart,_!==0&&jn(_)!==jn(f.barEnd)&&(b=0),b+=_);const T=!_e(o)&&!d?o:b;let Z=i.getPixelForValue(T);if(this.chart.getDataVisibility(t)?C=i.getPixelForValue(b+x):C=Z,A=C-Z,Math.abs(A)<a){A=dx(A,i,u)*a,_===u&&(Z-=A/2);const w=i.getPixelForDecimal(0),F=i.getPixelForDecimal(1),k=Math.min(w,F),P=Math.max(w,F);Z=Math.max(Math.min(Z,P),k),C=Z+A,n&&!d&&(c._stacks[i.axis]._visualValues[r]=i.getValueForPixel(C)-i.getValueForPixel(Z))}if(Z===i.getPixelForValue(u)){const w=jn(A)*i.getLineWidthForValue(u)/2;Z+=w,A-=w}return{size:A,base:Z,head:C,center:C+A/2}}_calculateBarIndexPixels(t,i){const n=i.scale,r=this.options,o=r.skipNull,a=le(r.maxBarThickness,1/0);let u,c;const f=this._getAxisCount();if(i.grouped){const d=o?this._getStackCount(t):i.stackCount,_=r.barThickness==="flex"?hx(t,i,r,d*f):cx(t,i,r,d*f),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(le(b,this.getFirstScaleIdForIndexAxis())),C=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+x;u=_.start+_.chunk*C+_.chunk/2,c=Math.min(a,_.chunk*_.ratio)}else u=n.getPixelForValue(this.getParsed(t)[n.axis],t),c=Math.min(a,i.min*i.ratio);return{base:u-c/2,head:u+c/2,center:u,size:c}}draw(){const t=this._cachedMeta,i=t.vScale,n=t.data,r=n.length;let o=0;for(;o<r;++o)this.getParsed(o)[i.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}function ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cc{static override(t){Object.assign(cc.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ds()}parse(){return ds()}format(){return ds()}add(){return ds()}diff(){return ds()}startOf(){return ds()}endOf(){return ds()}}var yx={_date:cc};function bx(e,t,i,n){const{controller:r,data:o,_sorted:a}=e,u=r._cachedMeta.iScale,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&a&&o.length){const f=u._reversePixels?rb:Tu;if(n){if(r._sharedOptions){const d=o[0],_=typeof d.getRange=="function"&&d.getRange(t);if(_){const b=f(o,t,i-_),x=f(o,t,i+_);return{lo:b.lo,hi:x.hi}}}}else{const d=f(o,t,i);if(c){const{vScale:_}=r._cachedMeta,{_parsed:b}=e,x=b.slice(0,d.lo+1).reverse().findIndex(A=>!_e(A[_.axis]));d.lo-=Math.max(0,x);const C=b.slice(d.hi).findIndex(A=>!_e(A[_.axis]));d.hi+=Math.max(0,C)}return d}}return{lo:0,hi:o.length-1}}function nl(e,t,i,n,r){const o=e.getSortedVisibleDatasetMetas(),a=i[t];for(let u=0,c=o.length;u<c;++u){const{index:f,data:d}=o[u],{lo:_,hi:b}=bx(o[u],t,a,r);for(let x=_;x<=b;++x){const C=d[x];C.skip||n(C,f,x)}}}function xx(e){const t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(n,r){const o=t?Math.abs(n.x-r.x):0,a=i?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}function su(e,t,i,n,r){const o=[];return!r&&!e.isPointInArea(t)||nl(e,i,t,function(u,c,f){!r&&!ng(u,e.chartArea,0)||u.inRange(t.x,t.y,n)&&o.push({element:u,datasetIndex:c,index:f})},!0),o}function wx(e,t,i,n){let r=[];function o(a,u,c){const{startAngle:f,endAngle:d}=a.getProps(["startAngle","endAngle"],n),{angle:_}=eb(a,{x:t.x,y:t.y});nb(_,f,d)&&r.push({element:a,datasetIndex:u,index:c})}return nl(e,i,t,o),r}function Ex(e,t,i,n,r,o){let a=[];const u=xx(i);let c=Number.POSITIVE_INFINITY;function f(d,_,b){const x=d.inRange(t.x,t.y,r);if(n&&!x)return;const C=d.getCenterPoint(r);if(!(!!o||e.isPointInArea(C))&&!x)return;const T=u(t,C);T<c?(a=[{element:d,datasetIndex:_,index:b}],c=T):T===c&&a.push({element:d,datasetIndex:_,index:b})}return nl(e,i,t,f),a}function ru(e,t,i,n,r,o){return!o&&!e.isPointInArea(t)?[]:i==="r"&&!n?wx(e,t,i,r):Ex(e,t,i,n,r,o)}function kf(e,t,i,n,r){const o=[],a=i==="x"?"inXRange":"inYRange";let u=!1;return nl(e,i,t,(c,f,d)=>{c[a]&&c[a](t[i],r)&&(o.push({element:c,datasetIndex:f,index:d}),u=u||c.inRange(t.x,t.y,r))}),n&&!u?[]:o}var Sx={modes:{index(e,t,i,n){const r=ms(t,e),o=i.axis||"x",a=i.includeInvisible||!1,u=i.intersect?su(e,r,o,n,a):ru(e,r,o,!1,n,a),c=[];return u.length?(e.getSortedVisibleDatasetMetas().forEach(f=>{const d=u[0].index,_=f.data[d];_&&!_.skip&&c.push({element:_,datasetIndex:f.index,index:d})}),c):[]},dataset(e,t,i,n){const r=ms(t,e),o=i.axis||"xy",a=i.includeInvisible||!1;let u=i.intersect?su(e,r,o,n,a):ru(e,r,o,!1,n,a);if(u.length>0){const c=u[0].datasetIndex,f=e.getDatasetMeta(c).data;u=[];for(let d=0;d<f.length;++d)u.push({element:f[d],datasetIndex:c,index:d})}return u},point(e,t,i,n){const r=ms(t,e),o=i.axis||"xy",a=i.includeInvisible||!1;return su(e,r,o,n,a)},nearest(e,t,i,n){const r=ms(t,e),o=i.axis||"xy",a=i.includeInvisible||!1;return ru(e,r,o,i.intersect,n,a)},x(e,t,i,n){const r=ms(t,e);return kf(e,r,"x",i.intersect,n)},y(e,t,i,n){const r=ms(t,e);return kf(e,r,"y",i.intersect,n)}}};const mg=["left","top","right","bottom"];function Mr(e,t){return e.filter(i=>i.pos===t)}function Of(e,t){return e.filter(i=>mg.indexOf(i.pos)===-1&&i.box.axis===t)}function kr(e,t){return e.sort((i,n)=>{const r=t?n:i,o=t?i:n;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function Ax(e){const t=[];let i,n,r,o,a,u;for(i=0,n=(e||[]).length;i<n;++i)r=e[i],{position:o,options:{stack:a,stackWeight:u=1}}=r,t.push({index:i,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&o+a,stackWeight:u});return t}function Cx(e){const t={};for(const i of e){const{stack:n,pos:r,stackWeight:o}=i;if(!n||!mg.includes(r))continue;const a=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=o}return t}function Dx(e,t){const i=Cx(e),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let o,a,u;for(o=0,a=e.length;o<a;++o){u=e[o];const{fullSize:c}=u.box,f=i[u.stack],d=f&&u.stackWeight/f.weight;u.horizontal?(u.width=d?d*n:c&&t.availableWidth,u.height=r):(u.width=n,u.height=d?d*r:c&&t.availableHeight)}return i}function Tx(e){const t=Ax(e),i=kr(t.filter(f=>f.box.fullSize),!0),n=kr(Mr(t,"left"),!0),r=kr(Mr(t,"right")),o=kr(Mr(t,"top"),!0),a=kr(Mr(t,"bottom")),u=Of(t,"x"),c=Of(t,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:r.concat(c).concat(a).concat(u),chartArea:Mr(t,"chartArea"),vertical:n.concat(r).concat(c),horizontal:o.concat(a).concat(u)}}function If(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function _g(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Px(e,t,i,n){const{pos:r,box:o}=i,a=e.maxPadding;if(!oe(r)){i.size&&(e[r]-=i.size);const _=n[i.stack]||{size:0,count:1};_.size=Math.max(_.size,i.horizontal?o.height:o.width),i.size=_.size/_.count,e[r]+=i.size}o.getPadding&&_g(a,o.getPadding());const u=Math.max(0,t.outerWidth-If(a,e,"left","right")),c=Math.max(0,t.outerHeight-If(a,e,"top","bottom")),f=u!==e.w,d=c!==e.h;return e.w=u,e.h=c,i.horizontal?{same:f,other:d}:{same:d,other:f}}function Lx(e){const t=e.maxPadding;function i(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function Mx(e,t){const i=t.maxPadding;function n(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(a=>{o[a]=Math.max(t[a],i[a])}),o}return n(e?["left","right"]:["top","bottom"])}function qr(e,t,i,n){const r=[];let o,a,u,c,f,d;for(o=0,a=e.length,f=0;o<a;++o){u=e[o],c=u.box,c.update(u.width||t.w,u.height||t.h,Mx(u.horizontal,t));const{same:_,other:b}=Px(t,i,u,n);f|=_&&r.length,d=d||b,c.fullSize||r.push(u)}return f&&qr(r,t,i,n)||d}function Yo(e,t,i,n,r){e.top=i,e.left=t,e.right=t+n,e.bottom=i+r,e.width=n,e.height=r}function Rf(e,t,i,n){const r=i.padding;let{x:o,y:a}=t;for(const u of e){const c=u.box,f=n[u.stack]||{placed:0,weight:1},d=u.stackWeight/f.weight||1;if(u.horizontal){const _=t.w*d,b=f.size||c.height;ho(f.start)&&(a=f.start),c.fullSize?Yo(c,r.left,a,i.outerWidth-r.right-r.left,b):Yo(c,t.left+f.placed,a,_,b),f.start=a,f.placed+=_,a=c.bottom}else{const _=t.h*d,b=f.size||c.width;ho(f.start)&&(o=f.start),c.fullSize?Yo(c,o,r.top,b,i.outerHeight-r.bottom-r.top):Yo(c,o,t.top+f.placed,b,_),f.start=o,f.placed+=_,o=c.right}}t.x=o,t.y=a}var Pi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;const r=Mi(e.options.layout.padding),o=Math.max(t-r.width,0),a=Math.max(i-r.height,0),u=Tx(e.boxes),c=u.vertical,f=u.horizontal;fe(e.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const d=c.reduce((A,T)=>T.box.options&&T.box.options.display===!1?A:A+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:i,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/d,hBoxMaxHeight:a/2}),b=Object.assign({},r);_g(b,Mi(n));const x=Object.assign({maxPadding:b,w:o,h:a,x:r.left,y:r.top},r),C=Dx(c.concat(f),_);qr(u.fullSize,x,_,C),qr(c,x,_,C),qr(f,x,_,C)&&qr(c,x,_,C),Lx(x),Rf(u.leftAndTop,x,_,C),x.x+=x.w,x.y+=x.h,Rf(u.rightAndBottom,x,_,C),e.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},fe(u.chartArea,A=>{const T=A.box;Object.assign(T,e.chartArea),T.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class vg{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,n){}removeEventListener(t,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,n,r){return i=Math.max(0,i||t.width),n=n||t.height,{width:i,height:Math.max(0,r?Math.floor(i/r):n)}}isAttached(t){return!0}updateConfig(t){}}class kx extends vg{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ca="$chartjs",Ox={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Bf=e=>e===null||e==="";function Ix(e,t){const i=e.style,n=e.getAttribute("height"),r=e.getAttribute("width");if(e[ca]={initial:{height:n,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Bf(r)){const o=wf(e,"width");o!==void 0&&(e.width=o)}if(Bf(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=wf(e,"height");o!==void 0&&(e.height=o)}return e}const yg=Vb?{passive:!0}:!1;function Rx(e,t,i){e&&e.addEventListener(t,i,yg)}function Bx(e,t,i){e&&e.canvas&&e.canvas.removeEventListener(t,i,yg)}function Nx(e,t){const i=Ox[e.type]||e.type,{x:n,y:r}=ms(e,t);return{type:i,chart:t,native:e,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Ba(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function Fx(e,t,i){const n=e.canvas,r=new MutationObserver(o=>{let a=!1;for(const u of o)a=a||Ba(u.addedNodes,n),a=a&&!Ba(u.removedNodes,n);a&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}function zx(e,t,i){const n=e.canvas,r=new MutationObserver(o=>{let a=!1;for(const u of o)a=a||Ba(u.removedNodes,n),a=a&&!Ba(u.addedNodes,n);a&&i()});return r.observe(document,{childList:!0,subtree:!0}),r}const po=new Map;let Nf=0;function bg(){const e=window.devicePixelRatio;e!==Nf&&(Nf=e,po.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function Hx(e,t){po.size||window.addEventListener("resize",bg),po.set(e,t)}function Ux(e){po.delete(e),po.size||window.removeEventListener("resize",bg)}function qx(e,t,i){const n=e.canvas,r=n&&uc(n);if(!r)return;const o=Jp((u,c)=>{const f=r.clientWidth;i(u,c),f<r.clientWidth&&i()},window),a=new ResizeObserver(u=>{const c=u[0],f=c.contentRect.width,d=c.contentRect.height;f===0&&d===0||o(f,d)});return a.observe(r),Hx(e,o),a}function ou(e,t,i){i&&i.disconnect(),t==="resize"&&Ux(e)}function Vx(e,t,i){const n=e.canvas,r=Jp(o=>{e.ctx!==null&&i(Nx(o,e))},e);return Rx(n,t,r),r}class jx extends vg{acquireContext(t,i){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Ix(t,i),n):null}releaseContext(t){const i=t.canvas;if(!i[ca])return!1;const n=i[ca].initial;["height","width"].forEach(o=>{const a=n[o];_e(a)?i.removeAttribute(o):i.setAttribute(o,a)});const r=n.style||{};return Object.keys(r).forEach(o=>{i.style[o]=r[o]}),i.width=i.width,delete i[ca],!0}addEventListener(t,i,n){this.removeEventListener(t,i);const r=t.$proxies||(t.$proxies={}),a={attach:Fx,detach:zx,resize:qx}[i]||Vx;r[i]=a(t,i,n)}removeEventListener(t,i){const n=t.$proxies||(t.$proxies={}),r=n[i];if(!r)return;({attach:ou,detach:ou,resize:ou}[i]||Bx)(t,i,r),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,n,r){return qb(t,i,n,r)}isAttached(t){const i=t&&uc(t);return!!(i&&i.isConnected)}}function Wx(e){return!lc()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?kx:jx}let rr=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}hasValue(){return Oa(this.x)&&Oa(this.y)}getProps(t,i){const n=this.$animations;if(!i||!n)return this;const r={};return t.forEach(o=>{r[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),r}};function Zx(e,t){const i=e.options.ticks,n=$x(e),r=Math.min(i.maxTicksLimit||n,n),o=i.major.enabled?Yx(t):[],a=o.length,u=o[0],c=o[a-1],f=[];if(a>r)return Xx(t,f,o,a/r),f;const d=Gx(o,t,r);if(a>0){let _,b;const x=a>1?Math.round((c-u)/(a-1)):null;for(Xo(t,f,d,_e(x)?0:u-x,u),_=0,b=a-1;_<b;_++)Xo(t,f,d,o[_],o[_+1]);return Xo(t,f,d,c,_e(x)?t.length:c+x),f}return Xo(t,f,d),f}function $x(e){const t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),r=e._maxLength/i;return Math.floor(Math.min(n,r))}function Gx(e,t,i){const n=Kx(e),r=t.length/i;if(!n)return Math.max(r,1);const o=X2(n);for(let a=0,u=o.length-1;a<u;a++){const c=o[a];if(c>r)return c}return Math.max(r,1)}function Yx(e){const t=[];let i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}function Xx(e,t,i,n){let r=0,o=i[0],a;for(n=Math.ceil(n),a=0;a<e.length;a++)a===o&&(t.push(e[a]),r++,o=i[r*n])}function Xo(e,t,i,n,r){const o=le(n,0),a=Math.min(le(r,e.length),e.length);let u=0,c,f,d;for(i=Math.ceil(i),r&&(c=r-n,i=c/Math.floor(c/i)),d=o;d<0;)u++,d=Math.round(o+u*i);for(f=Math.max(o,0);f<a;f++)f===d&&(t.push(e[f]),u++,d=Math.round(o+u*i))}function Kx(e){const t=e.length;let i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}const Jx=e=>e==="left"?"right":e==="right"?"left":e,Ff=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i,zf=(e,t)=>Math.min(t||e,e);function Hf(e,t){const i=[],n=e.length/t,r=e.length;let o=0;for(;o<r;o+=n)i.push(e[Math.floor(o)]);return i}function Qx(e,t,i){const n=e.ticks.length,r=Math.min(t,n-1),o=e._startPixel,a=e._endPixel,u=1e-6;let c=e.getPixelForTick(r),f;if(!(i&&(n===1?f=Math.max(c-o,a-c):t===0?f=(e.getPixelForTick(1)-c)/2:f=(c-e.getPixelForTick(r-1))/2,c+=r<t?f:-f,c<o-u||c>a+u)))return c}function t1(e,t){fe(e,i=>{const n=i.gc,r=n.length/2;let o;if(r>t){for(o=0;o<r;++o)delete i.data[n[o]];n.splice(0,r)}})}function Or(e){return e.drawTicks?e.tickLength:0}function Uf(e,t){if(!e.display)return 0;const i=ei(e.font,t),n=Mi(e.padding);return(Ue(e.text)?e.text.length:1)*i.lineHeight+n.height}function e1(e,t){return sr(e,{scale:t,type:"scale"})}function i1(e,t,i){return sr(e,{tick:i,index:t,type:"tick"})}function n1(e,t,i){let n=ic(e);return(i&&t!=="right"||!i&&t==="right")&&(n=Jx(n)),n}function s1(e,t,i,n){const{top:r,left:o,bottom:a,right:u,chart:c}=e,{chartArea:f,scales:d}=c;let _=0,b,x,C;const A=a-r,T=u-o;if(e.isHorizontal()){if(x=Xe(n,o,u),oe(i)){const Z=Object.keys(i)[0],w=i[Z];C=d[Z].getPixelForValue(w)+A-t}else i==="center"?C=(f.bottom+f.top)/2+A-t:C=Ff(e,i,t);b=u-o}else{if(oe(i)){const Z=Object.keys(i)[0],w=i[Z];x=d[Z].getPixelForValue(w)-T+t}else i==="center"?x=(f.left+f.right)/2-T+t:x=Ff(e,i,t);C=Xe(n,a,r),_=i==="left"?-Ni:Ni}return{titleX:x,titleY:C,maxWidth:b,rotation:_}}class or extends rr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:n,_suggestedMax:r}=this;return t=Yi(t,Number.POSITIVE_INFINITY),i=Yi(i,Number.NEGATIVE_INFINITY),n=Yi(n,Number.POSITIVE_INFINITY),r=Yi(r,Number.NEGATIVE_INFINITY),{min:Yi(t,n),max:Yi(i,r),minDefined:Li(t),maxDefined:Li(i)}}getMinMax(t){let{min:i,max:n,minDefined:r,maxDefined:o}=this.getUserBounds(),a;if(r&&o)return{min:i,max:n};const u=this.getMatchingVisibleMetas();for(let c=0,f=u.length;c<f;++c)a=u[c].controller.getMinMax(this,t),r||(i=Math.min(i,a.min)),o||(n=Math.max(n,a.max));return i=o&&i>n?n:i,n=r&&i>n?i:n,{min:Yi(i,Yi(n,i)),max:Yi(n,Yi(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(t,i,n){const{beginAtZero:r,grace:o,ticks:a}=this.options,u=a.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Db(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=u<this.ticks.length;this._convertTicksToLabels(c?Hf(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=Zx(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,t=!t),this._startPixel=i,this._endPixel=n,this._reversePixels=t,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),xe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const i=this.options.ticks;let n,r,o;for(n=0,r=t.length;n<r;n++)o=t[n],o.label=xe(i.callback,[o.value,n,t],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,i=t.ticks,n=zf(this.ticks.length,t.ticks.maxTicksLimit),r=i.minRotation||0,o=i.maxRotation;let a=r,u,c,f;if(!this._isVisible()||!i.display||r>=o||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),_=d.widest.width,b=d.highest.height,x=Fi(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/n:x/(n-1),_+6>u&&(u=x/(n-(t.offset?.5:1)),c=this.maxHeight-Or(t.grid)-i.padding-Uf(t.title,this.chart.options.font),f=Math.sqrt(_*_+b*b),a=tb(Math.min(Math.asin(Fi((d.highest.height+6)/u,-1,1)),Math.asin(Fi(c/f,-1,1))-Math.asin(Fi(b/f,-1,1)))),a=Math.max(r,Math.min(o,a))),this.labelRotation=a}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:i,options:{ticks:n,title:r,grid:o}}=this,a=this._isVisible(),u=this.isHorizontal();if(a){const c=Uf(r,i.options.font);if(u?(t.width=this.maxWidth,t.height=Or(o)+c):(t.height=this.maxHeight,t.width=Or(o)+c),n.display&&this.ticks.length){const{first:f,last:d,widest:_,highest:b}=this._getLabelSizes(),x=n.padding*2,C=_s(this.labelRotation),A=Math.cos(C),T=Math.sin(C);if(u){const Z=n.mirror?0:T*_.width+A*b.height;t.height=Math.min(this.maxHeight,t.height+Z+x)}else{const Z=n.mirror?0:A*_.width+T*b.height;t.width=Math.min(this.maxWidth,t.width+Z+x)}this._calculatePadding(f,d,T,A)}}this._handleMargins(),u?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,n,r){const{ticks:{align:o,padding:a},position:u}=this.options,c=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,x=0;c?f?(b=r*t.width,x=n*i.height):(b=n*t.height,x=r*i.width):o==="start"?x=i.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,x=i.width/2),this.paddingLeft=Math.max((b-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((x-_+a)*this.width/(this.width-_),0)}else{let d=i.height/2,_=t.height/2;o==="start"?(d=0,_=t.height):o==="end"&&(d=i.height,_=0),this.paddingTop=d+a,this.paddingBottom=_+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,n;for(i=0,n=t.length;i<n;i++)_e(t[i].label)&&(t.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const i=this.options.ticks.sampleSize;let n=this.ticks;i<n.length&&(n=Hf(n,i)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,i,n){const{ctx:r,_longestTextCache:o}=this,a=[],u=[],c=Math.floor(i/zf(i,n));let f=0,d=0,_,b,x,C,A,T,Z,w,F,k,P;for(_=0;_<i;_+=c){if(C=t[_].label,A=this._resolveTickFontOptions(_),r.font=T=A.string,Z=o[T]=o[T]||{data:{},gc:[]},w=A.lineHeight,F=k=0,!_e(C)&&!Ue(C))F=mf(r,Z.data,Z.gc,F,C),k=w;else if(Ue(C))for(b=0,x=C.length;b<x;++b)P=C[b],!_e(P)&&!Ue(P)&&(F=mf(r,Z.data,Z.gc,F,P),k+=w);a.push(F),u.push(k),f=Math.max(F,f),d=Math.max(k,d)}t1(o,i);const j=a.indexOf(f),q=u.indexOf(d),m=p=>({width:a[p]||0,height:u[p]||0});return{first:m(0),last:m(i-1),widest:m(j),highest:m(q),widths:a,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const i=this._startPixel+t*this._length;return sb(this._alignToPixels?fs(this.chart,i,0):i)}getDecimalForPixel(t){const i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){const i=this.ticks||[];if(t>=0&&t<i.length){const n=i[t];return n.$context||(n.$context=i1(this.getContext(),t,n))}return this.$context||(this.$context=e1(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,i=_s(this.labelRotation),n=Math.abs(Math.cos(i)),r=Math.abs(Math.sin(i)),o=this._getLabelSizes(),a=t.autoSkipPadding||0,u=o?o.widest.width+a:0,c=o?o.highest.height+a:0;return this.isHorizontal()?c*n>u*r?u/n:c/r:c*r<u*n?c/n:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const i=this.axis,n=this.chart,r=this.options,{grid:o,position:a,border:u}=r,c=o.offset,f=this.isHorizontal(),_=this.ticks.length+(c?1:0),b=Or(o),x=[],C=u.setContext(this.getContext()),A=C.display?C.width:0,T=A/2,Z=function(z){return fs(n,z,A)};let w,F,k,P,j,q,m,p,v,S,E,O;if(a==="top")w=Z(this.bottom),q=this.bottom-b,p=w-T,S=Z(t.top)+T,O=t.bottom;else if(a==="bottom")w=Z(this.top),S=t.top,O=Z(t.bottom)-T,q=w+T,p=this.top+b;else if(a==="left")w=Z(this.right),j=this.right-b,m=w-T,v=Z(t.left)+T,E=t.right;else if(a==="right")w=Z(this.left),v=t.left,E=Z(t.right)-T,j=w+T,m=this.left+b;else if(i==="x"){if(a==="center")w=Z((t.top+t.bottom)/2+.5);else if(oe(a)){const z=Object.keys(a)[0],B=a[z];w=Z(this.chart.scales[z].getPixelForValue(B))}S=t.top,O=t.bottom,q=w+T,p=q+b}else if(i==="y"){if(a==="center")w=Z((t.left+t.right)/2);else if(oe(a)){const z=Object.keys(a)[0],B=a[z];w=Z(this.chart.scales[z].getPixelForValue(B))}j=w-T,m=j-b,v=t.left,E=t.right}const G=le(r.ticks.maxTicksLimit,_),V=Math.max(1,Math.ceil(_/G));for(F=0;F<_;F+=V){const z=this.getContext(F),B=o.setContext(z),R=u.setContext(z),X=B.lineWidth,Q=B.color,H=R.dash||[],nt=R.dashOffset,rt=B.tickWidth,ft=B.tickColor,lt=B.tickBorderDash||[],ct=B.tickBorderDashOffset;k=Qx(this,F,c),k!==void 0&&(P=fs(n,k,X),f?j=m=v=E=P:q=p=S=O=P,x.push({tx1:j,ty1:q,tx2:m,ty2:p,x1:v,y1:S,x2:E,y2:O,width:X,color:Q,borderDash:H,borderDashOffset:nt,tickWidth:rt,tickColor:ft,tickBorderDash:lt,tickBorderDashOffset:ct}))}return this._ticksLength=_,this._borderValue=w,x}_computeLabelItems(t){const i=this.axis,n=this.options,{position:r,ticks:o}=n,a=this.isHorizontal(),u=this.ticks,{align:c,crossAlign:f,padding:d,mirror:_}=o,b=Or(n.grid),x=b+d,C=_?-d:x,A=-_s(this.labelRotation),T=[];let Z,w,F,k,P,j,q,m,p,v,S,E,O="middle";if(r==="top")j=this.bottom-C,q=this._getXAxisLabelAlignment();else if(r==="bottom")j=this.top+C,q=this._getXAxisLabelAlignment();else if(r==="left"){const V=this._getYAxisLabelAlignment(b);q=V.textAlign,P=V.x}else if(r==="right"){const V=this._getYAxisLabelAlignment(b);q=V.textAlign,P=V.x}else if(i==="x"){if(r==="center")j=(t.top+t.bottom)/2+x;else if(oe(r)){const V=Object.keys(r)[0],z=r[V];j=this.chart.scales[V].getPixelForValue(z)+x}q=this._getXAxisLabelAlignment()}else if(i==="y"){if(r==="center")P=(t.left+t.right)/2-x;else if(oe(r)){const V=Object.keys(r)[0],z=r[V];P=this.chart.scales[V].getPixelForValue(z)}q=this._getYAxisLabelAlignment(b).textAlign}i==="y"&&(c==="start"?O="top":c==="end"&&(O="bottom"));const G=this._getLabelSizes();for(Z=0,w=u.length;Z<w;++Z){F=u[Z],k=F.label;const V=o.setContext(this.getContext(Z));m=this.getPixelForTick(Z)+o.labelOffset,p=this._resolveTickFontOptions(Z),v=p.lineHeight,S=Ue(k)?k.length:1;const z=S/2,B=V.color,R=V.textStrokeColor,X=V.textStrokeWidth;let Q=q;a?(P=m,q==="inner"&&(Z===w-1?Q=this.options.reverse?"left":"right":Z===0?Q=this.options.reverse?"right":"left":Q="center"),r==="top"?f==="near"||A!==0?E=-S*v+v/2:f==="center"?E=-G.highest.height/2-z*v+v:E=-G.highest.height+v/2:f==="near"||A!==0?E=v/2:f==="center"?E=G.highest.height/2-z*v:E=G.highest.height-S*v,_&&(E*=-1),A!==0&&!V.showLabelBackdrop&&(P+=v/2*Math.sin(A))):(j=m,E=(1-S)*v/2);let H;if(V.showLabelBackdrop){const nt=Mi(V.backdropPadding),rt=G.heights[Z],ft=G.widths[Z];let lt=E-nt.top,ct=0-nt.left;switch(O){case"middle":lt-=rt/2;break;case"bottom":lt-=rt;break}switch(q){case"center":ct-=ft/2;break;case"right":ct-=ft;break;case"inner":Z===w-1?ct-=ft:Z>0&&(ct-=ft/2);break}H={left:ct,top:lt,width:ft+nt.width,height:rt+nt.height,color:V.backdropColor}}T.push({label:k,font:p,textOffset:E,options:{rotation:A,color:B,strokeColor:R,strokeWidth:X,textAlign:Q,textBaseline:O,translation:[P,j],backdrop:H}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:i}=this.options;if(-_s(this.labelRotation))return t==="top"?"left":"right";let r="center";return i.align==="start"?r="left":i.align==="end"?r="right":i.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:i,ticks:{crossAlign:n,mirror:r,padding:o}}=this.options,a=this._getLabelSizes(),u=t+o,c=a.widest.width;let f,d;return i==="left"?r?(d=this.right+o,n==="near"?f="left":n==="center"?(f="center",d+=c/2):(f="right",d+=c)):(d=this.right-u,n==="near"?f="right":n==="center"?(f="center",d-=c/2):(f="left",d=this.left)):i==="right"?r?(d=this.left+o,n==="near"?f="right":n==="center"?(f="center",d-=c/2):(f="left",d-=c)):(d=this.left+u,n==="near"?f="left":n==="center"?(f="center",d+=c/2):(f="right",d=this.right)):f="right",{textAlign:f,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:i},left:n,top:r,width:o,height:a}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(n,r,o,a),t.restore())}getLineWidthForValue(t){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?i.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const i=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,a;const u=(c,f,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(c.x,c.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(i.display)for(o=0,a=r.length;o<a;++o){const c=r[o];i.drawOnChartArea&&u({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),i.drawTicks&&u({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:i,options:{border:n,grid:r}}=this,o=n.setContext(this.getContext()),a=n.display?o.width:0;if(!a)return;const u=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let f,d,_,b;this.isHorizontal()?(f=fs(t,this.left,a)-a/2,d=fs(t,this.right,u)+u/2,_=b=c):(_=fs(t,this.top,a)-a/2,b=fs(t,this.bottom,u)+u/2,f=d=c),i.save(),i.lineWidth=o.width,i.strokeStyle=o.color,i.beginPath(),i.moveTo(f,_),i.lineTo(d,b),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&nc(n,r);const o=this.getLabelItems(t);for(const a of o){const u=a.options,c=a.font,f=a.label,d=a.textOffset;fo(n,f,0,d,c,u)}r&&sc(n)}drawTitle(){const{ctx:t,options:{position:i,title:n,reverse:r}}=this;if(!n.display)return;const o=ei(n.font),a=Mi(n.padding),u=n.align;let c=o.lineHeight/2;i==="bottom"||i==="center"||oe(i)?(c+=a.bottom,Ue(n.text)&&(c+=o.lineHeight*(n.text.length-1))):c+=a.top;const{titleX:f,titleY:d,maxWidth:_,rotation:b}=s1(this,c,i,u);fo(t,n.text,0,0,o,{color:n.color,maxWidth:_,rotation:b,textAlign:n1(u,i,r),textBaseline:"middle",translation:[f,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,i=t.ticks&&t.ticks.z||0,n=le(t.grid&&t.grid.z,-1),r=le(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==or.prototype.draw?[{z:i,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:i,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let o,a;for(o=0,a=i.length;o<a;++o){const u=i[o];u[n]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const i=this.options.ticks.setContext(this.getContext(t));return ei(i.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Ko{constructor(t,i,n){this.type=t,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const i=Object.getPrototypeOf(t);let n;a1(i)&&(n=this.register(i));const r=this.items,o=t.id,a=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,r1(t,a,n),this.override&&Oe.override(t.id,t.overrides)),a}get(t){return this.items[t]}unregister(t){const i=this.items,n=t.id,r=this.scope;n in i&&delete i[n],r&&n in Oe[r]&&(delete Oe[r][n],this.override&&delete ws[n])}}function r1(e,t,i){const n=co(Object.create(null),[i?Oe.get(i):{},Oe.get(t),e.defaults]);Oe.set(t,n),e.defaultRoutes&&o1(t,e.defaultRoutes),e.descriptors&&Oe.describe(t,e.descriptors)}function o1(e,t){Object.keys(t).forEach(i=>{const n=i.split("."),r=n.pop(),o=[e].concat(n).join("."),a=t[i].split("."),u=a.pop(),c=a.join(".");Oe.route(o,r,c,u)})}function a1(e){return"id"in e&&"defaults"in e}class l1{constructor(){this.controllers=new Ko(pg,"datasets",!0),this.elements=new Ko(rr,"elements"),this.plugins=new Ko(Object,"plugins"),this.scales=new Ko(or,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,n){[...i].forEach(r=>{const o=n||this._getRegistryForType(r);n||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):fe(r,a=>{const u=n||this._getRegistryForType(a);this._exec(t,u,a)})})}_exec(t,i,n){const r=tc(t);xe(n["before"+r],[],n),i[t](n),xe(n["after"+r],[],n)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){const n=this._typedRegistries[i];if(n.isForType(t))return n}return this.plugins}_get(t,i,n){const r=i.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var Ji=new l1;class u1{constructor(){this._init=void 0}notify(t,i,n,r){if(i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),a=this._notify(o,t,i,n);return i==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),a}_notify(t,i,n,r){r=r||{};for(const o of t){const a=o.plugin,u=a[n],c=[i,r,o.options];if(xe(u,c,a)===!1&&r.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){const n=t&&t.config,r=le(n.options&&n.options.plugins,{}),o=c1(n);return r===!1&&!i?[]:f1(t,o,r,i)}_notifyStateChanges(t){const i=this._oldCache||[],n=this._cache,r=(o,a)=>o.filter(u=>!a.some(c=>u.plugin.id===c.plugin.id));this._notify(r(i,n),t,"stop"),this._notify(r(n,i),t,"start")}}function c1(e){const t={},i=[],n=Object.keys(Ji.plugins.items);for(let o=0;o<n.length;o++)i.push(Ji.getPlugin(n[o]));const r=e.plugins||[];for(let o=0;o<r.length;o++){const a=r[o];i.indexOf(a)===-1&&(i.push(a),t[a.id]=!0)}return{plugins:i,localIds:t}}function h1(e,t){return!t&&e===!1?null:e===!0?{}:e}function f1(e,{plugins:t,localIds:i},n,r){const o=[],a=e.getContext();for(const u of t){const c=u.id,f=h1(n[c],r);f!==null&&o.push({plugin:u,options:d1(e.config,{plugin:u,local:i[c]},f,a)})}return o}function d1(e,{plugin:t,local:i},n,r){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(n,o);return i&&t.defaults&&a.push(t.defaults),e.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Lu(e,t){const i=Oe.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function p1(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function g1(e,t){return e===t?"_index_":"_value_"}function qf(e){if(e==="x"||e==="y"||e==="r")return e}function m1(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Mu(e,...t){if(qf(e))return e;for(const i of t){const n=i.axis||m1(i.position)||e.length>1&&qf(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Vf(e,t,i){if(i[t+"AxisID"]===e)return{axis:t}}function _1(e,t){if(t.data&&t.data.datasets){const i=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(i.length)return Vf(e,"x",i[0])||Vf(e,"y",i[0])}return{}}function v1(e,t){const i=ws[e.type]||{scales:{}},n=t.scales||{},r=Lu(e.type,t),o=Object.create(null);return Object.keys(n).forEach(a=>{const u=n[a];if(!oe(u))return console.error(`Invalid scale configuration for scale: ${a}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=Mu(a,u,_1(a,e),Oe.scales[u.type]),f=g1(c,r),d=i.scales||{};o[a]=Jr(Object.create(null),[{axis:c},u,d[c],d[f]])}),e.data.datasets.forEach(a=>{const u=a.type||e.type,c=a.indexAxis||Lu(u,t),d=(ws[u]||{}).scales||{};Object.keys(d).forEach(_=>{const b=p1(_,c),x=a[b+"AxisID"]||b;o[x]=o[x]||Object.create(null),Jr(o[x],[{axis:b},n[x],d[_]])})}),Object.keys(o).forEach(a=>{const u=o[a];Jr(u,[Oe.scales[u.type],Oe.scale])}),o}function xg(e){const t=e.options||(e.options={});t.plugins=le(t.plugins,{}),t.scales=v1(e,t)}function wg(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function y1(e){return e=e||{},e.data=wg(e.data),xg(e),e}const jf=new Map,Eg=new Set;function Jo(e,t){let i=jf.get(e);return i||(i=t(),jf.set(e,i),Eg.add(i)),i}const Ir=(e,t,i)=>{const n=er(t,i);n!==void 0&&e.add(n)};class b1{constructor(t){this._config=y1(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=wg(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),xg(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jo(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return Jo(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return Jo(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){const i=t.id,n=this.type;return Jo(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){const n=this._scopeCache;let r=n.get(t);return(!r||i)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,i,n){const{options:r,type:o}=this,a=this._cachedScopes(t,n),u=a.get(i);if(u)return u;const c=new Set;i.forEach(d=>{t&&(c.add(t),d.forEach(_=>Ir(c,t,_))),d.forEach(_=>Ir(c,r,_)),d.forEach(_=>Ir(c,ws[o]||{},_)),d.forEach(_=>Ir(c,Oe,_)),d.forEach(_=>Ir(c,Pu,_))});const f=Array.from(c);return f.length===0&&f.push(Object.create(null)),Eg.has(i)&&a.set(i,f),f}chartOptionScopes(){const{options:t,type:i}=this;return[t,ws[i]||{},Oe.datasets[i]||{},{type:i},Oe,Pu]}resolveNamedOptions(t,i,n,r=[""]){const o={$shared:!0},{resolver:a,subPrefixes:u}=Wf(this._resolverCache,t,r);let c=a;if(w1(a,i)){o.$shared=!1,n=Zn(n)?n():n;const f=this.createResolver(t,n,u);c=ir(a,n,f)}for(const f of i)o[f]=c[f];return o}createResolver(t,i,n=[""],r){const{resolver:o}=Wf(this._resolverCache,t,n);return oe(i)?ir(o,i,void 0,r):o}}function Wf(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));const r=i.join();let o=n.get(r);return o||(o={resolver:rc(t,i),subPrefixes:i.filter(u=>!u.toLowerCase().includes("hover"))},n.set(r,o)),o}const x1=e=>oe(e)&&Object.getOwnPropertyNames(e).some(t=>Zn(e[t]));function w1(e,t){const{isScriptable:i,isIndexable:n}=og(e);for(const r of t){const o=i(r),a=n(r),u=(a||o)&&e[r];if(o&&(Zn(u)||x1(u))||a&&Ue(u))return!0}return!1}var E1="4.5.1";const S1=["top","bottom","left","right","chartArea"];function Zf(e,t){return e==="top"||e==="bottom"||S1.indexOf(e)===-1&&t==="x"}function $f(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function Gf(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),xe(i&&i.onComplete,[e],t)}function A1(e){const t=e.chart,i=t.options.animation;xe(i&&i.onProgress,[e],t)}function Sg(e){return lc()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ha={},Yf=e=>{const t=Sg(e);return Object.values(ha).filter(i=>i.canvas===t).pop()};function C1(e,t,i){const n=Object.keys(e);for(const r of n){const o=+r;if(o>=t){const a=e[r];delete e[r],(i>0||o>t)&&(e[o+i]=a)}}}function D1(e,t,i,n){return!i||e.type==="mouseout"?null:n?t:e}let sl=class{static defaults=Oe;static instances=ha;static overrides=ws;static registry=Ji;static version=E1;static getChart=Yf;static register(...t){Ji.add(...t),Xf()}static unregister(...t){Ji.remove(...t),Xf()}constructor(t,i){const n=this.config=new b1(i),r=Sg(t),o=Yf(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Wx(r)),this.platform.updateConfig(n);const u=this.platform.acquireContext(r,a.aspectRatio),c=u&&u.canvas,f=c&&c.height,d=c&&c.width;if(this.id=q2(),this.ctx=u,this.canvas=c,this.width=d,this.height=f,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new u1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=lb(_=>this.update(_),a.resizeDelay||0),this._dataChanges=[],ha[this.id]=this,!u||!c){console.error("Failed to create chart: can't acquire context from the given item");return}dn.listen(this,"complete",Gf),dn.listen(this,"progress",A1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:i},width:n,height:r,_aspectRatio:o}=this;return _e(t)?i&&o?o:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ji}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():xf(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return _f(this.canvas,this.ctx),this}stop(){return dn.stop(this),this}resize(t,i){dn.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){const n=this.options,r=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,t,i,o),u=n.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,xf(this,u,!0)&&(this.notifyPlugins("resize",{size:a}),xe(n.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};fe(i,(n,r)=>{n.id=r})}buildOrUpdateScales(){const t=this.options,i=t.scales,n=this.scales,r=Object.keys(n).reduce((a,u)=>(a[u]=!1,a),{});let o=[];i&&(o=o.concat(Object.keys(i).map(a=>{const u=i[a],c=Mu(a,u),f=c==="r",d=c==="x";return{options:u,dposition:f?"chartArea":d?"bottom":"left",dtype:f?"radialLinear":d?"category":"linear"}}))),fe(o,a=>{const u=a.options,c=u.id,f=Mu(c,u),d=le(u.type,a.dtype);(u.position===void 0||Zf(u.position,f)!==Zf(a.dposition))&&(u.position=a.dposition),r[c]=!0;let _=null;if(c in n&&n[c].type===d)_=n[c];else{const b=Ji.getScale(d);_=new b({id:c,type:d,ctx:this.ctx,chart:this}),n[_.id]=_}_.init(u,t)}),fe(r,(a,u)=>{a||delete n[u]}),fe(n,a=>{Pi.configure(this,a,a.options),Pi.addBox(this,a)})}_updateMetasets(){const t=this._metasets,i=this.data.datasets.length,n=t.length;if(t.sort((r,o)=>r.index-o.index),n>i){for(let r=i;r<n;++r)this._destroyDatasetMeta(r);t.splice(i,n-i)}this._sortedMetasets=t.slice(0).sort($f("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((n,r)=>{i.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],i=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=i.length;n<r;n++){const o=i[n];let a=this.getDatasetMeta(n);const u=o.type||this.config.type;if(a.type&&a.type!==u&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=u,a.indexAxis=o.indexAxis||Lu(u,this.options),a.order=o.order||0,a.index=n,a.label=""+o.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const c=Ji.getController(u),{datasetElementType:f,dataElementType:d}=Oe.datasets[u];Object.assign(c,{dataElementType:Ji.getElement(d),datasetElementType:f&&Ji.getElement(f)}),a.controller=new c(this,n),t.push(a.controller)}}return this._updateMetasets(),t}_resetElements(){fe(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const i=this.config;i.update();const n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let f=0,d=this.data.datasets.length;f<d;f++){const{controller:_}=this.getDatasetMeta(f),b=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),a=Math.max(+_.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||fe(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort($f("z","_idx"));const{_active:u,_lastEvent:c}=this;c?this._eventHandler(c,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){fe(this.scales,t=>{Pi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!af(i,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:o}of i){const a=n==="_removeElements"?-o:o;C1(t,r,a)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const i=this.data.datasets.length,n=o=>new Set(t.filter(a=>a[0]===o).map((a,u)=>u+","+a.splice(1).join(","))),r=n(0);for(let o=1;o<i;o++)if(!af(r,n(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pi.update(this,this.width,this.height,t);const i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],fe(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,Zn(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(i),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(dn.has(this)?this.attached&&!dn.running(this)&&dn.start(this):(this.draw(),Gf({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const i=this._sortedMetasets,n=[];let r,o;for(r=0,o=i.length;r<o;++r){const a=i[r];(!t||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const i=this.ctx,n={meta:t,index:t.index,cancelable:!0},r=$b(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&nc(i,r),t.controller.draw(),r&&sc(i),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return ng(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,n,r){const o=Sx.modes[i];return typeof o=="function"?o(this,t,n,r):[]}getDatasetMeta(t){const i=this.data.datasets[t],n=this._metasets;let r=n.filter(o=>o&&o._dataset===i).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=sr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const i=this.data.datasets[t];if(!i)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(t,i){const n=this.getDatasetMeta(t);n.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,n){const r=n?"show":"hide",o=this.getDatasetMeta(t),a=o.controller._resolveAnimations(void 0,r);ho(i)?(o.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),a.update(o,{visible:n}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){const i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),dn.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),_f(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete ha[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,i=this.platform,n=(o,a)=>{i.addEventListener(this,o,a),t[o]=a},r=(o,a,u)=>{o.offsetX=a,o.offsetY=u,this._eventHandler(o)};fe(this.options.events,o=>n(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,i=this.platform,n=(c,f)=>{i.addEventListener(this,c,f),t[c]=f},r=(c,f)=>{t[c]&&(i.removeEventListener(this,c,f),delete t[c])},o=(c,f)=>{this.canvas&&this.resize(c,f)};let a;const u=()=>{r("attach",u),this.attached=!0,this.resize(),n("resize",o),n("detach",a)};a=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),n("attach",u)},i.isAttached(this.canvas)?u():a()}unbindEvents(){fe(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},fe(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,n){const r=n?"set":"remove";let o,a,u,c;for(i==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,c=t.length;u<c;++u){a=t[u];const f=a&&this.getDatasetMeta(a.datasetIndex).controller;f&&f[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const i=this._active||[],n=t.map(({datasetIndex:o,index:a})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[a],index:a}});!La(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(t,i,n){return this._plugins.notify(this,t,i,n)}isPluginEnabled(t){return this._plugins._cache.filter(i=>i.plugin.id===t).length===1}_updateHoverStyles(t,i,n){const r=this.options.hover,o=(c,f)=>c.filter(d=>!f.some(_=>d.datasetIndex===_.datasetIndex&&d.index===_.index)),a=o(i,t),u=n?t:o(t,i);a.length&&this.updateHoverStyle(a,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,i){const n={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},r=a=>(a.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const o=this._handleEvent(t,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(o||n.changed)&&this.render(),this}_handleEvent(t,i,n){const{_active:r=[],options:o}=this,a=i,u=this._getActiveElements(t,r,n,a),c=G2(t),f=D1(t,this._lastEvent,n,c);n&&(this._lastEvent=null,xe(o.onHover,[t,u,this],this),c&&xe(o.onClick,[t,u,this],this));const d=!La(u,r);return(d||i)&&(this._active=u,this._updateHoverStyles(u,r,i)),this._lastEvent=f,d}_getActiveElements(t,i,n,r){if(t.type==="mouseout")return[];if(!n)return i;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function Xf(){return fe(sl.instances,e=>e._plugins.invalidate())}function Ag(e,t){const{x:i,y:n,base:r,width:o,height:a}=e.getProps(["x","y","base","width","height"],t);let u,c,f,d,_;return e.horizontal?(_=a/2,u=Math.min(i,r),c=Math.max(i,r),f=n-_,d=n+_):(_=o/2,u=i-_,c=i+_,f=Math.min(n,r),d=Math.max(n,r)),{left:u,top:f,right:c,bottom:d}}function zn(e,t,i,n){return e?0:Fi(t,i,n)}function T1(e,t,i){const n=e.options.borderWidth,r=e.borderSkipped,o=rg(n);return{t:zn(r.top,o.top,0,i),r:zn(r.right,o.right,0,t),b:zn(r.bottom,o.bottom,0,i),l:zn(r.left,o.left,0,t)}}function P1(e,t,i){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=Xs(r),a=Math.min(t,i),u=e.borderSkipped,c=n||oe(r);return{topLeft:zn(!c||u.top||u.left,o.topLeft,0,a),topRight:zn(!c||u.top||u.right,o.topRight,0,a),bottomLeft:zn(!c||u.bottom||u.left,o.bottomLeft,0,a),bottomRight:zn(!c||u.bottom||u.right,o.bottomRight,0,a)}}function L1(e){const t=Ag(e),i=t.right-t.left,n=t.bottom-t.top,r=T1(e,i/2,n/2),o=P1(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:i-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function au(e,t,i,n){const r=t===null,o=i===null,u=e&&!(r&&o)&&Ag(e,n);return u&&(r||Vs(t,u.left,u.right))&&(o||Vs(i,u.top,u.bottom))}function M1(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function k1(e,t){e.rect(t.x,t.y,t.w,t.h)}function lu(e,t,i={}){const n=e.x!==i.x?-t:0,r=e.y!==i.y?-t:0,o=(e.x+e.w!==i.x+i.w?t:0)-n,a=(e.y+e.h!==i.y+i.h?t:0)-r;return{x:e.x+n,y:e.y+r,w:e.w+o,h:e.h+a,radius:e.radius}}class O1 extends rr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:i,options:{borderColor:n,backgroundColor:r}}=this,{inner:o,outer:a}=L1(this),u=M1(a.radius)?Ia:k1;t.save(),(a.w!==o.w||a.h!==o.h)&&(t.beginPath(),u(t,lu(a,i,o)),t.clip(),u(t,lu(o,-i,a)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),u(t,lu(o,i)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,i,n){return au(this,t,i,n)}inXRange(t,i){return au(this,t,null,i)}inYRange(t,i){return au(this,null,t,i)}getCenterPoint(t){const{x:i,y:n,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(i+r)/2:i,y:o?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const Kf=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}},I1=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Jf extends rr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,n){this.maxWidth=t,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let i=xe(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(n=>t.filter(n,this.chart.data))),t.sort&&(i=i.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,r=ei(n.font),o=r.size,a=this._computeTitleHeight(),{boxWidth:u,itemHeight:c}=Kf(n,o);let f,d;i.font=r.string,this.isHorizontal()?(f=this.maxWidth,d=this._fitRows(a,o,u,c)+10):(d=this.maxHeight,f=this._fitCols(a,r,u,c)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,i,n,r){const{ctx:o,maxWidth:a,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.lineWidths=[0],d=r+u;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,x=-d;return this.legendItems.forEach((C,A)=>{const T=n+i/2+o.measureText(C.text).width;(A===0||f[f.length-1]+T+2*u>a)&&(_+=d,f[f.length-(A>0?0:1)]=0,x+=d,b++),c[A]={left:0,top:x,row:b,width:T,height:r},f[f.length-1]+=T+u}),_}_fitCols(t,i,n,r){const{ctx:o,maxHeight:a,options:{labels:{padding:u}}}=this,c=this.legendHitBoxes=[],f=this.columnSizes=[],d=a-t;let _=u,b=0,x=0,C=0,A=0;return this.legendItems.forEach((T,Z)=>{const{itemWidth:w,itemHeight:F}=R1(n,i,o,T,r);Z>0&&x+F+2*u>d&&(_+=b+u,f.push({width:b,height:x}),C+=b+u,A++,b=x=0),c[Z]={left:C,top:x,col:A,width:w,height:F},b=Math.max(b,w),x+=F+u}),_+=b,f.push({width:b,height:x}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:r},rtl:o}}=this,a=Ks(o,this.left,this.width);if(this.isHorizontal()){let u=0,c=Xe(n,this.left+r,this.right-this.lineWidths[u]);for(const f of i)u!==f.row&&(u=f.row,c=Xe(n,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=a.leftForLtr(a.x(c),f.width),c+=f.width+r}else{let u=0,c=Xe(n,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of i)f.col!==u&&(u=f.col,c=Xe(n,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=c,f.left+=this.left+r,f.left=a.leftForLtr(a.x(f.left),f.width),c+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;nc(t,this),this._draw(),sc(t)}}_draw(){const{options:t,columnSizes:i,lineWidths:n,ctx:r}=this,{align:o,labels:a}=t,u=Oe.color,c=Ks(t.rtl,this.left,this.width),f=ei(a.font),{padding:d}=a,_=f.size,b=_/2;let x;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:C,boxHeight:A,itemHeight:T}=Kf(a,_),Z=function(j,q,m){if(isNaN(C)||C<=0||isNaN(A)||A<0)return;r.save();const p=le(m.lineWidth,1);if(r.fillStyle=le(m.fillStyle,u),r.lineCap=le(m.lineCap,"butt"),r.lineDashOffset=le(m.lineDashOffset,0),r.lineJoin=le(m.lineJoin,"miter"),r.lineWidth=p,r.strokeStyle=le(m.strokeStyle,u),r.setLineDash(le(m.lineDash,[])),a.usePointStyle){const v={radius:A*Math.SQRT2/2,pointStyle:m.pointStyle,rotation:m.rotation,borderWidth:p},S=c.xPlus(j,C/2),E=q+b;ig(r,v,S,E,a.pointStyleWidth&&C)}else{const v=q+Math.max((_-A)/2,0),S=c.leftForLtr(j,C),E=Xs(m.borderRadius);r.beginPath(),Object.values(E).some(O=>O!==0)?Ia(r,{x:S,y:v,w:C,h:A,radius:E}):r.rect(S,v,C,A),r.fill(),p!==0&&r.stroke()}r.restore()},w=function(j,q,m){fo(r,m.text,j,q+T/2,f,{strikethrough:m.hidden,textAlign:c.textAlign(m.textAlign)})},F=this.isHorizontal(),k=this._computeTitleHeight();F?x={x:Xe(o,this.left+d,this.right-n[0]),y:this.top+d+k,line:0}:x={x:this.left+d,y:Xe(o,this.top+k+d,this.bottom-i[0].height),line:0},cg(this.ctx,t.textDirection);const P=T+d;this.legendItems.forEach((j,q)=>{r.strokeStyle=j.fontColor,r.fillStyle=j.fontColor;const m=r.measureText(j.text).width,p=c.textAlign(j.textAlign||(j.textAlign=a.textAlign)),v=C+b+m;let S=x.x,E=x.y;c.setWidth(this.width),F?q>0&&S+v+d>this.right&&(E=x.y+=P,x.line++,S=x.x=Xe(o,this.left+d,this.right-n[x.line])):q>0&&E+P>this.bottom&&(S=x.x=S+i[x.line].width+d,x.line++,E=x.y=Xe(o,this.top+k+d,this.bottom-i[x.line].height));const O=c.x(S);if(Z(O,E,j),S=ub(p,S+C+b,F?S+v:this.right,t.rtl),w(c.x(S),E,j),F)x.x+=v+d;else if(typeof j.text!="string"){const G=f.lineHeight;x.y+=Cg(j,G)+d}else x.y+=P}),hg(this.ctx,t.textDirection)}drawTitle(){const t=this.options,i=t.title,n=ei(i.font),r=Mi(i.padding);if(!i.display)return;const o=Ks(t.rtl,this.left,this.width),a=this.ctx,u=i.position,c=n.size/2,f=r.top+c;let d,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),d=this.top+f,_=Xe(t.align,_,this.right-b);else{const C=this.columnSizes.reduce((A,T)=>Math.max(A,T.height),0);d=f+Xe(t.align,this.top,this.bottom-C-t.labels.padding-this._computeTitleHeight())}const x=Xe(u,_,_+b);a.textAlign=o.textAlign(ic(u)),a.textBaseline="middle",a.strokeStyle=i.color,a.fillStyle=i.color,a.font=n.string,fo(a,i.text,x,d,n)}_computeTitleHeight(){const t=this.options.title,i=ei(t.font),n=Mi(t.padding);return t.display?i.lineHeight+n.height:0}_getLegendItemAt(t,i){let n,r,o;if(Vs(t,this.left,this.right)&&Vs(i,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(r=o[n],Vs(t,r.left,r.left+r.width)&&Vs(i,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){const i=this.options;if(!F1(t.type,i))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=I1(r,n);r&&!o&&xe(i.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!o&&xe(i.onHover,[t,n,this],this)}else n&&xe(i.onClick,[t,n,this],this)}}function R1(e,t,i,n,r){const o=B1(n,e,t,i),a=N1(r,n,t.lineHeight);return{itemWidth:o,itemHeight:a}}function B1(e,t,i,n){let r=e.text;return r&&typeof r!="string"&&(r=r.reduce((o,a)=>o.length>a.length?o:a)),t+i.size/2+n.measureText(r).width}function N1(e,t,i){let n=e;return typeof t.text!="string"&&(n=Cg(t,i)),n}function Cg(e,t){const i=e.text?e.text.length:0;return t*i}function F1(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var z1={id:"legend",_element:Jf,start(e,t,i){const n=e.legend=new Jf({ctx:e.ctx,options:i,chart:e});Pi.configure(e,n,i),Pi.addBox(e,n)},stop(e){Pi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const n=e.legend;Pi.configure(e,n,i),n.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const n=t.datasetIndex,r=i.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:r,color:o,useBorderRadius:a,borderRadius:u}}=e.legend.options;return e._getSortedDatasetMetas().map(c=>{const f=c.controller.getStyle(i?0:void 0),d=Mi(f.borderWidth);return{text:t[c.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!c.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:a&&(u||f.borderRadius),datasetIndex:c.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Dg extends rr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;const r=Ue(n.text)?n.text.length:1;this._padding=Mi(n.padding);const o=r*ei(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:i,left:n,bottom:r,right:o,options:a}=this,u=a.align;let c=0,f,d,_;return this.isHorizontal()?(d=Xe(u,n,o),_=i+t,f=o-n):(a.position==="left"?(d=n+t,_=Xe(u,r,i),c=ii*-.5):(d=o-t,_=Xe(u,i,r),c=ii*.5),f=r-i),{titleX:d,titleY:_,maxWidth:f,rotation:c}}draw(){const t=this.ctx,i=this.options;if(!i.display)return;const n=ei(i.font),o=n.lineHeight/2+this._padding.top,{titleX:a,titleY:u,maxWidth:c,rotation:f}=this._drawArgs(o);fo(t,i.text,0,0,n,{color:i.color,maxWidth:c,rotation:f,textAlign:ic(i.align),textBaseline:"middle",translation:[a,u]})}}function H1(e,t){const i=new Dg({ctx:e.ctx,options:t,chart:e});Pi.configure(e,i,t),Pi.addBox(e,i),e.titleBlock=i}var U1={id:"title",_element:Dg,start(e,t,i){H1(e,i)},stop(e){const t=e.titleBlock;Pi.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const n=e.titleBlock;Pi.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vr={average(e){if(!e.length)return!1;let t,i,n=new Set,r=0,o=0;for(t=0,i=e.length;t<i;++t){const u=e[t].element;if(u&&u.hasValue()){const c=u.tooltipPosition();n.add(c.x),r+=c.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((u,c)=>u+c)/n.size,y:r/o}},nearest(e,t){if(!e.length)return!1;let i=t.x,n=t.y,r=Number.POSITIVE_INFINITY,o,a,u;for(o=0,a=e.length;o<a;++o){const c=e[o].element;if(c&&c.hasValue()){const f=c.getCenterPoint(),d=ib(t,f);d<r&&(r=d,u=c)}}if(u){const c=u.tooltipPosition();i=c.x,n=c.y}return{x:i,y:n}}};function Xi(e,t){return t&&(Ue(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function pn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function q1(e,t){const{element:i,datasetIndex:n,index:r}=t,o=e.getDatasetMeta(n).controller,{label:a,value:u}=o.getLabelAndValue(r);return{chart:e,label:a,parsed:o.getParsed(r),raw:e.data.datasets[n].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:n,element:i}}function Qf(e,t){const i=e.chart.ctx,{body:n,footer:r,title:o}=e,{boxWidth:a,boxHeight:u}=t,c=ei(t.bodyFont),f=ei(t.titleFont),d=ei(t.footerFont),_=o.length,b=r.length,x=n.length,C=Mi(t.padding);let A=C.height,T=0,Z=n.reduce((k,P)=>k+P.before.length+P.lines.length+P.after.length,0);if(Z+=e.beforeBody.length+e.afterBody.length,_&&(A+=_*f.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),Z){const k=t.displayColors?Math.max(u,c.lineHeight):c.lineHeight;A+=x*k+(Z-x)*c.lineHeight+(Z-1)*t.bodySpacing}b&&(A+=t.footerMarginTop+b*d.lineHeight+(b-1)*t.footerSpacing);let w=0;const F=function(k){T=Math.max(T,i.measureText(k).width+w)};return i.save(),i.font=f.string,fe(e.title,F),i.font=c.string,fe(e.beforeBody.concat(e.afterBody),F),w=t.displayColors?a+2+t.boxPadding:0,fe(n,k=>{fe(k.before,F),fe(k.lines,F),fe(k.after,F)}),w=0,i.font=d.string,fe(e.footer,F),i.restore(),T+=C.width,{width:T,height:A}}function V1(e,t){const{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}function j1(e,t,i,n){const{x:r,width:o}=n,a=i.caretSize+i.caretPadding;if(e==="left"&&r+o+a>t.width||e==="right"&&r-o-a<0)return!0}function W1(e,t,i,n){const{x:r,width:o}=i,{width:a,chartArea:{left:u,right:c}}=e;let f="center";return n==="center"?f=r<=(u+c)/2?"left":"right":r<=o/2?f="left":r>=a-o/2&&(f="right"),j1(f,e,t,i)&&(f="center"),f}function td(e,t,i){const n=i.yAlign||t.yAlign||V1(e,i);return{xAlign:i.xAlign||t.xAlign||W1(e,t,i,n),yAlign:n}}function Z1(e,t){let{x:i,width:n}=e;return t==="right"?i-=n:t==="center"&&(i-=n/2),i}function $1(e,t,i){let{y:n,height:r}=e;return t==="top"?n+=i:t==="bottom"?n-=r+i:n-=r/2,n}function ed(e,t,i,n){const{caretSize:r,caretPadding:o,cornerRadius:a}=e,{xAlign:u,yAlign:c}=i,f=r+o,{topLeft:d,topRight:_,bottomLeft:b,bottomRight:x}=Xs(a);let C=Z1(t,u);const A=$1(t,c,f);return c==="center"?u==="left"?C+=f:u==="right"&&(C-=f):u==="left"?C-=Math.max(d,b)+r:u==="right"&&(C+=Math.max(_,x)+r),{x:Fi(C,0,n.width-t.width),y:Fi(A,0,n.height-t.height)}}function Qo(e,t,i){const n=Mi(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function id(e){return Xi([],pn(e))}function G1(e,t,i){return sr(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function nd(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}const Tg={beforeTitle:fn,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:fn,beforeBody:fn,beforeLabel:fn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return _e(i)||(t+=i),t},labelColor(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:fn,afterBody:fn,beforeFooter:fn,footer:fn,afterFooter:fn};function fi(e,t,i,n){const r=e[t].call(i,n);return typeof r>"u"?Tg[t].call(i,n):r}class sd extends rr{static positioners=Vr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const i=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&i.options.animation&&n.animations,o=new fg(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=G1(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){const{callbacks:n}=i,r=fi(n,"beforeTitle",this,t),o=fi(n,"title",this,t),a=fi(n,"afterTitle",this,t);let u=[];return u=Xi(u,pn(r)),u=Xi(u,pn(o)),u=Xi(u,pn(a)),u}getBeforeBody(t,i){return id(fi(i.callbacks,"beforeBody",this,t))}getBody(t,i){const{callbacks:n}=i,r=[];return fe(t,o=>{const a={before:[],lines:[],after:[]},u=nd(n,o);Xi(a.before,pn(fi(u,"beforeLabel",this,o))),Xi(a.lines,fi(u,"label",this,o)),Xi(a.after,pn(fi(u,"afterLabel",this,o))),r.push(a)}),r}getAfterBody(t,i){return id(fi(i.callbacks,"afterBody",this,t))}getFooter(t,i){const{callbacks:n}=i,r=fi(n,"beforeFooter",this,t),o=fi(n,"footer",this,t),a=fi(n,"afterFooter",this,t);let u=[];return u=Xi(u,pn(r)),u=Xi(u,pn(o)),u=Xi(u,pn(a)),u}_createItems(t){const i=this._active,n=this.chart.data,r=[],o=[],a=[];let u=[],c,f;for(c=0,f=i.length;c<f;++c)u.push(q1(this.chart,i[c]));return t.filter&&(u=u.filter((d,_,b)=>t.filter(d,_,b,n))),t.itemSort&&(u=u.sort((d,_)=>t.itemSort(d,_,n))),fe(u,d=>{const _=nd(t.callbacks,d);r.push(fi(_,"labelColor",this,d)),o.push(fi(_,"labelPointStyle",this,d)),a.push(fi(_,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=u,u}update(t,i){const n=this.options.setContext(this.getContext()),r=this._active;let o,a=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=Vr[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const c=this._size=Qf(this,n),f=Object.assign({},u,c),d=td(this.chart,n,f),_=ed(n,f,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:_.x,y:_.y,width:c.width,height:c.height,caretX:u.x,caretY:u.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,n,r){const o=this.getCaretPosition(t,n,r);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,n){const{xAlign:r,yAlign:o}=this,{caretSize:a,cornerRadius:u}=n,{topLeft:c,topRight:f,bottomLeft:d,bottomRight:_}=Xs(u),{x:b,y:x}=t,{width:C,height:A}=i;let T,Z,w,F,k,P;return o==="center"?(k=x+A/2,r==="left"?(T=b,Z=T-a,F=k+a,P=k-a):(T=b+C,Z=T+a,F=k-a,P=k+a),w=T):(r==="left"?Z=b+Math.max(c,d)+a:r==="right"?Z=b+C-Math.max(f,_)-a:Z=this.caretX,o==="top"?(F=x,k=F-a,T=Z-a,w=Z+a):(F=x+A,k=F+a,T=Z+a,w=Z-a),P=F),{x1:T,x2:Z,x3:w,y1:F,y2:k,y3:P}}drawTitle(t,i,n){const r=this.title,o=r.length;let a,u,c;if(o){const f=Ks(n.rtl,this.x,this.width);for(t.x=Qo(this,n.titleAlign,n),i.textAlign=f.textAlign(n.titleAlign),i.textBaseline="middle",a=ei(n.titleFont),u=n.titleSpacing,i.fillStyle=n.titleColor,i.font=a.string,c=0;c<o;++c)i.fillText(r[c],f.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+u,c+1===o&&(t.y+=n.titleMarginBottom-u)}}_drawColorBox(t,i,n,r,o){const a=this.labelColors[n],u=this.labelPointStyles[n],{boxHeight:c,boxWidth:f}=o,d=ei(o.bodyFont),_=Qo(this,"left",o),b=r.x(_),x=c<d.lineHeight?(d.lineHeight-c)/2:0,C=i.y+x;if(o.usePointStyle){const A={radius:Math.min(f,c)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},T=r.leftForLtr(b,f)+f/2,Z=C+c/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,vf(t,A,T,Z),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,vf(t,A,T,Z)}else{t.lineWidth=oe(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const A=r.leftForLtr(b,f),T=r.leftForLtr(r.xPlus(b,1),f-2),Z=Xs(a.borderRadius);Object.values(Z).some(w=>w!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ia(t,{x:A,y:C,w:f,h:c,radius:Z}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),Ia(t,{x:T,y:C+1,w:f-2,h:c-2,radius:Z}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,C,f,c),t.strokeRect(A,C,f,c),t.fillStyle=a.backgroundColor,t.fillRect(T,C+1,f-2,c-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,i,n){const{body:r}=this,{bodySpacing:o,bodyAlign:a,displayColors:u,boxHeight:c,boxWidth:f,boxPadding:d}=n,_=ei(n.bodyFont);let b=_.lineHeight,x=0;const C=Ks(n.rtl,this.x,this.width),A=function(m){i.fillText(m,C.x(t.x+x),t.y+b/2),t.y+=b+o},T=C.textAlign(a);let Z,w,F,k,P,j,q;for(i.textAlign=a,i.textBaseline="middle",i.font=_.string,t.x=Qo(this,T,n),i.fillStyle=n.bodyColor,fe(this.beforeBody,A),x=u&&T!=="right"?a==="center"?f/2+d:f+2+d:0,k=0,j=r.length;k<j;++k){for(Z=r[k],w=this.labelTextColors[k],i.fillStyle=w,fe(Z.before,A),F=Z.lines,u&&F.length&&(this._drawColorBox(i,t,k,C,n),b=Math.max(_.lineHeight,c)),P=0,q=F.length;P<q;++P)A(F[P]),b=_.lineHeight;fe(Z.after,A)}x=0,b=_.lineHeight,fe(this.afterBody,A),t.y-=o}drawFooter(t,i,n){const r=this.footer,o=r.length;let a,u;if(o){const c=Ks(n.rtl,this.x,this.width);for(t.x=Qo(this,n.footerAlign,n),t.y+=n.footerMarginTop,i.textAlign=c.textAlign(n.footerAlign),i.textBaseline="middle",a=ei(n.footerFont),i.fillStyle=n.footerColor,i.font=a.string,u=0;u<o;++u)i.fillText(r[u],c.x(t.x),t.y+a.lineHeight/2),t.y+=a.lineHeight+n.footerSpacing}}drawBackground(t,i,n,r){const{xAlign:o,yAlign:a}=this,{x:u,y:c}=t,{width:f,height:d}=n,{topLeft:_,topRight:b,bottomLeft:x,bottomRight:C}=Xs(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(u+_,c),a==="top"&&this.drawCaret(t,i,n,r),i.lineTo(u+f-b,c),i.quadraticCurveTo(u+f,c,u+f,c+b),a==="center"&&o==="right"&&this.drawCaret(t,i,n,r),i.lineTo(u+f,c+d-C),i.quadraticCurveTo(u+f,c+d,u+f-C,c+d),a==="bottom"&&this.drawCaret(t,i,n,r),i.lineTo(u+x,c+d),i.quadraticCurveTo(u,c+d,u,c+d-x),a==="center"&&o==="left"&&this.drawCaret(t,i,n,r),i.lineTo(u,c+_),i.quadraticCurveTo(u,c,u+_,c),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){const i=this.chart,n=this.$animations,r=n&&n.x,o=n&&n.y;if(r||o){const a=Vr[t.position].call(this,this._active,this._eventPosition);if(!a)return;const u=this._size=Qf(this,t),c=Object.assign({},a,this._size),f=td(i,t,c),d=ed(t,c,f,i);(r._to!==d.x||o._to!==d.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const i=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Mi(i.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&u&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,r,i),cg(t,i.textDirection),o.y+=a.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),hg(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){const n=this._active,r=t.map(({datasetIndex:u,index:c})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[c],index:c}}),o=!La(n,r),a=this._positionChanged(r,i);(o||a)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],a=this._getActiveElements(t,o,i,n),u=this._positionChanged(a,t),c=i||!La(a,o)||u;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),c}_getActiveElements(t,i,n,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return i.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const a=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&a.reverse(),a}_positionChanged(t,i){const{caretX:n,caretY:r,options:o}=this,a=Vr[o.position].call(this,t,i);return a!==!1&&(n!==a.x||r!==a.y)}}var Y1={id:"tooltip",_element:sd,positioners:Vr,afterInit(e,t,i){i&&(e.tooltip=new sd({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Tg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const X1=(e,t,i,n)=>(typeof t=="string"?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function K1(e,t,i,n){const r=e.indexOf(t);if(r===-1)return X1(e,t,i,n);const o=e.lastIndexOf(t);return r!==o?i:r}const J1=(e,t)=>e===null?null:Fi(Math.round(e),0,t);function rd(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Q1 extends or{static id="category";static defaults={ticks:{callback:rd}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const i=this._addedLabels;if(i.length){const n=this.getLabels();for(const{index:r,label:o}of i)n[r]===o&&n.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(_e(t))return null;const n=this.getLabels();return i=isFinite(i)&&n[i]===t?i:K1(n,t,le(i,t),this._addedLabels),J1(i,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),i||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,i=this.max,n=this.options.offset,r=[];let o=this.getLabels();o=t===0&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=t;a<=i;a++)r.push({value:a});return r}getLabelForValue(t){return rd.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function tw(e,t){const i=[],{bounds:r,step:o,min:a,max:u,precision:c,count:f,maxTicks:d,maxDigits:_,includeBounds:b}=e,x=o||1,C=d-1,{min:A,max:T}=t,Z=!_e(a),w=!_e(u),F=!_e(f),k=(T-A)/(_+1);let P=uf((T-A)/C/x)*x,j,q,m,p;if(P<1e-14&&!Z&&!w)return[{value:A},{value:T}];p=Math.ceil(T/P)-Math.floor(A/P),p>C&&(P=uf(p*P/C/x)*x),_e(c)||(j=Math.pow(10,c),P=Math.ceil(P*j)/j),r==="ticks"?(q=Math.floor(A/P)*P,m=Math.ceil(T/P)*P):(q=A,m=T),Z&&w&&o&&J2((u-a)/o,P/1e3)?(p=Math.round(Math.min((u-a)/P,d)),P=(u-a)/p,q=a,m=u):F?(q=Z?a:q,m=w?u:m,p=f-1,P=(m-q)/p):(p=(m-q)/P,ua(p,Math.round(p),P/1e3)?p=Math.round(p):p=Math.ceil(p));const v=Math.max(cf(P),cf(q));j=Math.pow(10,_e(c)?v:c),q=Math.round(q*j)/j,m=Math.round(m*j)/j;let S=0;for(Z&&(b&&q!==a?(i.push({value:a}),q<a&&S++,ua(Math.round((q+S*P)*j)/j,a,od(a,k,e))&&S++):q<a&&S++);S<p;++S){const E=Math.round((q+S*P)*j)/j;if(w&&E>u)break;i.push({value:E})}return w&&b&&m!==u?i.length&&ua(i[i.length-1].value,u,od(u,k,e))?i[i.length-1].value=u:i.push({value:u}):(!w||m===u)&&i.push({value:m}),i}function od(e,t,{horizontal:i,minRotation:n}){const r=_s(n),o=(i?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}class ew extends or{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return _e(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds();let{min:r,max:o}=this;const a=c=>r=i?r:c,u=c=>o=n?o:c;if(t){const c=jn(r),f=jn(o);c<0&&f<0?u(0):c>0&&f>0&&a(0)}if(r===o){let c=o===0?1:Math.abs(o*.05);u(o+c),t||a(r-c)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:i,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),i=i||11),i&&(r=Math.min(i,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,i=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,a=tw(r,o);return t.bounds==="ticks"&&Q2(a,this,"value"),t.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const t=this.ticks;let i=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-i)/Math.max(t.length-1,1)/2;i-=r,n+=r}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(t){return tg(t,this.chart.options.locale,this.options.ticks.format)}}class iw extends ew{static id="linear";static defaults={ticks:{callback:eg.formatters.numeric}};determineDataLimits(){const{min:t,max:i}=this.getMinMax(!0);this.min=Li(t)?t:0,this.max=Li(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),i=t?this.width:this.height,n=_s(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const rl={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pi=Object.keys(rl);function ad(e,t){return e-t}function ld(e,t){if(_e(t))return null;const i=e._adapter,{parser:n,round:r,isoWeekday:o}=e._parseOpts;let a=t;return typeof n=="function"&&(a=n(a)),Li(a)||(a=typeof n=="string"?i.parse(a,n):i.parse(a)),a===null?null:(r&&(a=r==="week"&&(Oa(o)||o===!0)?i.startOf(a,"isoWeek",o):i.startOf(a,r)),+a)}function ud(e,t,i,n){const r=pi.length;for(let o=pi.indexOf(e);o<r-1;++o){const a=rl[pi[o]],u=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((i-t)/(u*a.size))<=n)return pi[o]}return pi[r-1]}function nw(e,t,i,n,r){for(let o=pi.length-1;o>=pi.indexOf(i);o--){const a=pi[o];if(rl[a].common&&e._adapter.diff(r,n,a)>=t-1)return a}return pi[i?pi.indexOf(i):0]}function sw(e){for(let t=pi.indexOf(e)+1,i=pi.length;t<i;++t)if(rl[pi[t]].common)return pi[t]}function cd(e,t,i){if(!i)e[t]=!0;else if(i.length){const{lo:n,hi:r}=ec(i,t),o=i[n]>=t?i[n]:i[r];e[o]=!0}}function rw(e,t,i,n){const r=e._adapter,o=+r.startOf(t[0].value,n),a=t[t.length-1].value;let u,c;for(u=o;u<=a;u=+r.add(u,1,n))c=i[u],c>=0&&(t[c].major=!0);return t}function hd(e,t,i){const n=[],r={},o=t.length;let a,u;for(a=0;a<o;++a)u=t[a],r[u]=a,n.push({value:u,major:!1});return o===0||!i?n:rw(e,n,r,i)}class fd extends or{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i={}){const n=t.time||(t.time={}),r=this._adapter=new yx._date(t.adapters.date);r.init(i),Jr(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:ld(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,i=this._adapter,n=t.time.unit||"day";let{min:r,max:o,minDefined:a,maxDefined:u}=this.getUserBounds();function c(f){!a&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!a||!u)&&(c(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&c(this.getMinMax(!1))),r=Li(r)&&!isNaN(r)?r:+i.startOf(Date.now(),n),o=Li(o)&&!isNaN(o)?o:+i.endOf(Date.now(),n)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],n=t[t.length-1]),{min:i,max:n}}buildTicks(){const t=this.options,i=t.time,n=t.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,a=this.max,u=ob(r,o,a);return this._unit=i.unit||(n.autoSkip?ud(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):nw(this,u.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:sw(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),hd(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let i=0,n=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?i=1-r:i=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const a=t.length<3?.5:.25;i=Fi(i,0,a),n=Fi(n,0,a),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){const t=this._adapter,i=this.min,n=this.max,r=this.options,o=r.time,a=o.unit||ud(o.minUnit,i,n,this._getLabelCapacity(i)),u=le(r.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,f=Oa(c)||c===!0,d={};let _=i,b,x;if(f&&(_=+t.startOf(_,"isoWeek",c)),_=+t.startOf(_,f?"day":a),t.diff(n,i,a)>1e5*u)throw new Error(i+" and "+n+" are too far apart with stepSize of "+u+" "+a);const C=r.ticks.source==="data"&&this.getDataTimestamps();for(b=_,x=0;b<n;b=+t.add(b,u,a),x++)cd(d,b,C);return(b===n||r.bounds==="ticks"||x===1)&&cd(d,b,C),Object.keys(d).sort(ad).map(A=>+A)}getLabelForValue(t){const i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(t,n.tooltipFormat):i.format(t,n.displayFormats.datetime)}format(t,i){const r=this.options.time.displayFormats,o=this._unit,a=i||r[o];return this._adapter.format(t,a)}_tickFormatFunction(t,i,n,r){const o=this.options,a=o.ticks.callback;if(a)return xe(a,[t,i,n],this);const u=o.time.displayFormats,c=this._unit,f=this._majorUnit,d=c&&u[c],_=f&&u[f],b=n[i],x=f&&_&&b&&b.major;return this._adapter.format(t,r||(x?_:d))}generateTickLabels(t){let i,n,r;for(i=0,n=t.length;i<n;++i)r=t[i],r.label=this._tickFormatFunction(r.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const i=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const i=this.options.ticks,n=this.ctx.measureText(t).width,r=_s(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(r),a=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:n*o+u*a,h:n*a+u*o}}_getLabelCapacity(t){const i=this.options.time,n=i.displayFormats,r=n[i.unit]||n.millisecond,o=this._tickFormatFunction(t,0,hd(this,[t],this._majorUnit),r),a=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],i,n;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,n=r.length;i<n;++i)t=t.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let i,n;if(t.length)return t;const r=this.getLabels();for(i=0,n=r.length;i<n;++i)t.push(ld(this,r[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Xp(t.sort(ad))}}function ta(e,t,i){let n=0,r=e.length-1,o,a,u,c;i?(t>=e[n].pos&&t<=e[r].pos&&({lo:n,hi:r}=Tu(e,"pos",t)),{pos:o,time:u}=e[n],{pos:a,time:c}=e[r]):(t>=e[n].time&&t<=e[r].time&&({lo:n,hi:r}=Tu(e,"time",t)),{time:o,pos:u}=e[n],{time:a,pos:c}=e[r]);const f=a-o;return f?u+(c-u)*(t-o)/f:u}class IS extends fd{static id="timeseries";static defaults=fd.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=ta(i,this.min),this._tableRange=ta(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:i,max:n}=this,r=[],o=[];let a,u,c,f,d;for(a=0,u=t.length;a<u;++a)f=t[a],f>=i&&f<=n&&r.push(f);if(r.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(a=0,u=r.length;a<u;++a)d=r[a+1],c=r[a-1],f=r[a],Math.round((d+c)/2)!==f&&o.push({time:f,pos:a/(u-1)});return o}_generate(){const t=this.min,i=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(i)||n.length===1)&&n.push(i),n.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?t=this.normalize(i.concat(n)):t=i.length?i:n,t=this._cache.all=t,t}getDecimalForValue(t){return(ta(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return ta(this._table,n*this._tableRange+this._minPos,!0)}}const Pg={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},ow={ariaLabel:{type:String},ariaDescribedby:{type:String}},aw={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...Pg,...ow},lw=xp[0]==="2"?(e,t)=>Object.assign(e,{attrs:t}):(e,t)=>Object.assign(e,t);function Fs(e){return nr(e)?ie(e):e}function uw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e;return nr(t)?new Proxy(e,{}):e}function cw(e,t){const i=e.options;i&&t&&Object.assign(i,t)}function Lg(e,t){e.labels=t}function Mg(e,t,i){const n=[];e.datasets=t.map(r=>{const o=e.datasets.find(a=>a[i]===r[i]);return!o||!r.data||n.includes(o)?{...r}:(n.push(o),Object.assign(o,r),o)})}function hw(e,t){const i={labels:[],datasets:[]};return Lg(i,e.labels),Mg(i,e.datasets,t),i}const fw=Ui({props:aw,setup(e,t){let{expose:i,slots:n}=t;const r=Ce(null),o=Hd(null);i({chart:o});const a=()=>{if(!r.value)return;const{type:f,data:d,options:_,plugins:b,datasetIdKey:x}=e,C=hw(d,x),A=uw(C,d);o.value=new sl(r.value,{type:f,data:A,options:{..._},plugins:b})},u=()=>{const f=ie(o.value);f&&(e.destroyDelay>0?setTimeout(()=>{f.destroy(),o.value=null},e.destroyDelay):(f.destroy(),o.value=null))},c=f=>{f.update(e.updateMode)};return Za(a),$a(u),Bi([()=>e.options,()=>e.data],(f,d)=>{let[_,b]=f,[x,C]=d;const A=ie(o.value);if(!A)return;let T=!1;if(_){const Z=Fs(_),w=Fs(x);Z&&Z!==w&&(cw(A,Z),T=!0)}if(b){const Z=Fs(b.labels),w=Fs(C.labels),F=Fs(b.datasets),k=Fs(C.datasets);Z!==w&&(Lg(A.config.data,Z),T=!0),F&&F!==k&&(Mg(A.config.data,F,e.datasetIdKey),T=!0)}T&&Qs(()=>{c(A)})},{deep:!0}),()=>vu("canvas",{role:"img","aria-label":e.ariaLabel,"aria-describedby":e.ariaDescribedby,ref:r},[vu("p",{},[n.default?n.default():""])])}});function dw(e,t){return sl.register(t),Ui({props:Pg,setup(i,n){let{expose:r}=n;const o=Hd(null),a=u=>{o.value=u?.chart};return r({chart:o}),()=>vu(fw,lw({ref:a},{type:e,...i}))}})}const pw=dw("bar",vx),gw={class:"h-40 w-full mt-4 bg-white p-2 rounded-lg border border-slate-200 shadow-sm"},mw={class:"h-32"},_w=Ui({__name:"IpsChart",setup(e){sl.register(Q1,iw,O1,U1,Y1,z1);const t=Gn(),i=$e(()=>{const r=t.filteredSchools,o={"High (>120)":0,"Sup (>105)":0,"Moy (90-105)":0,"Low (<90)":0};return r.forEach(a=>{const u=typeof a.IPS=="string"?parseFloat(a.IPS):a.IPS;u&&(u>120?o["High (>120)"]++:u>105?o["Sup (>105)"]++:u>90?o["Moy (90-105)"]++:o["Low (<90)"]++)}),{labels:[">120","105-120","90-105","<90"],datasets:[{label:"Nb d'coles",data:[o["High (>120)"],o["Sup (>105)"],o["Moy (90-105)"],o["Low (<90)"]],backgroundColor:["#10b981","#3b82f6","#f59e0b","#ef4444"],borderRadius:4}]}}),n={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1e293b",padding:10,cornerRadius:4}},scales:{y:{beginAtZero:!0,grid:{display:!0,color:"#f1f5f9"},ticks:{stepSize:1}},x:{grid:{display:!1}}}};return(r,o)=>(Ht(),Vt("div",gw,[o[0]||(o[0]=Y("h3",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-2 text-center"},"Rpartition IPS",-1)),Y("div",mw,[Te(Gt(pw),{data:i.value,options:n},null,8,["data"])])]))}}),vw={class:"grid grid-cols-1 gap-3"},yw={class:"bg-white p-4 rounded-lg shadow-sm border border-slate-200"},bw={class:"flex items-baseline gap-2"},xw={class:"w-full bg-slate-100 h-1.5 rounded-full mt-2 overflow-hidden"},ww={class:"grid grid-cols-2 gap-3"},Ew={class:"bg-slate-50 p-3 rounded border border-slate-200 text-center"},Sw={class:"text-lg font-bold text-slate-700"},Aw={class:"bg-slate-50 p-3 rounded border border-slate-200 text-center"},Cw={class:"text-lg font-bold text-slate-700"},Dw=Ui({__name:"StatsPanel",setup(e){const t=Gn(),i=$e(()=>t.selectedPas&&t.pasMetrics[t.selectedPas]?t.pasMetrics[t.selectedPas]:t.departmentMetrics),n=$e(()=>{const r=parseFloat(i.value.ips);return isNaN(r)?"text-slate-400":r>=110?"text-green-600":r>=95?"text-blue-600":"text-red-500"});return(r,o)=>(Ht(),Vt("div",vw,[Y("div",yw,[o[1]||(o[1]=Y("h3",{class:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1"},"IPS Moyen",-1)),Y("div",bw,[Y("span",{class:Me(["text-3xl font-bold",n.value])},Ut(i.value.ips),3),o[0]||(o[0]=Y("span",{class:"text-xs text-slate-400"},"Pondr",-1))]),Y("div",xw,[Y("div",{class:Me(["h-full transition-all duration-500",n.value.replace("text","bg")]),style:Es({width:Math.min((parseFloat(i.value.ips)||0)/150*100,100)+"%"})},null,6)])]),Y("div",ww,[Y("div",Ew,[Y("div",Sw,Ut(i.value.effectif),1),o[2]||(o[2]=Y("div",{class:"text-[9px] text-slate-400 uppercase font-bold"},"lves",-1))]),Y("div",Aw,[Y("div",Cw,Ut(i.value.repCount),1),o[3]||(o[3]=Y("div",{class:"text-[9px] text-slate-400 uppercase font-bold"},"tabl. EP",-1))])]),Te(_w)]))}}),Tw={key:0,class:"space-y-4"},Pw={class:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-lg shadow-lg"},Lw={class:"text-lg font-bold mb-1"},Mw={class:"grid grid-cols-2 gap-3"},kw={class:"bg-white p-3 rounded-lg border border-slate-200 text-center"},Ow={class:"text-2xl font-bold text-slate-700"},Iw={class:"bg-white p-3 rounded-lg border border-slate-200 text-center"},Rw={class:"text-2xl font-bold text-slate-700"},Bw={class:"bg-white p-3 rounded-lg border border-slate-200 text-center"},Nw={class:"bg-white p-3 rounded-lg border border-slate-200 text-center"},Fw={class:"text-2xl font-bold text-red-600"},zw={class:"bg-slate-50 p-3 rounded-lg border border-slate-200"},Hw={class:"space-y-1 text-sm"},Uw={class:"flex justify-between"},qw={class:"font-bold text-blue-600"},Vw={class:"flex justify-between"},jw={class:"font-bold text-teal-600"},Ww={class:"flex justify-between"},Zw={class:"font-bold text-red-700"},$w={class:"flex justify-between"},Gw={class:"font-bold text-red-500"},Yw={class:"bg-white p-3 rounded-lg border border-slate-200"},Xw={class:"text-xs font-bold text-slate-600 uppercase mb-2"},Kw={class:"max-h-64 overflow-y-auto space-y-1"},Jw=["onClick"],Qw={class:"font-semibold text-slate-700"},tE={class:"text-slate-500 flex justify-between mt-0.5"},eE={class:"font-mono"},iE={key:0,class:"space-y-3"},nE={class:"bg-white p-3 rounded-lg border border-slate-200"},sE={class:"space-y-2 text-xs"},rE={key:0,class:"flex justify-between items-start"},oE={class:"text-right"},aE={class:"font-bold text-slate-800"},lE={key:0,class:"text-[10px] text-slate-500"},uE={key:1,class:"flex justify-between"},cE={class:"font-bold text-slate-800"},hE={key:2,class:"flex justify-between"},fE={class:"font-bold text-slate-800"},dE={key:3,class:"flex justify-between"},pE={class:"font-bold text-slate-800"},gE={class:"bg-white p-3 rounded-lg border border-slate-200"},mE={class:"space-y-2 text-xs"},_E={key:0,class:"flex justify-between"},vE={class:"font-bold text-slate-800"},yE={key:1,class:"flex justify-between"},bE={class:"font-bold text-slate-800"},xE={key:2,class:"flex justify-between"},wE={class:"font-bold text-slate-800"},EE={key:3,class:"flex justify-between"},SE={class:"font-bold text-slate-800"},AE={key:0,class:"bg-slate-50 p-3 rounded-lg border border-slate-200"},CE={class:"space-y-1 text-xs"},DE={key:0,class:"text-slate-700"},TE={key:1},PE=["href"],LE={key:1,class:"bg-amber-50 border border-amber-200 p-3 rounded-lg"},ME=Ui({__name:"PasDetailsPanel",setup(e){const t=Gn(),i=$e(()=>{if(!t.selectedPas||!t.pasMetrics[t.selectedPas])return null;const o=t.pasMetrics[t.selectedPas],a=t.schools.filter(u=>u["Nom du PAS"]===t.selectedPas).sort((u,c)=>u["Nom complet"].localeCompare(c["Nom complet"]));return{...o,schools:a}}),n=$e(()=>{if(!i.value)return"text-slate-400";const o=parseFloat(i.value.ips);return isNaN(o)?"text-slate-400":o>=110?"text-green-600":o>=95?"text-blue-600":"text-red-500"}),r=$e(()=>t.selectedPas&&t.rhData.get(t.selectedPas)||null);return(o,a)=>i.value?(Ht(),Vt("div",Tw,[Y("div",Pw,[Y("h2",Lw,Ut(i.value.name),1),a[0]||(a[0]=Y("p",{class:"text-sm opacity-90"},"Ple d'Appui  la Scolarit",-1))]),Y("div",Mw,[Y("div",kw,[Y("div",Ow,Ut(i.value.schoolCount),1),a[1]||(a[1]=Y("div",{class:"text-[10px] text-slate-500 uppercase font-bold"},"tablissements",-1))]),Y("div",Iw,[Y("div",Rw,Ut(i.value.effectif),1),a[2]||(a[2]=Y("div",{class:"text-[10px] text-slate-500 uppercase font-bold"},"lves",-1))]),Y("div",Bw,[Y("div",{class:Me(["text-2xl font-bold",n.value])},Ut(i.value.ips),3),a[3]||(a[3]=Y("div",{class:"text-[10px] text-slate-500 uppercase font-bold"},"IPS Moyen",-1))]),Y("div",Nw,[Y("div",Fw,Ut(i.value.repCount+i.value.repPlusCount),1),a[4]||(a[4]=Y("div",{class:"text-[10px] text-slate-500 uppercase font-bold"},"REP/REP+",-1))])]),Y("div",zw,[a[9]||(a[9]=Y("h3",{class:"text-xs font-bold text-slate-600 uppercase mb-2"},"Rpartition",-1)),Y("div",Hw,[Y("div",Uw,[a[5]||(a[5]=Y("span",{class:"text-slate-600"},"Collges",-1)),Y("span",qw,Ut(i.value.collegeCount),1)]),Y("div",Vw,[a[6]||(a[6]=Y("span",{class:"text-slate-600"},"coles primaires",-1)),Y("span",jw,Ut(i.value.primaireCount),1)]),Y("div",Ww,[a[7]||(a[7]=Y("span",{class:"text-slate-600"},"REP+",-1)),Y("span",Zw,Ut(i.value.repPlusCount),1)]),Y("div",$w,[a[8]||(a[8]=Y("span",{class:"text-slate-600"},"REP",-1)),Y("span",Gw,Ut(i.value.repCount),1)])])]),Y("div",Yw,[Y("h3",Xw,"tablissements ("+Ut(i.value.schools.length)+")",1),Y("div",Kw,[(Ht(!0),Vt(ke,null,Un(i.value.schools,u=>(Ht(),Vt("div",{key:u.UAI,class:Me(["text-xs p-2 hover:bg-slate-50 rounded cursor-pointer transition-colors",u.Degr==="2nd degr"?"border-l-2 border-l-blue-500":"border-l-2 border-l-teal-400"]),onClick:c=>Gt(t).selectSchool(u.UAI)},[Y("div",Qw,Ut(u["Nom complet"]),1),Y("div",tE,[Y("span",null,Ut(u.Commune),1),Y("span",eE,Ut(u["Effectifs (Archipel)"])+" l.",1)])],10,Jw))),128))])]),r.value?(Ht(),Vt("div",iE,[Y("div",nE,[a[14]||(a[14]=Y("h3",{class:"text-xs font-bold text-blue-600 uppercase mb-2 flex items-center gap-1"},[Y("span",{class:"material-icons text-sm"},"diversity_1"),_i(" quipe de Proximit ")],-1)),Y("div",sE,[r.value.coord?(Ht(),Vt("div",rE,[a[10]||(a[10]=Y("span",{class:"text-slate-600"},"Coordonnateur",-1)),Y("div",oE,[Y("div",aE,Ut(r.value.coord),1),r.value.phone?(Ht(),Vt("div",lE,Ut(r.value.phone),1)):He("",!0)])])):He("",!0),r.value.educ?(Ht(),Vt("div",uE,[a[11]||(a[11]=Y("span",{class:"text-slate-600"},"ducateur sp",-1)),Y("span",cE,Ut(r.value.educ),1)])):He("",!0),r.value.aesh?(Ht(),Vt("div",hE,[a[12]||(a[12]=Y("span",{class:"text-slate-600"},"AESH rfrent",-1)),Y("span",fE,Ut(r.value.aesh),1)])):He("",!0),r.value.dacs?(Ht(),Vt("div",dE,[a[13]||(a[13]=Y("span",{class:"text-slate-600"},"DACS",-1)),Y("span",pE,Ut(r.value.dacs),1)])):He("",!0)])]),Y("div",gE,[a[19]||(a[19]=Y("h3",{class:"text-xs font-bold text-orange-600 uppercase mb-2 flex items-center gap-1"},[Y("span",{class:"material-icons text-sm"},"admin_panel_settings"),_i(" Pilotage & Partenariat ")],-1)),Y("div",mE,[r.value.pilot2d?(Ht(),Vt("div",_E,[a[15]||(a[15]=Y("span",{class:"text-slate-600"},"Pilote 2D",-1)),Y("span",vE,Ut(r.value.pilot2d),1)])):He("",!0),r.value.pilot1d?(Ht(),Vt("div",yE,[a[16]||(a[16]=Y("span",{class:"text-slate-600"},"Pilote 1D",-1)),Y("span",bE,Ut(r.value.pilot1d),1)])):He("",!0),r.value.pilotEsms&&r.value.pilotEsms!=="A dfinir"?(Ht(),Vt("div",xE,[a[17]||(a[17]=Y("span",{class:"text-slate-600"},"Pilote ESMS",-1)),Y("span",wE,Ut(r.value.pilotEsms),1)])):He("",!0),r.value.partner&&r.value.partner!=="A dfinir"?(Ht(),Vt("div",EE,[a[18]||(a[18]=Y("span",{class:"text-slate-600"},"Porteur projet",-1)),Y("span",SE,Ut(r.value.partner),1)])):He("",!0)])]),r.value.location||r.value.mail?(Ht(),Vt("div",AE,[a[20]||(a[20]=Y("h3",{class:"text-xs font-bold text-slate-600 uppercase mb-2 flex items-center gap-1"},[Y("span",{class:"material-icons text-sm"},"place"),_i(" Contact ")],-1)),Y("div",CE,[r.value.location?(Ht(),Vt("div",DE,Ut(r.value.location),1)):He("",!0),r.value.mail?(Ht(),Vt("div",TE,[Y("a",{href:"mailto:"+r.value.mail,class:"text-blue-600 hover:underline"},Ut(r.value.mail),9,PE)])):He("",!0)])])):He("",!0)])):(Ht(),Vt("div",LE,[...a[21]||(a[21]=[Y("h3",{class:"text-xs font-bold text-amber-800 uppercase mb-1"}," quipes",-1),Y("p",{class:"text-xs text-amber-700"}," Aucune donne RH disponible pour ce PAS. ",-1)])]))])):He("",!0)}}),kE={class:"h-full flex overflow-hidden bg-slate-50"},OE={class:"w-80 bg-white border-r border-slate-200 p-6 flex flex-col shadow-sm"},IE={class:"bg-blue-50 p-4 rounded-xl mb-8 border border-blue-100"},RE={class:"flex items-center gap-3"},BE={class:"flex-1 space-y-8 overflow-y-auto pr-2"},NE={class:"flex justify-between items-center"},FE={class:"text-[11px] font-bold text-slate-500 uppercase tracking-widest"},zE={class:"bg-slate-100 px-2 py-0.5 rounded text-xs font-mono font-bold text-slate-700"},HE=["onUpdate:modelValue"],UE={class:"flex-1 p-8 overflow-y-auto"},qE={class:"max-w-5xl mx-auto"},VE={class:"flex justify-between items-end mb-8"},jE={class:"text-right"},WE={class:"text-2xl font-bold text-slate-800"},ZE={class:"overflow-hidden rounded-2xl border border-slate-200 shadow-xl bg-white"},$E={class:"w-full border-collapse text-sm"},GE={class:"p-4 text-center"},YE={class:"p-4"},XE={class:"font-bold text-slate-800 group-hover:text-blue-600 transition-colors"},KE={class:"text-[10px] text-slate-400"},JE={class:"p-4 text-center font-mono font-bold text-blue-700 bg-blue-50/20"},QE={class:"p-4 text-center"},tS={class:"font-medium"},eS={class:"w-12 mx-auto bg-slate-100 h-1 rounded-full overflow-hidden mt-1"},iS={class:"p-4 text-center font-medium"},nS={class:"p-4 text-center"},sS={class:"font-medium"},rS={class:"text-[8px] text-slate-400 uppercase mt-0.5"},oS={class:"p-4 text-center font-medium text-purple-600"},aS=Ui({__name:"PilotageView",setup(e){const t=Gn(),i=$e(()=>{const r=[],o=t.pasMetrics,a=Object.keys(o);if(a.length===0)return[];let u=0,c=0,f=200,d=0,_=0,b=0;return a.forEach(x=>{const C=o[x];C.effectif>u&&(u=C.effectif);const A=parseFloat(C.dist);A>c&&(c=A);const T=parseFloat(C.ips)||100;T>d&&(d=T),T<f&&T>0&&(f=T);const Z=(C.repCount||0)+(C.repPlusCount||0);Z>_&&(_=Z),C.ulisCount>b&&(b=C.ulisCount)}),a.forEach(x=>{const C=o[x],A=parseFloat(C.ips)||100,T=parseFloat(C.dist),Z=(C.repCount||0)+(C.repPlusCount||0),w=(d-A)/(d-f||1)*10,F=_?Z/_*10:0,k=b?C.ulisCount/b*10:0,P=c?T/c*10:0,j=u?C.effectif/u*10:0,q=w*t.simulConfig.weights.ips+F*t.simulConfig.weights.rep+k*t.simulConfig.weights.inclusion+P*t.simulConfig.weights.dist+j*t.simulConfig.weights.eff;r.push({name:x,metrics:C,score:q,normalized:{ips:w,rep:F,inc:k,dist:P,eff:j}})}),r.sort((x,C)=>C.score-x.score)}),n=t.simulConfig.weights;return(r,o)=>(Ht(),Vt("div",kE,[Y("div",OE,[o[3]||(o[3]=Y("h2",{class:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2"},[Y("span",{class:"material-icons text-blue-600"},"tune"),_i(" Simulation ")],-1)),Y("div",IE,[o[2]||(o[2]=Y("label",{class:"block text-[10px] font-bold text-blue-800 uppercase tracking-wider mb-2"},"Cible PAS Renforcs",-1)),Y("div",RE,[ys(Y("input",{type:"number","onUpdate:modelValue":o[0]||(o[0]=a=>Gt(t).simulConfig.targetCount=a),class:"w-20 bg-white p-2 rounded-lg border border-blue-200 font-bold text-center text-blue-900 focus:ring-2 focus:ring-blue-400 outline-none"},null,512),[[xa,Gt(t).simulConfig.targetCount,void 0,{number:!0}]]),o[1]||(o[1]=Y("span",{class:"text-xs text-blue-600 font-medium"},"secteurs prioritaires",-1))])]),Y("div",BE,[(Ht(!0),Vt(ke,null,Un(Gt(n),(a,u)=>(Ht(),Vt("div",{key:u,class:"space-y-3"},[Y("div",NE,[Y("span",FE,Ut(u),1),Y("span",zE,Ut(a),1)]),ys(Y("input",{type:"range","onUpdate:modelValue":c=>Gt(t).simulConfig.weights[u]=c,min:"0",max:"10",step:"0.5",class:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"},null,8,HE),[[xa,Gt(t).simulConfig.weights[u],void 0,{number:!0}]])]))),128))]),o[4]||(o[4]=Y("div",{class:"mt-8 pt-4 border-t border-slate-100 text-[10px] text-slate-400 leading-relaxed italic"}," Le score est calcul en normalisant chaque indicateur sur une chelle de 0  10, puis en appliquant les coefficients ci-dessus. ",-1))]),Y("div",UE,[Y("div",qE,[Y("div",VE,[o[6]||(o[6]=Y("div",null,[Y("h1",{class:"text-2xl font-black text-slate-900 leading-tight"},"Classement des PAS"),Y("p",{class:"text-slate-500"},"Bas sur les indicateurs de prcarit, d'loignement et d'inclusion.")],-1)),Y("div",jE,[o[5]||(o[5]=Y("span",{class:"text-[10px] font-bold text-slate-400 uppercase block mb-1"},"Total secteurs",-1)),Y("span",WE,Ut(i.value.length),1)])]),Y("div",ZE,[Y("table",$E,[o[7]||(o[7]=Y("thead",null,[Y("tr",{class:"bg-slate-800 text-white text-left uppercase text-[10px] tracking-wider font-bold"},[Y("th",{class:"p-4 w-16 text-center"},"Rang"),Y("th",{class:"p-4"},"Secteur PAS"),Y("th",{class:"p-4 text-center"},"Score"),Y("th",{class:"p-4 text-center"},"IPS"),Y("th",{class:"p-4 text-center"},"Dist."),Y("th",{class:"p-4 text-center"},"EP (%)"),Y("th",{class:"p-4 text-center"},"Inc.")])],-1)),Y("tbody",null,[(Ht(!0),Vt(ke,null,Un(i.value,(a,u)=>(Ht(),Vt("tr",{key:a.name,class:Me(["border-b border-slate-100 transition-colors hover:bg-slate-50 group",{"bg-blue-50/50":u<Gt(t).simulConfig.targetCount}])},[Y("td",GE,[Y("span",{class:Me(["inline-flex items-center justify-center w-8 h-8 rounded-full font-black",u<Gt(t).simulConfig.targetCount?"bg-blue-600 text-white shadow-md":"bg-slate-100 text-slate-400"])},Ut(u+1),3)]),Y("td",YE,[Y("div",XE,Ut(a.name),1),Y("div",KE,Ut(a.metrics.dominantCirc||"Non dfini"),1)]),Y("td",JE,Ut(a.score.toFixed(1)),1),Y("td",QE,[Y("div",tS,Ut(a.metrics.ips),1),Y("div",eS,[Y("div",{class:"bg-green-500 h-full",style:Es({width:a.normalized.ips*10+"%"})},null,4)])]),Y("td",iS,Ut(a.metrics.dist),1),Y("td",nS,[Y("div",sS,Ut((a.metrics.repRatio*100).toFixed(0))+"%",1),Y("div",rS,Ut(a.metrics.repCount+a.metrics.repPlusCount)+" tab.",1)]),Y("td",oS,Ut(a.metrics.ulisCount),1)],2))),128))])])])])])]))}}),lS=(e,t)=>{const i=e.__vccOpts||e;for(const[n,r]of t)i[n]=r;return i},uS=lS(aS,[["__scopeId","data-v-15b78a82"]]),cS={class:"flex gap-1 bg-slate-100 p-1 rounded-lg"},hS={key:0,class:"animate-pulse bg-amber-100 text-amber-700 px-2 py-1 rounded text-xs font-bold border border-amber-300"},fS={class:"space-y-6"},dS={class:"relative mb-4"},pS=["value"],gS={class:"space-y-3"},mS=["value"],_S=["value"],vS=["value"],yS=["value"],bS={key:0,class:"w-full h-full flex flex-col"},xS={class:"p-1 rounded hover:bg-slate-200 text-slate-400"},wS={class:"h-full pt-10"},ES={class:"p-1 rounded hover:bg-slate-200 text-slate-400"},SS={class:"h-[calc(100%-40px)]"},AS={key:1,class:"w-full h-full bg-white"},CS={key:0},DS={key:1},TS={class:"mt-4 p-4 bg-slate-50 rounded border border-slate-200"},PS={class:"text-xs space-y-1"},LS={key:2,class:"text-slate-500 italic text-center mt-10"},MS=Ui({__name:"App",setup(e){const t=Gn(),i=Ce(!0),n=Ce(!0),r=()=>{typeof t.exportToCsv=="function"?t.exportToCsv():Tp(t.schools,"data.csv")},o=async()=>{if(typeof t.saveData!="function"){console.error("Store actions check:",Object.keys(t).filter(c=>typeof t[c]=="function")),alert(" Erreur Critique : La fonction d'enregistrement manque dans le store. Veuillez rafrachir la page (Ctrl+F5).");return}const u=await t.saveData();alert(u?" Modifications enregistres avec succs !":" Erreur lors de l'enregistrement.")},a=()=>{if(typeof t.resetData!="function"){alert(" Fonction de rinitialisation manquante. Veuillez rafrachir la page.");return}confirm(` Voulez-vous vraiment rinitialiser toutes les donnes ? 

Cela supprimera vos modifications et rechargera le fichier CSV d'origine.`)&&t.resetData()};return Za(async()=>{try{if(!await t.loadFromStorage()){const f=await fetch("/pas-cockpit/data/data.csv");if(f.ok){const d=await f.text(),_=await fv(d);t.setSchools(_)}}await Ea.loadSectors(),t.setSectorsGeoJson(Ea.getAllCollegeSectors());const c=await dv();t.setRhData(c)}catch(u){console.error("Failed to load data",u)}}),(u,c)=>(Ht(),ro(Av,null,B_({"header-center":Hs(()=>[Y("div",cS,[Y("button",{onClick:c[0]||(c[0]=f=>Gt(t).setView("MAP")),class:Me(["px-3 py-1 text-xs font-bold rounded transition-all flex items-center gap-1.5",Gt(t).currentView==="MAP"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"])},[...c[7]||(c[7]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[Y("path",{d:"M3 6h18"}),Y("path",{d:"M3 12h18"}),Y("path",{d:"M3 18h18"})],-1),_i(" Carte ",-1)])],2),Y("button",{onClick:c[1]||(c[1]=f=>Gt(t).setView("PILOTAGE")),class:Me(["px-3 py-1 text-xs font-bold rounded transition-all flex items-center gap-1.5",Gt(t).currentView==="PILOTAGE"?"bg-white text-blue-600 shadow-sm":"text-slate-500 hover:text-slate-700"])},[...c[8]||(c[8]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"},[Y("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),Y("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})],-1),_i(" Pilotage ",-1)])],2)])]),"header-actions":Hs(()=>[Gt(t).hasUnsavedChanges?(Ht(),Vt("div",hS,"  Modifications non enregistres ")):He("",!0),Y("button",{onClick:o,class:"bg-green-600 text-white px-3 py-1.5 rounded text-sm font-bold shadow hover:bg-green-700 transition-colors flex items-center gap-2",title:"Enregistrer les modifications dans la base locale"},[...c[9]||(c[9]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Y("path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}),Y("path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}),Y("path",{d:"M7 3v4a1 1 0 0 0 1 1h7"})],-1),Y("span",null,"Enregistrer",-1)])]),Y("button",{onClick:r,class:"bg-blue-600 text-white px-3 py-1.5 rounded text-sm font-bold shadow hover:bg-blue-700 transition-colors flex items-center gap-2",title:"Tlcharger le fichier CSV (data.csv) pour mise  jour sur GitHub"},[...c[10]||(c[10]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Y("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),Y("polyline",{points:"7 10 12 15 17 10"}),Y("line",{x1:"12",x2:"12",y1:"15",y2:"3"})],-1),Y("span",null,"Tlcharger CSV",-1)])]),c[12]||(c[12]=Y("div",{class:"h-6 w-px bg-slate-200 mx-1"},null,-1)),Y("button",{onClick:a,class:"text-slate-400 hover:text-red-500 transition-colors p-1.5",title:"Rinitialiser l'application (supprimer les modifications)"},[...c[11]||(c[11]=[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Y("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),Y("path",{d:"M3 3v5h5"})],-1)])])]),main:Hs(()=>[Gt(t).currentView==="MAP"?(Ht(),Vt("div",bS,[Y("div",{class:Me(["relative transition-all duration-300 ease-in-out border-b border-slate-300",i.value?"flex-1 min-h-[200px]":"h-10"])},[Y("div",{class:"absolute top-0 left-0 right-0 h-10 bg-slate-50 border-b border-slate-200 flex items-center justify-between px-3 z-[500] cursor-pointer",onClick:c[5]||(c[5]=f=>i.value=!i.value)},[c[21]||(c[21]=Y("span",{class:"text-xs font-bold uppercase text-slate-500 flex items-center gap-2"},[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[Y("polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"}),Y("line",{x1:"9",x2:"9",y1:"3",y2:"18"}),Y("line",{x1:"15",x2:"15",y1:"6",y2:"21"})]),_i(" Carte ")],-1)),Y("button",xS,[(Ht(),Vt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:Me([i.value?"rotate-180":"","transition-transform"])},[...c[20]||(c[20]=[Y("path",{d:"m6 9 6 6 6-6"},null,-1)])],2))])]),ys(Y("div",wS,[Te(Ry)],512),[[Nl,i.value]]),ys(Y("div",{class:"absolute bottom-4 left-4 bg-white/90 backdrop-blur px-3 py-1 rounded shadow text-xs font-bold z-[400]"},Ut(Gt(t).filteredSchools.length)+" coles ",513),[[Nl,i.value]])],2),Y("div",{class:Me(["bg-slate-100 overflow-hidden transition-all duration-300 ease-in-out",n.value?"flex-1 min-h-[200px]":"h-10"])},[Y("div",{class:"h-10 bg-slate-50 border-b border-slate-200 flex items-center justify-between px-3 cursor-pointer",onClick:c[6]||(c[6]=f=>n.value=!n.value)},[c[23]||(c[23]=Y("span",{class:"text-xs font-bold uppercase text-slate-500 flex items-center gap-2"},[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[Y("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),Y("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),Y("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),Y("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]),_i(" Liste des PAS ")],-1)),Y("button",ES,[(Ht(),Vt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2",class:Me([n.value?"":"rotate-180","transition-transform"])},[...c[22]||(c[22]=[Y("path",{d:"m6 9 6 6 6-6"},null,-1)])],2))])]),ys(Y("div",SS,[Te(y2)],512),[[Nl,n.value]])],2)])):(Ht(),Vt("div",AS,[Te(uS)]))]),_:2},[Gt(t).currentView==="MAP"?{name:"sidebar",fn:Hs(()=>[Y("div",fS,[Y("div",null,[Y("div",dS,[c[13]||(c[13]=Y("span",{class:"absolute inset-y-0 left-0 flex items-center pl-2 text-slate-400"},[Y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[Y("circle",{cx:"11",cy:"11",r:"8"}),Y("path",{d:"m21 21-4.3-4.3"})])],-1)),Y("input",{type:"text",value:Gt(t).searchQuery,onInput:c[2]||(c[2]=f=>Gt(t).setSearchQuery(f.target.value)),placeholder:"Recherche (Nom, Ville, UAI)...",class:"w-full pl-8 pr-2 py-2 text-sm border border-slate-300 rounded shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,40,pS)]),c[18]||(c[18]=Y("h3",{class:"font-bold text-xs uppercase text-slate-400 mb-2"},"Filtres Gographiques",-1)),Y("div",gS,[Y("div",null,[c[15]||(c[15]=Y("label",{class:"block text-xs font-bold text-slate-700 mb-1"},"Bassin",-1)),Y("select",{value:Gt(t).filters.bassin,onChange:c[3]||(c[3]=f=>Gt(t).setFilter("bassin",f.target.value)),class:"w-full text-sm border-slate-300 rounded shadow-sm focus:border-blue-500 focus:ring-blue-500"},[c[14]||(c[14]=Y("option",{value:"TOUS"},"Tous les bassins",-1)),(Ht(!0),Vt(ke,null,Un(Gt(t).availableBassins,f=>(Ht(),Vt("option",{key:f,value:f},Ut(f),9,_S))),128))],40,mS)]),Y("div",null,[c[17]||(c[17]=Y("label",{class:"block text-xs font-bold text-slate-700 mb-1"},"Circonscription",-1)),Y("select",{value:Gt(t).filters.circ,onChange:c[4]||(c[4]=f=>Gt(t).setFilter("circ",f.target.value)),class:"w-full text-sm border-slate-300 rounded shadow-sm focus:border-blue-500 focus:ring-blue-500"},[c[16]||(c[16]=Y("option",{value:"TOUTES"},"Toutes les circonscriptions",-1)),(Ht(!0),Vt(ke,null,Un(Gt(t).availableCircs,f=>(Ht(),Vt("option",{key:f,value:f},Ut(f),9,yS))),128))],40,vS)])])]),Y("div",null,[c[19]||(c[19]=Y("h3",{class:"font-bold text-xs uppercase text-slate-400 mb-2"},"Statistiques",-1)),Te(Dw)])])]),key:"0"}:void 0,Gt(t).currentView==="MAP"?{name:"right-panel",fn:Hs(()=>[Gt(t).selectedPas&&!Gt(t).selectedSchool?(Ht(),Vt("div",CS,[Te(ME)])):Gt(t).selectedSchool?(Ht(),Vt("div",DS,[Te(Vp,{school:Gt(t).selectedSchool},null,8,["school"]),Y("div",TS,[c[27]||(c[27]=Y("h4",{class:"font-bold text-sm mb-2"},"Informations",-1)),Y("div",PS,[Y("p",null,[c[24]||(c[24]=Y("strong",null,"UAI:",-1)),_i(" "+Ut(Gt(t).selectedSchool.UAI),1)]),Y("p",null,[c[25]||(c[25]=Y("strong",null,"Commune:",-1)),_i(" "+Ut(Gt(t).selectedSchool.Commune),1)]),Y("p",null,[c[26]||(c[26]=Y("strong",null,"Circonscription:",-1)),_i(" "+Ut(Gt(t).selectedSchool.Circonscription),1)])])])])):(Ht(),Vt("div",LS," Slectionnez une cole ou un PAS pour voir les dtails. "))]),key:"1"}:void 0]),1024))}}),kg=W0(MS);kg.use(G0());kg.mount("#app");
